<!DOCTYPE html> <html class="theme-next pisces" lang="zh-Hans"> <head><meta name="generator" content="Hexo 3.9.0"> <title>用HTML5无罪，挺CSS3有理_《Hi, Kainy》学习笔记,建站❤编程,HTML,》css3,标准,html5,普及,</title> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name="theme-color" content="#222"> <meta name="referrer" content="never"> <meta http-equiv="Cache-Control" content="no-transform"> <meta http-equiv="Cache-Control" content="no-siteapp"> <link href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox/dist/jquery.fancybox.min.css" rel="stylesheet" type="text/css"> <link href="//fonts.loli.net/css?family=Sigmar One:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"> <link href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"> <link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet" type="text/css"> <link href="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/css/main.css?v=0.0.2" rel="stylesheet" type="text/css"> <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/images/Kainy.jpg?v=0.0.2"> <link rel="icon" type="image/png" sizes="32x32" href="https://kainy.cn/favicon.ico?v=0.0.2"> <link rel="mask-icon" href="/images/Kainy.jpg?v=0.0.2" color="#222"> <meta name="keywords" content="css3,标准,html5,普及,"> <link rel="alternate" href="/atom.xml" title="Hi, Kainy" type="application/atom+xml"> <meta name="description" content="新特性无法很好地在现有浏览器中展现，是阻碍网页设计者采用最新技术的最大因素。除非你能够接受自己设计的网页在不同浏览器中有不同的外观，才有可能在现有环境下开始使用HTML5和CSS3。 虽然HTML5还 停留在草案阶段；然而换一种思路，如果你在等待CSS3的“完成”，也许将无法在有生之年看到那天的到来——要知道CSS2至今都未能为所有浏览器所支持！ 本文作者的观点是：应该让每个用户获得效益最大化。对"> <meta name="keywords" content="css3,标准,html5,普及"> <meta property="og:type" content="article"> <meta property="og:title" content="用HTML5无罪，挺CSS3有理"> <meta property="og:url" content="https://blogs.kainy.cn/2010/12/用HTML5无罪，挺CSS3有理/index.html"> <meta property="og:site_name" content="Hi, Kainy"> <meta property="og:description" content="新特性无法很好地在现有浏览器中展现，是阻碍网页设计者采用最新技术的最大因素。除非你能够接受自己设计的网页在不同浏览器中有不同的外观，才有可能在现有环境下开始使用HTML5和CSS3。 虽然HTML5还 停留在草案阶段；然而换一种思路，如果你在等待CSS3的“完成”，也许将无法在有生之年看到那天的到来——要知道CSS2至今都未能为所有浏览器所支持！ 本文作者的观点是：应该让每个用户获得效益最大化。对"> <meta property="og:locale" content="zh-Hans"> <meta property="og:image" content="http://a.kainy.cn/201012/universal_IE6.jpg"> <meta property="og:image" content="http://a.kainy.cn/201012/1292601103-jquerySelectivizr.png"> <meta property="og:updated_time" content="2020-10-24T11:16:57.000Z"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="用HTML5无罪，挺CSS3有理"> <meta name="twitter:description" content="新特性无法很好地在现有浏览器中展现，是阻碍网页设计者采用最新技术的最大因素。除非你能够接受自己设计的网页在不同浏览器中有不同的外观，才有可能在现有环境下开始使用HTML5和CSS3。 虽然HTML5还 停留在草案阶段；然而换一种思路，如果你在等待CSS3的“完成”，也许将无法在有生之年看到那天的到来——要知道CSS2至今都未能为所有浏览器所支持！ 本文作者的观点是：应该让每个用户获得效益最大化。对"> <meta name="twitter:image" content="http://a.kainy.cn/201012/universal_IE6.jpg"> <script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"0.0.2",sidebar:{position:"right",display:"always",offset:52,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!1,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},since:"11/16/2009 20:02:00",onlineAPI:"wss://gqmg.com/api/online/",site:{title:"Hi, Kainy",subtitle:"",author:"Kainy Guo"},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},leancloud:{enable:!0,appID:"oFzER5Md14zatgVrAceRJxDq-gzGzoHsz",appKey:"Q5M5sXAGhSkcmDkN0KWtPLvY"},favicon:{visibilitychange:!0,narmal:"https://kainy.cn/favicon.ico",hidden:"/images/failure.ico",show_text:"(/≧▽≦/)咦！又好了！",hide_text:"(●—●)喔哟，崩溃啦！"}}</script> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.2/dist/disqus.js"></script> <link rel="canonical" href="https://blogs.kainy.cn/2010/12/用HTML5无罪，挺CSS3有理/"> </head> <body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans" class="theme-darling"> <div class="container sidebar-position-right page-post-detail"> <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"> <div class="header-inner"><nav class="site-nav"> <ul id="menu" class="menu"> <li class="menu-item menu-item-首页"> <a href="/" rel="section"> <i class="menu-item-icon fa fa-fw fa-home"></i> <br> 首页 </a> </li> <li class="menu-item menu-item-归档"> <a href="/archives/index.html" rel="section"> <i class="menu-item-icon fa fa-fw fa-archive"></i> <br> 归档 </a> </li> <li class="menu-item menu-item-分类"> <a href="/categories/index.html" rel="section"> <i class="menu-item-icon fa fa-fw fa-th"></i> <br> 分类 </a> </li> <li class="menu-item menu-item-标签"> <a href="/tags/index.html" rel="section"> <i class="menu-item-icon fa fa-fw fa-tags"></i> <br> 标签 </a> </li> <li class="menu-item menu-item-朋友圈"> <a href="/友链申请/index.html" rel="section"> <i class="menu-item-icon fa fa-fw fa-mars"></i> <br> 朋友圈 </a> </li> <li class="menu-item menu-item-更多"> <a href="javascript:;" rel="section"> <i class="menu-item-icon fa fa-fw fa-sign-language"></i> <br> 更多 </a> <ul class="submenu submenu-更多"> <li class="submenu-item submenu-item-电影"> <a href="/movies/index.html" rel="section" target="_blank"> 电影 </a> </li> <li class="submenu-item submenu-item-相册"> <a href="https://gallery.kainy.cn/?ADTAG=blogs.header" rel="section" target="_blank"> 相册 </a> </li> <li class="submenu-item submenu-item-instag"> <a href="/instagram/" rel="section" target="_blank"> Instag </a> </li> <li class="submenu-item submenu-item-github"> <a href="https://github.com/kainy" rel="external nofollow noopener noreferrer" target="_blank"> GitHub </a> </li> <li class="submenu-item submenu-item-twitter"> <a href="https://twitter.com/kainyguo" rel="external nofollow noopener noreferrer" target="_blank"> Twitter </a> </li> <li class="submenu-item submenu-item-公众号"> <a href="https://mp.weixin.qq.com/mp/qrcode?scene=10000005&size=123&__biz=MjM5ODQ2NjQyMA==&mid=2652371523&idx=1&sn=08ea8d678dd7e7a528edb0e2897153ba&send_time=" rel="external nofollow noopener noreferrer" target="_blank"> 公众号 </a> </li> </ul> </li> <li class="menu-item menu-item-search"> <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br> 搜索 </a> </li> <li class="menu-item online"><span id="online-count">?</span>人在线</li> </ul> <div class="site-search"> <div class="popup search-popup local-search-popup"> <div class="local-search-header clearfix"> <span class="search-icon"> <i class="fa fa-search"></i> </span> <span class="popup-btn-close"> <i class="fa fa-times-circle"></i> </span> <div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="点此输入关键词搜索…" spellcheck="false" type="text" id="local-search-input"> </div> </div> <div id="local-search-result"></div> </div> </div> </nav> <div class="site-brand-wrapper" style="background-image:url(/images/header-darling4.jpg)"> <div class="site-meta"> <div class="custom-logo-site-title"> <div class="brand"> <span class="logo-line-before"><i></i></span> <div class="site-title"> <div id="animate" class="animate"> <span>H</span><span>i</span><span>,</span><span> </span><span>K</span><span>a</span><span>i</span><span>n</span><span>y</span> </div> <div id="guide" class="guide"> <span>H</span><span>i</span><span>,</span><span> </span><span>K</span><span>a</span><span>i</span><span>n</span><span>y</span> </div> </div> <span class="logo-line-after"><i></i></span> </div> </div> <p class="site-subtitle"></p> </div> <div class="site-nav-toggle"> <button> <span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span> </button> </div> </div> <div class="site-master" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-master-avatar" itemprop="image" src="//tva2.sinaimg.cn/crop.0.0.180.180.180/4d6e3e3bjw1e8qgp5bmzyj2050050aa8.jpg" alt="Kainy Guo"> <h2 class="site-master-description" itemprop="description"> <span>碰到的事因你而生</span><span>遇见的人为你而来</span> </h2> </div> </div> </header> <main id="main" class="main"> <div class="main-inner"> <div class="content-wrap"> <div id="content" class="content"> <div id="posts" class="posts-expand"> <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"> <div class="post-date"> <div class="post-month">12月</div> <div class="post-day">16</div> </div> <div class="post-badge"> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/学习笔记/" itemprop="url" rel="index"> <span itemprop="name">学习笔记</span> </a> </span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/学习笔记/建站❤编程/" itemprop="url" rel="index"> <span itemprop="name">建站❤编程</span> </a> </span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"> <a href="/categories/学习笔记/建站❤编程/HTML/" itemprop="url" rel="index"> <span itemprop="name">HTML</span> </a> </span> </div> <div class="post-block"> <link itemprop="mainEntityOfPage" href="https://blogs.kainy.cn/2010/12/用HTML5无罪，挺CSS3有理/"> <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"> <meta itemprop="name" content="Kainy Guo"> <meta itemprop="description" content> <meta itemprop="image" content="//tva2.sinaimg.cn/crop.0.0.180.180.180/4d6e3e3bjw1e8qgp5bmzyj2050050aa8.jpg"> </span> <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"> <meta itemprop="name" content="Hi, Kainy"> </span> <header class="post-header"> <h1 class="post-title" itemprop="name headline">用HTML5无罪，挺CSS3有理</h1> <div class="post-meta"> <span class="post-time"> <span class="post-meta-item-icon"> <i class="fa fa-calendar-o"></i> </span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2010-12-16T23:34:45+08:00">2010-12-16</time> </span> <span class="post-wordcount"> <span class="post-meta-divider">•</span> <span class="post-meta-item-icon"> <i class="fa fa-file-word-o"></i> </span> <span class="post-meta-item-text">字数统计</span> <span title="字数统计">2865</span> </span> <span id="/2010/12/用HTML5无罪，挺CSS3有理/" class="leancloud_visitors" data-flag-title="用HTML5无罪，挺CSS3有理"> <span class="post-meta-divider">•</span> <span class="post-meta-item-icon"> <i class="fa fa-eye"></i> </span> <span class="post-meta-item-text">阅读次数</span> <span class="leancloud-visitors-count"></span> </span> </div> </header> <div class="post-body" itemprop="articleBody"> <p>新特性无法很好地在现有浏览器中展现，是阻碍网页设计者采用最新技术的最大因素。除非你能够接受自己设计的网页在不同浏览器中有不同的外观，才有可能在现有环境下开始使用HTML5和CSS3。</p> <p>虽然HTML5还 停留在草案阶段；然而换一种思路，如果你在等待CSS3的“完成”，也许将无法在有生之年看到那天的到来——要知道CSS2至今都未能为所有浏览器所支持！</p> <p>本文作者的观点是：应该让每个用户获得效益最大化。对于那些使用前沿浏览器的用户，我们有什么理由不充分发挥哪些浏览器所提供的新特性？（呵呵，貌似和我《<a href="http://blog.kainy.cn/2010/11/kaistique/" rel="external nofollow noopener noreferrer" target="_blank">比较拉风的特效尝试</a>》中的观点相似，<strong>渐进增强</strong>与<strong>平稳退化</strong>）.</p> <p>说是这样说，但要推进新技术普及，比较务实的做法还是提供平滑过渡的方法，故文章大部分内容是关于HTML5和css3跨浏览器降级兼容方案，有兴趣者可继续往下看：<a id="more"></a></p> <p>以下内容来自：<a href="http://net.tutsplus.com/tutorials/html-css-techniques/html5-and-css3-without-guilt" rel="external nofollow noopener noreferrer" target="_blank">http://net.tutsplus.com/tutorials/html-css-techniques/html5-and-css3-without-guilt</a></p> <p>Not every HTML5 or CSS3 feature has widespread browser support, naturally. To compensate for this, enterprising developers have created a number of tools to let you use these technologies today, without leaving behind users who still live in the stone age.</p> <hr> <h2 id="Prologue"><a href="#Prologue" class="headerlink" title="Prologue"></a>Prologue</h2><h3 id="HTML5-Semantic-Elements"><a href="#HTML5-Semantic-Elements" class="headerlink" title="HTML5 Semantic Elements"></a>HTML5 Semantic Elements</h3><p>The good news is that, except for Internet Explorer, you can create more semantic markup by using the new HTML5 elements — even in browsers which don’t officially support them. Just remember to set the correct display mode: <code>block</code>. The following snippet should reference all necessary elements:</p> <pre>article,aside,details,figcaption,figure,
footer,header,hgroup,menu,nav,section {
   display: block;
}</pre> <h3 id="IE-Conditional-Comments"><a href="#IE-Conditional-Comments" class="headerlink" title="IE Conditional Comments"></a>IE Conditional Comments</h3><p>Implementing many of the solutions in this tutorial involves including some JavaScript for specific Internet Explorer releases. Here is a quick overview: the test expression is enclosed in square brackets. We can check for specific versions or versions above or below a stated version. <code>lt</code> and <code>gt</code> mean _lower than _and <em>greater than</em>, respectively, while <code>lte</code> and <code>gte</code> mean <em>lower than or equal to</em> and <em>greater than or equal to</em>.</p> <p>Here are some quick examples:</p> <p><pre>[if IE 6]</pre><br>Checks if the browser is Internet Explorer 6.</p> <p><pre>[if gt IE 6]</pre><br>Checks for a version of Internet Explorer <em>greater</em> than 6.</p> <hr> <h2 id="Tool-1-HTML5-Shiv"><a href="#Tool-1-HTML5-Shiv" class="headerlink" title="Tool 1: HTML5 Shiv"></a>Tool 1: HTML5 Shiv</h2><p>In anything IE, excluding the most recent version (IE9), you cannot apply styles to elements that the browser does not recognize. Your spiffy, new HTML5 elements, in all their glory, are impervious to CSS rules in that environment. This is where Remy Sharp’s <a href="http://code.google.com/p/html5shiv/" rel="external nofollow noopener noreferrer" target="_blank">html5shiv</a> (sometimes called html5 shim) comes to the rescue. Simply include it in your page’s <code>&amp;lt;head&amp;gt;</code> section and you will be able to style the new HTML5 elements perfectly.</p> <p><pre>&lt;!–[if lt IE 9]&gt;</pre></p> <p>&lt;script src=”<a href="http://html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script" rel="external nofollow noopener noreferrer" target="_blank">http://html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script</a>&gt;<br>&lt;![endif]–&gt;<br>Notice how the conditional comments only load the html5shiv code on the condition that the version of Internet Explorer is lower than 9. Other browsers, such as Firefox and Chrome, will also ignore this tag and won’t execute the script, thus saving bandwidth.</p> <p>html5 shiv is based on a simple workaround: it directs IE to create the elements with JavaScript (they don’t even need to be inserted into the DOM).</p> <p><pre>document.createElement(‘header’);</pre><br>At this point, they can be styled normally. Additionally, the more recent versions integrate <a href="http://www.iecss.com/print-protector/" rel="external nofollow noopener noreferrer" target="_blank">IE Print Protector</a>, which fixes a bug where the HTML5 elements disappear when printing the page..</p> <hr> <h2 id="Tool-2-Modernizr"><a href="#Tool-2-Modernizr" class="headerlink" title="Tool 2: Modernizr"></a>Tool 2: Modernizr</h2><blockquote> <p>Modernizr allows you to provide “backup” styling in browsers that do not support certain HTML5 and CSS3 features.<br><a href="http://www.modernizr.com/" rel="external nofollow noopener noreferrer" target="_blank">Modernizr</a> is perhaps the best known of these tools, but it is also fairly misunderstood (the name does not help). Take a deep breath: contrary to popular misconception, Modernizr does <em>not</em> enable HTML5 and CSS3 functionalities in browsers that do not support them (although it <em>does</em> include html5shiv to allow you to use HTML5 elements in IE &lt; 9).<br>Apart from the html5shiv functionality, Modernizr does one thing and one thing only: it runs a series of feature detection tests when loaded, and then inserts the results into the <code>class</code> attribute of the <code>&amp;lt;html&amp;gt;</code> tag.<br>Modernizr’s primary purpose is to allow you to offer “backup” styling in browsers that do not support certain HTML5 and CSS3 features. This is somewhat different than traditional graceful degradation, where we use the same CSS styling in all browsers, and then engineer it so that, when specific capabilities are missing, the result is still acceptable.</p> </blockquote> <p>Now for an example of how Modernizr operates: if a browser supports <code>border-radius</code> and the <code>column-count</code>property, the following classes will be applied:</p> <p><pre>     &lt;html&gt;</pre><br>On the other hand, if the same properties are not supported — say, in IE7 — you will find:</p> <p><pre>     &lt;html&gt;</pre><br>At this point, you can then use these classes to apply unique styling in browsers with different capabilities. For instance, if you want to apply a different style to a paragraph, depending on whether CSS columns are supported, you can do:</p> <p><pre>  .csscolumns p {<br>    /<em> Style when columns available </em>/<br>   }</pre></p> <p> .no-csscolumns p {<br> /<em> Style when columns not available </em>/<br> }<br>If a browser does not support columns, the <code>.csscolumns</code> class will not be present in the body, and the browser will never have a chance to apply the rule which uses it.</p> <p>Some might object that this brings us back to the old times of building a different site for each browser. It is true that nothing stops you from writing so many style declarations that use advanced CSS3 features that your stylesheet becomes virtually empty when these rules cannot be applied.</p> <p>If you want to use Modernizr in a way that makes sense, you must rely on your design talent to conceive alternative styles that don’t break the design and don’t require throwing away the rest of the stylesheet. For example, you might try replacing drop shadows on letters, when they are not available, with a bold typeface or transparency with a different color.</p> <h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><p>To use Modernizr, include the minified file, and apply a class of <code>no-js</code> to the <code>&amp;lt;html&amp;gt;</code> element. This last precaution allows you to provide styles for when JavaScript is completely deactivated; obviously, in those cases, Modernizr can’t help you at all. If JavaScript is enabled, Modernizr will kick in and replace the <code>no-js</code> with the results of its feature detection operations.</p> <p><pre>&lt;head&gt;<br>&lt;script src=”modernizr-1.x.min.js” type=”text/javascript”&gt;&lt;/script&gt;</pre></p> <p>&lt;/head&gt;<br>&lt;body&gt;<br>. . . . .<br>&lt;/body&gt;<br>If you’re willing to accept that all websites needn’t display identically across all browsers, you’ll find that Modernizr is an essential tool in your web dev belt!</p> <hr> <h2 id="Tool-3-IE-6-Universal-CSS"><a href="#Tool-3-IE-6-Universal-CSS" class="headerlink" title="Tool 3: IE 6 Universal CSS"></a>Tool 3: IE 6 Universal CSS</h2><p>On the same note, designer <a href="http://www.stuffandnonsense.co.uk/blog" rel="external nofollow noopener noreferrer" target="_blank">Andy Clarke</a> has devised an <a href="http://code.google.com/p/universal-ie6-css/" rel="external nofollow noopener noreferrer" target="_blank">elegant solution</a> for solving IE6′s lack of standard compliance. Called “Universal IE6″, this stylesheet focuses exclusively on typography. The key is to use conditional comments to hide all other stylesheets from IE 6.</p> <p><pre>&lt;!–[if ! lte IE 6]&gt;&lt;!–&gt;<br>/<em> Stylesheets for browsers other than Internet Explorer 6 </em>/<br>&lt;!–&lt;![endif]–&gt;</pre></p> <p>&lt;!–[if lte IE 6]&gt;<br>&lt;link rel=”stylesheet” href=”<a href="http://universal-ie6-css.googlecode.com/files/ie6.1.1.css&quot;" rel="external nofollow noopener noreferrer" target="_blank">http://universal-ie6-css.googlecode.com/files/ie6.1.1.css&quot;</a> media=”screen, projection”&gt;<br>&lt;![endif]–&gt;<br><strong>Important Note</strong>: Remember to include the latest version, as instructions for older ones are still floating around the web. The final results looks like so:</p> <p><a href="http://a.kainy.cn/201012/universal_IE6.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="http://a.kainy.cn/201012/universal_IE6.jpg" alt="Universal IE6 CSS sample result"></a></p> <blockquote> <p>You have zero work to do to support IE 6 on a new site.<br>This approach has a pretty obvious advantage compared to classical alternate stylesheets: you have zero work to do to support IE 6 on a new site. The disadvantage, of course, is that the site displays very little of your design. Further, your HTML foundations also has to be rock-solid, in order for the page to be usable even with most styling disabled.</p> </blockquote> <p>Note that Universal IE6 CSS does not include any styling for HTML5-only elements such as <code>&amp;lt;section&amp;gt;</code> or<code>&amp;lt;footer&amp;gt;</code>. It is not a problem unless you are relying on those elements exclusively to obtain block level display for some parts of the page. Generally, you would always wrap your text also at least in a paragraph or list element.</p> <p>This solution is clearly not for everybody, and you might find clients who flat out disagree with their site looking_broken_when viewed in IE6.</p> <blockquote> <p>You might also argue that, at this point, you can just as well drop IE6 support entirely. Andy Clarke has summarized <a href="http://forabeautifulweb.com/blog/about/universal_internet_explorer_6_css" rel="external nofollow noopener noreferrer" target="_blank">his answers to these objections here</a>.<br>This approach works best for content-centric sites, and catastrophically for web applications; but then again, building a modern web application to work well on IE 6 is a challenge in itself.</p> </blockquote> <hr> <h2 id="Tool-4-Selectivizr"><a href="#Tool-4-Selectivizr" class="headerlink" title="Tool 4: Selectivizr"></a>Tool 4: Selectivizr</h2><p><a href="http://a.kainy.cn/201012/1292601103-jquerySelectivizr.png" rel="external nofollow noopener noreferrer" target="_blank"><img src="http://a.kainy.cn/201012/1292601103-jquerySelectivizr.png" alt="Selectivizr Support"></a></p> <p>Our next champion is a JavaScript utility which aims to introduce new capabilities into older browsers (well, actually just IE 6-8): <a href="http://selectivizr.com/" rel="external nofollow noopener noreferrer" target="_blank">Selectivizr</a> works in tandem with other JavaScript libraries such as jQuery, Dojo or MooTools to add support for a range of more advanced CSS selectors.</p> <p>I’ve listed a few below, though note that the full list of capabilities will be dependent upon your preferred JavaScript library.</p> <ul> <li><code>:hover</code></li> <li><code>:focus</code></li> <li><code>:first-child</code></li> <li><code>:last-child</code></li> <li><code>:first-line</code></li> <li><p><code>:first-letter</code><br>To use Selectivizr, download it from their home page and include it within your <code>&amp;lt;head&amp;gt;</code> section, together with one of the support libraries. Here is an example with jQuery:<br><pre>&lt;script src=”jquery-1.4.4.min.js”&gt;&lt;/script&gt;<br>&lt;!–[if lte IE 8]&gt;<br>&lt;script src=”selectivizr.js”&gt;&lt;/script&gt;</pre></p> <p>&lt;![endif]–&gt;</p> <blockquote> <p>Selectivizr works in tandem with other JavaScript libraries to provide CSS3 support for IE 6-8.<br>This point is very important: Selectivizr cannot work alone; it requires your preferred library to be present. Luckily, it is compatible with the huge majority of popular JavaScript libraries. Chances are, if you are using JavaScript on your site, you probably have an appropriate library already included.</p> </blockquote> </li> </ul> <h3 id="DOMAssisant"><a href="#DOMAssisant" class="headerlink" title="DOMAssisant"></a>DOMAssisant</h3><p>On the other hand, if you won’t be using a library as well, an alternative solution is to use the light weight<a href="http://www.domassistant.com/" rel="external nofollow noopener noreferrer" target="_blank">DOMAssistant</a>, although you might still prefer your usual JavaScript library for greater ease in managing files.</p> <p>Be careful though, as the precise selectors that Selectivizr makes available depends on which supporting library is chosen. According to the home page, right now the greatest range of selectors is available with MooTools, while unfortunately jQuery makes the least number of selectors available. It must also be said that some of the selectors that are not available with jQuery are quite exotic and rarely used in the real world usage. <strong><a href="http://net.tutsplus.com/tutorials/html-css-techniques/the-30-css-selectors-you-must-memorize/" rel="external nofollow noopener noreferrer" target="_blank">Refer to our “30 CSS Selectors you Must Memorize”</a> article for a full list of selectors.</strong></p> <p>As it happens, with most JavaScript solutions for CSS woes, some restrictions apply.</p> <ul> <li>For Selectivizr to perform its magic, stylesheets must be loaded from the same domain as HTML pages. This rules out, for instance, hosting stylesheets and other assets on a CDN.</li> <li>You are forced to use the <code>&amp;lt;link&amp;gt;</code> element to include your stylesheets (as opposed to <code>&amp;lt;style&amp;gt;</code>).</li> <li>Selectivizr does not update styling if the DOM changes after the page has finished loading (if you add elements in response to a user action, for instance).</li> </ul> <hr> <h2 id="Tool-5-CSS3Pie"><a href="#Tool-5-CSS3Pie" class="headerlink" title="Tool 5: CSS3Pie"></a>Tool 5: CSS3Pie</h2><p><a href="http://css3pie.com/" rel="external nofollow noopener noreferrer" target="_blank">CSS3Pie</a> also enhances Internet Explorer’s [6-8] capabilities, but in a much more native way, as it effectively enables the use of a number of spiffy CSS3 properties, like<code>border-radius, linear-gradient, box-shadow, border-image</code> as well as adds support for multiple backgrounds. Use CSS3Pie and say goodbye to manually sliced and positioned rounded corners.</p> <blockquote> <p>CSS3Pie: say goodbye to manually sliced and positioned rounded corners.<br>The way it works is by leveraging little known proprietary Microsoft extensions: the CSS <code>behavior</code> property and HTML component files (<a href="http://msdn.microsoft.com/en-us/library/ms532146%28v=VS.85%29.aspx" rel="external nofollow noopener noreferrer" target="_blank">official documentation</a>). This extension allows you to attach JavaScript to certain HTML elements using CSS. The JavaScript is included together with some Microsoft proprietary tags, in <code>.htc</code> files which are referenced within the style rules.<br>For this reason alone, many developers might argue that you shouldn’t use CSS3Pie. Internet Explorer’s proprietary tags are performance heavy and produce less-attractive output.<br>Why doesn’t CSS3Pie use plain JavaScript? Well there is a <a href="http://css3pie.com/documentation/pie-js/" rel="external nofollow noopener noreferrer" target="_blank">JS-specific version</a>, though the team advises against its usage, due to the fact that the JavaScript blocks the parsing of the page.</p> </blockquote> <p>With the current <code>.htc</code> solution, implementation is quite simple: you only need to upload a single file from the CSS3Pie distribution, <code>PIE.htc</code>, to your server. Afterward, every time you use one of the supported CSS3 properties, add the code below:</p> <p><pre>behavior: url(path/to/PIE.htc);</pre><br>Above, <code>path/to/PIE.htc</code> is the path, relative to the HTML file being served; <em>not</em> the stylesheet.</p> <h3 id="Server-Side-Instructions"><a href="#Server-Side-Instructions" class="headerlink" title="Server Side Instructions"></a>Server Side Instructions</h3><p>Of course, CSS3Pie can only do its magic in Internet Explorer. It also needs a bit of care and feeding on the server side:</p> <ul> <li>You should ensure that the <code>PIE.htc</code> file is served with a <code>text/x-component</code> content type. The distribution includes a PHP script that can take care of this if you are not allowed to modify your server configuration, for instance on a shared host.</li> <li><code>PIE.htc</code> can also trigger ActiveX warnings, usually when you are testing it on your localhost. This last problem requires the <a href="http://msdn.microsoft.com/en-us/library/ms537628%28VS.85%29.aspx" rel="external nofollow noopener noreferrer" target="_blank">Mark of the Web</a> workaround to be solved.<br>CSS3Pie is still, at the time of this writing, in beta mode – as there are still some <a href="http://css3pie.com/documentation/known-issues/" rel="external nofollow noopener noreferrer" target="_blank">kinks to be ironed out</a>.</li> </ul> <hr> <h2 id="Tool-6-HTML5-Boilerplate"><a href="#Tool-6-HTML5-Boilerplate" class="headerlink" title="Tool 6: HTML5 Boilerplate"></a>Tool 6: HTML5 Boilerplate</h2><blockquote> <p>HTML5 Boilerplate goes much further than your standard starter templates.<br><a href="http://html5boilerplate.com/" rel="external nofollow noopener noreferrer" target="_blank">HTML5 Boilerplate</a> can be described as a set of templates to help you get started building modern HTML5 websites as rapidly as possible. But HTML5 Boilerplate goes much further than your standard starter templates.</p> </blockquote> <p>For instance, it bundles the latest version of Modernizr (same creator), and the HTML even links to the latest Google-hosted jQuery, Yahoo profiler and Google Analytics scripts for you. The CSS contains the usual reset rules, but also a wealth of @media queries to get you started with <a href="http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-a-crash-course-in-css-media-queries/" rel="external nofollow noopener noreferrer" target="_blank">responsive web design</a> targeting mobile devices.</p> <h3 id="Configuration-Files"><a href="#Configuration-Files" class="headerlink" title="Configuration Files"></a>Configuration Files</h3><p>The most unique feature is that, on top of client configuration, you also get the server side: configuration files for Apache and Nginx. This allows you to maximize download speeds and optimize HTML5 video delivery. In particular, the <em>.htaccess</em> files for Apache might be very convenient to drop into a shared hosting account, as often things like <code>gzip</code> compression and <code>expires</code> are not active by default.</p> <h3 id="Does-it-do-too-Much"><a href="#Does-it-do-too-Much" class="headerlink" title="Does it do too Much?"></a>Does it do too Much?</h3><p>Some people might argue that HTML5 Boilerplate takes a bit too many decisions for them (hell, the Apache configuration even automatically strips www. in front of the domain name!) or that it is somewhat Google-centric, though, nonetheless, it’s always interesting to study the files and find what problems the authors have anticipated.</p> <p><strong>Further, you’re certainly encouraged to break it down for your personal needs. This is simply a boilerplate to get you started.</strong></p> <h3 id="A-Visual-Overview"><a href="#A-Visual-Overview" class="headerlink" title="A Visual Overview"></a>A Visual Overview</h3><p>If you want a detailed breakdown of everything HTML5 Boilerplate includes, Paul Irish recorded an exclusive<a href="http://net.tutsplus.com/tutorials/html-css-techniques/the-official-guide-to-html5-boilerplate/" rel="external nofollow noopener noreferrer" target="_blank">screencast</a> for Nettuts+.</p> <p><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="600" height="413" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="src" value="http://blip.tv/play/gcMVgffAOgI.m4v"><param name="wmode" value="transparent"><param name="allowfullscreen" value="true"><embed type="application/x-shockwave-flash" width="600" height="413" src="http://blip.tv/play/gcMVgffAOgI.m4v" allowfullscreen wmode="transparent"></object>(墙外)</p> <p>A fully commented version is available at <a href="http://www.html5boilerplate.com/" rel="external nofollow noopener noreferrer" target="_blank">html5boilerplate.com</a>.</p> <hr> <h2 id="Epilogue-Be-Bold"><a href="#Epilogue-Be-Bold" class="headerlink" title="Epilogue: Be Bold"></a>Epilogue: Be Bold</h2><p>Often, the fear of implementing features which do not enjoy full browser support discourages designers from adopting the latest technologies. While the demographics of your audience has to be considered carefully, as well as your client’s wishes, if you accept that sites don’t have to look the same in all browsers, it is possible to make full use today of HTML5 and CSS3.</p> <p>Think of it this way: if you wait until CSS3 “is complete,” you’ll be waiting forever. CSS2 isn’t even fully supported across all browsers yet! The guiding principle here is that every user should get the most bang for his buck: if he is using a bleeding edge browser, why not take advantage of all the features that browser provides?</p> <p>Let us know what you think about these issues in the comments. Thank you so much for reading!</p> <div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2013/02/用Navigation_Timing_API测试前端性能/">用Navigation Timing API测试前端性能</a></li><li><a href="https://blogs.kainy.cn/2012/08/CSS图层混合（blending）/">CSS图层混合（blending）</a></li><li><a href="https://blogs.kainy.cn/2010/12/为什么我们应该开始用CSS3和HTML5/">为什么我们应该开始用CSS3和HTML5</a></li><li><a href="https://blogs.kainy.cn/2010/11/比较拉风的特效尝试/">比较拉风的特效尝试</a></li><li><a href="https://blogs.kainy.cn/2010/11/调用Google_Maps_API实现HTML5_Geo定位/">调用Google Maps API实现HTML5 Geo定位</a></li><li><a href="https://blogs.kainy.cn/2010/10/'HTML5的设计[部分翻译]'/">HTML5的设计[部分翻译]</a></li></ul></div> </div> <div class="post-share">分享到：</div> <div> <div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"> <div></div> <button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'> <span>赞赏</span> </button> <div id="QR" style="display:none"> <div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/images/wechatpay.png" alt="Kainy Guo 微信扫一扫，向我赞赏"> <p>微信扫一扫，向我赞赏</p> </div> <div id="alipay" style="display:inline-block"> <img id="alipay_qr" src="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/images/alipay.png" alt="Kainy Guo 支付宝扫一扫，向我赞赏"> <p>支付宝扫一扫，向我赞赏</p> </div> </div> </div> </div> <footer class="post-footer"> <div class="post-tags"> <a href="/tags/css3/" rel="tag"># css3</a> <a href="/tags/标准/" rel="tag"># 标准</a> <a href="/tags/html5/" rel="tag"># html5</a> <a href="/tags/普及/" rel="tag"># 普及</a> </div> <div class="post-nav"> <div class="post-nav-next post-nav-item"> <a href="/2010/12/为什么我们应该开始用CSS3和HTML5/" rel="next" title="为什么我们应该开始用CSS3和HTML5"> <i class="fa fa-chevron-left"></i> 为什么我们应该开始用CSS3和HTML5 </a> </div> <span class="post-nav-divider"></span> <div class="post-nav-prev post-nav-item"> <a href="/2010/12/写在2010年关/" rel="prev" title="写在2010年关"> 写在2010年关 <i class="fa fa-chevron-right"></i> </a> </div> </div> </footer> </div> </article> <div class="post-spread"> </div> </div> </div> <div class="comments" id="comments"> <div id="disqus_thread"> <div id="dsqjs"> <section class="dsqjs-info"> <p id="dsqjs-load-disqus" class="dsqjs-message">评论完整模式加载中...如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理</p> </section> </div> </div> </div> <script type="text/javascript">window.initDiscusJS=function(){setTimeout(function(){window.DISQUS=null,new DisqusJS({shortname:"kainy",siteName:"Hi, Kainy",identifier:"2010/12/用HTML5无罪，挺CSS3有理/",url:"https://blogs.kainy.cn/2010/12/用HTML5无罪，挺CSS3有理/",api:"",apikey:"VCVhJ50T10WX1yYEPzfCdqPQgiUU9RSI6WZP7XORaZcEUJeYe91Nv1C3eNq5dpPn",admin:"admin",adminLabel:"博主"}),window.initDiscusJS=null},1234)}</script> </div> <div class="sidebar-toggle"> <div class="sidebar-toggle-line-wrap"> <span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span> </div> </div> <aside id="sidebar" class="sidebar"> <div class="sidebar-inner"> <ul class="sidebar-nav motion-element"> <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录 </li> <li class="sidebar-nav-overview" data-target="site-overview-wrap"> 关于作者 </li> </ul> <section class="site-overview-wrap sidebar-panel"> <div class="site-overview"> <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a href="https://gallery.kainy.cn/?ADTAG=blogs.sidebar" target="_blank"> <img class="site-author-image" itemprop="image" src="https://wx2.sinaimg.cn/mw690/4d6e3e3bly1fi9vk9cdtnj20zk0qotdg.jpg" alt="Kainy Guo"> </a> <p class="site-author-name" itemprop="name"><span style="opacity:.5">网友</span>Kainy</p> <p class="site-description motion-element" itemprop="description">关♥生活，关注互联网。</p> </div> <div class="links-of-author motion-element"> <span class="links-of-author-item"> <a href="https://twitter.com/KainyGuo" target="_blank" title="Twitter" data-balloon="Twitter" data-balloon-pos="up" rel="external nofollow noopener noreferrer"> <img src="https://img.shields.io/badge/dynamic/json?style=social&label=%20%E5%85%B3%E6%B3%A8%E8%80%85&query=%24.data.totalSubs&url=https%3A%2F%2Fapi.spencerwoo.com%2Fsubstats%2F%3Fsource%3Dtwitter%26queryKey%3DKainyGuo&color=1da1f2&logo=twitter" alt></a> </span> <span class="links-of-author-item"> <a href="https://github.com/Kainy" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up" rel="external nofollow noopener noreferrer"> <img src="https://img.shields.io/badge/dynamic/json?style=social&label=followers&query=%24.data.totalSubs&url=https%3A%2F%2Fapi.spencerwoo.com%2Fsubstats%2F%3Fsource%3Dgithub%26queryKey%3DKainy&color=181717&logo=github" alt></a> </span> </div> <div class="feed-link motion-element"> <a class="feed-email" href="http://eepurl.com/gjZFrf" rel="external nofollow noopener noreferrer" target="_blank"> <i class="fa fa-envelope"></i> <span>Email 订阅</span> </a> <a class="feed-rss" href="/atom.xml" rel="alternate" target="_blank"> <i class="fa fa-rss"></i> <span>RSS 订阅</span> </a> </div> <nav class="site-state motion-element"> <div class="site-state-item site-state-posts"> <a href="/archives/"> <span class="site-state-item-count">467</span> <span class="site-state-item-name">日志</span> </a> </div> <div class="site-state-item site-state-categories"> <a href="/categories/index.html"> <span class="site-state-item-count">23</span> <span class="site-state-item-name">分类</span> </a> </div> </nav> <div class="cc-license motion-element" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" target="_blank" rel="external nofollow noopener noreferrer"> <img src="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/images/cc-by-nc-sa.png" alt="Creative Commons"> </a> </div> </div> </section> <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"> <div class="post-toc"> <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Prologue"><span class="nav-number">1.</span> <span class="nav-text">Prologue</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML5-Semantic-Elements"><span class="nav-number">1.1.</span> <span class="nav-text">HTML5 Semantic Elements</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IE-Conditional-Comments"><span class="nav-number">1.2.</span> <span class="nav-text">IE Conditional Comments</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-1-HTML5-Shiv"><span class="nav-number">2.</span> <span class="nav-text">Tool 1: HTML5 Shiv</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-2-Modernizr"><span class="nav-number">3.</span> <span class="nav-text">Tool 2: Modernizr</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Usage"><span class="nav-number">3.1.</span> <span class="nav-text">Usage</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-3-IE-6-Universal-CSS"><span class="nav-number">4.</span> <span class="nav-text">Tool 3: IE 6 Universal CSS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-4-Selectivizr"><span class="nav-number">5.</span> <span class="nav-text">Tool 4: Selectivizr</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DOMAssisant"><span class="nav-number">5.1.</span> <span class="nav-text">DOMAssisant</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-5-CSS3Pie"><span class="nav-number">6.</span> <span class="nav-text">Tool 5: CSS3Pie</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Server-Side-Instructions"><span class="nav-number">6.1.</span> <span class="nav-text">Server Side Instructions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tool-6-HTML5-Boilerplate"><span class="nav-number">7.</span> <span class="nav-text">Tool 6: HTML5 Boilerplate</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuration-Files"><span class="nav-number">7.1.</span> <span class="nav-text">Configuration Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Does-it-do-too-Much"><span class="nav-number">7.2.</span> <span class="nav-text">Does it do too Much?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-Visual-Overview"><span class="nav-number">7.3.</span> <span class="nav-text">A Visual Overview</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Epilogue-Be-Bold"><span class="nav-number">8.</span> <span class="nav-text">Epilogue: Be Bold</span></a></li></ol></div> </div> </section> </div> </aside> </div> </main> <footer id="footer" class="footer"> <div class="footer-image"></div> <div class="footer-inner"> <p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p> <p><a href="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/" target="_blank" rel="external nofollow noopener noreferrer">jsDelivr</a> 提供 CDN 加速。 <a href="http://www.google.com/analytics/" target="_blank" rel="external nofollow noopener noreferrer">Google Analytics</a> 提供网站统计服务。 <a href="https://guotao.kainy.cn/speedtracker2/" target="_blank" rel="external nofollow noopener noreferrer">SpeedTracker</a> 前端性能监控。</p> <p>© <span itemprop="copyrightYear">2020</span> Hi, Kainy。 由 <a href="https://hexo.io/" target="_blank" class="external" rel="external nofollow noopener noreferrer">Hexo</a> 强力驱动。 Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="external nofollow noopener noreferrer">Sagiri</a> v0.0.2。 <a href="/sitemap.xml" target="_blank">站点地图</a>。 闽ICP备10011360号。 </p> <p>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author" itemprop="copyrightHolder">Kainy Guo</span>。 </p> </div> </footer> <div class="back-to-top"> <i class="fa fa-arrow-up"></i> </div> <canvas id="evanyou"></canvas> <div id="aplayer-fixed"></div> </div> <script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script> <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/lib/jquery.fancybox.min.js"></script> <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FJUT/cdn@blogs.kainy.cn/js/sagiri.min.js?v=0.0.2"></script> <script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script> <script id="mcjs">var serviceWorkerUri="/service-worker.js";"serviceWorker"in navigator?navigator.serviceWorker.register(serviceWorkerUri).then(function(e){e.onupdatefound=function(){var r=e.installing;r.onstatechange=function(){"installed"===r.state&&navigator.serviceWorker.controller&&(console.log("Preferably, display a message asking the user to reload"),CONFIG.serviceWorkerUpdated=!0)}},navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")})["catch"](function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser.")</script> </body> </html> 