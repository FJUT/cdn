<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hi, Kainy</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blogs.kainy.cn/"/>
  <updated>2022-03-18T12:03:11.820Z</updated>
  <id>https://blogs.kainy.cn/</id>
  
  <author>
    <name>Kainy Guo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>这一次，在桌面访问全国各地健康码</title>
    <link href="https://blogs.kainy.cn/2022/01/%E8%BF%99%E4%B8%80%E6%AC%A1%EF%BC%8C%E5%9C%A8%E6%A1%8C%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%85%A8%E5%9B%BD%E5%90%84%E5%9C%B0%E5%81%A5%E5%BA%B7%E7%A0%81/"/>
    <id>https://blogs.kainy.cn/2022/01/这一次，在桌面访问全国各地健康码/</id>
    <published>2022-01-18T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.820Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景简介"><a href="#背景简介" class="headerlink" title="背景简介"></a>背景简介</h2><p>疫情期间，为了方便访问健康码，<code>跨时空 APP</code> 集成了唤起微信小程序的功能，并且将入口放在系统桌面应用图标的长按菜单中。由于菜单空间有限，只能放得下最常使用的两个小程序，于是又增加了小程序配置项。一起来通过图示看看怎么配置吧～</p><a id="more"></a><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol><li>升级<a href="https://kainy.cn/app/#f=blogs-post-3" target="_blank" rel="noopener">跨时空 APP </a>到<code>1.0.10</code>以上版本</li><li><p>长按右上角角标为“小程序”的色块，呼出配置面板</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gyk59027v4j20n01dswge.jpg" alt="长按小程序色块，呼出配置菜单"><hr></p></li><li><p>按住下拉栏，拖动选择所需的小程序<i>（如果找不到想要的小程序，可点击上一步中，配置面板右上角的链接提交收录）</i></p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gyk5c3qf5fj20n01dsabj.jpg" alt="拖动选择所需的小程序"><hr></p></li><li><p>点击配置面板底部的“更新”按钮，保存配置。回到桌面长按应用图标就可以看到刚刚添加的小程序了</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gyk5dkkr9gj20n01dsdh9.jpg" alt="在桌面长按应用图标，可访问小程序"><hr></p></li></ol><h2 id="改进历程"><a href="#改进历程" class="headerlink" title="改进历程"></a>改进历程</h2><p>第一版中，是以表单的形式实现的信息编辑，表单有三个输入项：小程序名称、原始ID、页面路径（path），编辑的时候自动填入。</p><p>这样虽然实现了灵活配置，也比原先<a href="/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/?f=blogpost-3">拼接URL，再填入快捷指令的方法</a>要简便不少。但三个窟窿填写起来还是略繁琐，也容易出错，并且表单空间占用多，导致表单内容无法在一屏内展示完全，“更新”按钮需要下拉滚动才能看到，容易被遗漏。</p><p>于是改进了一下，使用下拉选择的形式。既简化操作，出错的几率也大幅降低。目前已录入20+各地防疫小程序。如有遗漏，可以点击配置面板右上角的链接，填写表单收录。对于非通用小程序，依然可以通过<a href="/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/?f=blogpost-3">快捷指令</a>的方式实现直达，从而兼顾便捷性和灵活性。</p><p>对于即将返乡过年的朋友、以及差旅人士，可以在到达一个新的城市前，将当地的健康码配置到快捷菜单，这样出入公共场所，需要“亮码”的时候只需在桌面长按“小飞机”图标即可打开所需的健康码小程序，十分便捷。</p><p>从单次唤起小程序节约的时间来看，这么大费周章地改进貌似没太大必要。但用的次数多了、用的人多了，就能省下一笔可观的时间开销。就我而言，积少成多、聚沙成塔的事，做多做少都有其意义。</p><h2 id="交流反馈群"><a href="#交流反馈群" class="headerlink" title="交流反馈群"></a>交流反馈群</h2><p>目前访问小程序和配置小程序的交互，都已优化到我能想到的最短操作路径。如有更好建议，或者使用中遇到问题，都可以留言或加群讨论 😄</p><p><img src="https://tvax1.sinaimg.cn/mw690/4d6e3e3bgy1gy7howmjd0j20ku0kuwgp.jpg" alt="跨时空APP交流群"></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/01/近日网事/">近日网事</a></li><li><a href="https://blogs.kainy.cn/2010/09/CallVerifID（phonefactor）电话登陆认证方法/">CallVerifID（phonefactor）电话登陆认证方法</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/人民币为paypal充值（兑换）美元的安全方法/">人民币为paypal充值（兑换）美元的安全方法</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;背景简介&quot;&gt;&lt;a href=&quot;#背景简介&quot; class=&quot;headerlink&quot; title=&quot;背景简介&quot;&gt;&lt;/a&gt;背景简介&lt;/h2&gt;&lt;p&gt;疫情期间，为了方便访问健康码，&lt;code&gt;跨时空 APP&lt;/code&gt; 集成了唤起微信小程序的功能，并且将入口放在系统桌面应用图标的长按菜单中。由于菜单空间有限，只能放得下最常使用的两个小程序，于是又增加了小程序配置项。一起来通过图示看看怎么配置吧～&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="方法" scheme="https://blogs.kainy.cn/tags/%E6%96%B9%E6%B3%95/"/>
    
      <category term="跨时空" scheme="https://blogs.kainy.cn/tags/%E8%B7%A8%E6%97%B6%E7%A9%BA/"/>
    
  </entry>
  
  <entry>
    <title>可能是当下最简便，直达小程序指定页面的快捷方式</title>
    <link href="https://blogs.kainy.cn/2022/01/%E5%8F%AF%E8%83%BD%E6%98%AF%E5%BD%93%E4%B8%8B%E6%9C%80%E7%AE%80%E4%BE%BF%E7%9A%84%E7%9B%B4%E8%BE%BE%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8C%87%E5%AE%9A%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F/"/>
    <id>https://blogs.kainy.cn/2022/01/可能是当下最简便的直达小程序指定页面的快捷方式/</id>
    <published>2022-01-01T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.794Z</updated>
    
    <content type="html"><![CDATA[<p>在 <a href="/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/?f=blogpost">把微信小程序放到 iPhone 桌面的方法(非URL Scheme)</a> 中，已经实现了一键直达小程序指定页面的目标。但是方法比较“程序员思维”，需要手动创建快捷指令，对于不熟悉手机操作的用户不够友好。</p><h2 id="新方案"><a href="#新方案" class="headerlink" title="新方案"></a>新方案</h2><p>其实手机操作系统上，有个通用的交互形式更适合这个场景：长按应用图标，唤起快捷菜单。在苹果操作系统中，叫做 Quick Action；安卓系统叫 App Shortcuts 。</p><a id="more"></a><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gy54ref2j1j20eq0u4dne.jpg" alt="长按跨时空应用图标唤起快捷菜单"></p><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>这么做除了简化配置步骤，还做到了双端交互的统一。解决了安卓系统，小程序虽然可以创建桌面快捷方式，但不能指定快捷方式所打开页面的不足。</p><p>目前<a href="https://kainy.cn/app/?f=blogs2022" target="_blank">跨时空1.0.9版本</a>已经支持 —— 长按“小飞机”应用图标，可以唤起快捷菜单。目前支持唤起“粤康码”和“行程卡”小程序 —— 这两个是我每天进出公司必备的码，如果是公交出行，打开次数还要加一。</p><h2 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h2><p>长按唤起的交互，对比之前快捷指令的方案，除了增加一步长按操作，最大的不足在于快捷菜单空间有限，支持最多四个项，对于我个人使用是足够了，但有的用户最常用的也许并不是这两个小程序。</p><h2 id="改进计划"><a href="#改进计划" class="headerlink" title="改进计划"></a>改进计划</h2><p>针对这个问题，计划在后续迭代中，支持配置小程序参数 —— 在首页的彩色方块中，倒数第二行的8、9号色块，是小程序链接。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gy4w68pju8j206e0duq3t.jpg" alt="跨时空小程序链接"></p><p>长按色块，弹出配置表单，可以修改小程序 <code>id</code> 和 <code>path</code> 等参数，再增加一个 <code>“支持桌面长按应用图标快捷访问”</code> 复选框，勾选后替换默认的（粤康码和行程卡）小程序快捷入口。<del>敬请期待</del> update: 2022/01/19 <a href="/2022/01/这一次，在桌面访问全国各地健康码/#f=blogs-post-2">已实现</a>。</p><h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>私以为，这功能应该由微信自身集成最合适。</p><p>就我所知，目前打开一个小程序的最短操作路径是：</p><ol><li>切换到微信聊天主界面</li><li>轻触顶部状态栏滚动到顶（如果是安卓手机，双击标题栏）</li><li>下拉</li><li>找到小程序</li><li>点开</li><li>如果所需功能不在小程序首页，还需要一顿点点点</li></ol><p>微信团队产品人才济济，想必不会遗漏这种交互形式。没有采用可能的原因：</p><ul><li>从系统桌面直达小程序指定页面需求还没有很迫切（痛点不够痛😛）</li><li>通过长按应用图标访问功能这种交互，统计到用户实际使用的数据量并不大</li><li>其他</li></ul><p>无论如何，既然微信官方暂不支持，自己又有能力实现，那就自己动手来满足自己的需求呗～ 也算是掌握应用开发的一项优势吧😂（ 讲真，flutter 让我有点找回初学 js 时，恣意开发的乐趣啦…</p><h2 id="交流反馈群"><a href="#交流反馈群" class="headerlink" title="交流反馈群"></a>交流反馈群</h2><p><img src="https://tvax1.sinaimg.cn/mw690/4d6e3e3bgy1gy7howmjd0j20ku0kuwgp.jpg" alt="跨时空APP交流群"></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/01/近日网事/">近日网事</a></li><li><a href="https://blogs.kainy.cn/2010/09/CallVerifID（phonefactor）电话登陆认证方法/">CallVerifID（phonefactor）电话登陆认证方法</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/人民币为paypal充值（兑换）美元的安全方法/">人民币为paypal充值（兑换）美元的安全方法</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在 &lt;a href=&quot;/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/?f=blogpost&quot;&gt;把微信小程序放到 iPhone 桌面的方法(非URL Scheme)&lt;/a&gt; 中，已经实现了一键直达小程序指定页面的目标。但是方法比较“程序员思维”，需要手动创建快捷指令，对于不熟悉手机操作的用户不够友好。&lt;/p&gt;
&lt;h2 id=&quot;新方案&quot;&gt;&lt;a href=&quot;#新方案&quot; class=&quot;headerlink&quot; title=&quot;新方案&quot;&gt;&lt;/a&gt;新方案&lt;/h2&gt;&lt;p&gt;其实手机操作系统上，有个通用的交互形式更适合这个场景：长按应用图标，唤起快捷菜单。在苹果操作系统中，叫做 Quick Action；安卓系统叫 App Shortcuts 。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="方法" scheme="https://blogs.kainy.cn/tags/%E6%96%B9%E6%B3%95/"/>
    
      <category term="跨时空" scheme="https://blogs.kainy.cn/tags/%E8%B7%A8%E6%97%B6%E7%A9%BA/"/>
    
  </entry>
  
  <entry>
    <title>新冠病毒引发的担忧</title>
    <link href="https://blogs.kainy.cn/2021/10/%E6%96%B0%E5%86%A0%E7%97%85%E6%AF%92%E5%BC%95%E5%8F%91%E7%9A%84%E6%8B%85%E5%BF%A7/"/>
    <id>https://blogs.kainy.cn/2021/10/新冠病毒引发的担忧/</id>
    <published>2021-10-29T11:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.801Z</updated>
    
    <content type="html"><![CDATA[<p>新闻播报俄罗斯单日新增新冠病例破四万，前段时间英国日增十万，美国更不必说，就连抗疫模范中国也多地开花… </p><p>当前虽然绝大多数人在意识和行动上对待疫情都严加防范。但总基调是认为“可防可控”，无论从医学研究结论还是人类对抗天花的历史。主流观点似乎是将与病毒长期并存。 </p><a id="more"></a><p>也不难理解 ———— 随着科研深入，疫苗已然出世，且接种面越来越广。虽然有毒株变异的情况，但传染性和致死率此消彼长，理论上也不足为虑。单纯从这两个维度来看，足以支撑乐观情绪/确实有理由乐观。但变异不可控，如果有一天病毒变异偏离这两个维度，通过变异获得影响人类型为的能力呢？有没有可能出现电影《釜山行》中丧尸满街的情况呢。在没有查明病毒来源的当下，这也不算天方夜谭吧… </p><p>病毒变异方向千千万，刚巧往操控人行为方向变异的概率确实不高。但结合影视情节和当下摩擦多于合作的国际形势 和 追崇“影响力”、“边界感”、“驭人之术”的社会风气。出现人与病毒跨界合作的情节也合乎情理。人类代表的扮演角色有太多可能：各国领袖政要、科学家、甚至女儿受生命威胁的绝望父亲… </p><p>纵观古今，各种形态灾难都是人性弱点的折射。而人性的弱点并未随千百年来科技、文明的进步而有所减少，反而因此获得更大的破坏力。由此看来，地球易主或不可避免。 </p><p>大胆预测一下，如果人类这场浩劫降临，那么带领人们逃离苦海的两位英雄，最可能是扎克伯格和马斯库——一个让人脱离肉身，一个带人逃离地球 😂</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新闻播报俄罗斯单日新增新冠病例破四万，前段时间英国日增十万，美国更不必说，就连抗疫模范中国也多地开花… &lt;/p&gt;
&lt;p&gt;当前虽然绝大多数人在意识和行动上对待疫情都严加防范。但总基调是认为“可防可控”，无论从医学研究结论还是人类对抗天花的历史。主流观点似乎是将与病毒长期并存。 &lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="担忧" scheme="https://blogs.kainy.cn/tags/%E6%8B%85%E5%BF%A7/"/>
    
      <category term="新冠" scheme="https://blogs.kainy.cn/tags/%E6%96%B0%E5%86%A0/"/>
    
      <category term="人性" scheme="https://blogs.kainy.cn/tags/%E4%BA%BA%E6%80%A7/"/>
    
  </entry>
  
  <entry>
    <title>把微信小程序放到 iPhone 桌面的方法(非URL Scheme)</title>
    <link href="https://blogs.kainy.cn/2021/10/%E6%8A%8A%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%94%BE%E5%88%B0%20iPhone%20%E6%A1%8C%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95(%E9%9D%9EURL%20Scheme)/"/>
    <id>https://blogs.kainy.cn/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/</id>
    <published>2021-10-01T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.800Z</updated>
    
    <content type="html"><![CDATA[<h2 id="更新（2021-12-31）"><a href="#更新（2021-12-31）" class="headerlink" title="更新（2021/12/31）"></a>更新（2021/12/31）</h2><p>我似乎找到了更适合的方式来做这件事：<a href="/2022/01/可能是当下最简便的直达小程序指定页面的快捷方式/?f=blogpost-把小程序放到 iPhone 桌面的方法(非URL Scheme)">通过长按应用图标唤起的菜单</a>（苹果的 Quick Action，安卓叫 App Shortcuts） 看图：</p><p>这样不仅避免了手工创建快捷指令的麻烦，还让安卓也支持一键访问，又统一了两个平台的交互，简直一石三 🐦 啊。。 </p><a id="more"></a><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gxx4c898k3j20aq0gmq4g.jpg" alt="跨时空app打开小程序"></p><p>但仍存在个问题：菜单长度有限，不能加太多快捷方式，后续打算把这块做成可配置的，敬请期待。顺祝元旦快乐～</p><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>因为疫情原因，每天上班进公司门需要查验粤康码，粤康码藏在粤省事小程序的二级页面，打开不太方便。就想着有没有办法一键直达。安卓系统是支持创建桌面快捷方式，但貌似也无法指定特定页面。另一个跨系统通用的方法，是通过生成小程序的 URL Scheme 链接，形如：weixin://dl/business/?ticket=xxxxxx , 但前提是你得是这个小程序的属主，无法做到任意小程序跳转。</p><p>恰好这段时间在研究 Flutter 开发，发现通过 app 打开小程序没有诸多限制，甚至连“在微信中打开此页”的提醒都没有，确实能做到一键直达。再配合“深链接（deepLink）”，就可以将打开微信小程序的能力，创建到系统桌面。接下来看看具体步骤。</p><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ul><li><p>既然需要借助 app 的能力来打开微信小程序，那第一步自然是安装 app 了， 在苹果应用商店（App Store）中搜索 <code>跨时空</code> 或 <code>kainy</code> ，也可以通过 <a href="https://kainy.cn/app/?f=blogs-2021" target="_blank" rel="noopener">应用主页</a> 下载；</p></li><li><p>在手机上打开“快捷指令” ，搜索“打开网页”，填入 URL <a href="https://t.kainy.cn/#weixin://app/wx2604a227cbdfc489/jumpWxa/?userName=gh_1ac06b5a8f4e&amp;path=operation_plus/pages/yiqing/daka/user/index/，" rel="external nofollow noopener noreferrer" target="_blank">https://t.kainy.cn/#weixin://app/wx2604a227cbdfc489/jumpWxa/?userName=gh_1ac06b5a8f4e&amp;path=operation_plus/pages/yiqing/daka/user/index/，</a> 其中前半部分 <code>https://t.kainy.cn/#weixin://app/wx2604a227cbdfc489/jumpWxa/?</code> 是固定的，后半部分的参数 <code>userName</code> 和 <code>path</code>，分别对应小程序的原始ID 和 小程序页面路径，原始ID 可以通过小程序资料页获取到；</p></li><li><p>最后将快捷指令添加到系统桌面即可。</p></li></ul><p>更详细的步骤可以到微信视频号搜 <code>kainy</code> 观看之前制作的一个视频教程，步骤大同小异，只是那段时间微信没验证 ticket，直接通过<code>浏览器</code>就可以打开小程序。现在无法绕过了，必须安装一个 app 也就是上述第一步安装的<a href="https://kainy.cn/app/?f=blogs-2021-2" target="_blank" rel="noopener">跨时空app</a> 。</p><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>在一开始有提到，这个直达方法的本质，就是整合了深链接和微信SDK的打开小程序能力。</p><ul><li>首先，点击桌面快捷方式的时候，系统识别到 t.kainy.cn 域名，唤起跨时空 app ;</li><li>app 接收到完整的 URL，并解析出 userName 和 path 参数；</li><li>调用微信SDK唤起微信小程序。</li></ul><p>摸索这个功能的出发点，是观察到家里老人很难快速找到需要的小程序，一方面是老人家对新事物的接受较慢；另一方面微信对小程序入口有过几次较大的变动，即便是添加过“我的小程序”列表，一个UI调整就可能让他们找不到整个列表。导致的结果就是，和老人家进出公共场所的时候不仅要整自己的码，还要顾上身边老人的，一时间手忙脚乱，特别是人多时候，安检员也顾不过来。最后发现这个方法确实挺方便的，就自己也用上了 😁</p><h2 id="交流反馈群"><a href="#交流反馈群" class="headerlink" title="交流反馈群"></a>交流反馈群</h2><p><img src="https://tvax1.sinaimg.cn/mw690/4d6e3e3bgy1gy7howmjd0j20ku0kuwgp.jpg" alt="跨时空APP交流群"></p><h2 id="附录：微信常用小程序-URL-Scheme-整理"><a href="#附录：微信常用小程序-URL-Scheme-整理" class="headerlink" title="附录：微信常用小程序 URL Scheme 整理"></a>附录：微信常用小程序 URL Scheme 整理</h2><p>via：<a href="https://v2ex.com/t/797533" rel="external nofollow noopener noreferrer" target="_blank">v2ex</a></p><p>以下 URL Scheme 直接用是打开不了微信小程序的，但是可以从中取到所需的 userName 和 path 参数，拼接到上诉 URL 即可～</p><p>粤康码：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme：</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_1ac06b5a8f4e&amp;path=operation_plus/</span>pages<span class="regexp">/yiqing/</span>daka<span class="regexp">/user/i</span>ndex<span class="regexp">/index.html</span></span><br></pre></td></tr></table></figure></p><p>穗康码：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme：</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_8052c0bb85ba&amp;path=packages/</span>health-code<span class="regexp">/pages/</span>report-health<span class="regexp">/index.html</span></span><br></pre></td></tr></table></figure></p><p>微信乘车码：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme：</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_3cf62f4f1d52</span></span><br></pre></td></tr></table></figure></p><p>通信行程卡：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_0ed5d82fd775</span></span><br></pre></td></tr></table></figure></p><p>深i您健康码：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_9c23268d5db7&amp;path=pages/mi</span>ne<span class="regexp">/todo/</span>code<span class="regexp">/code.html</span></span><br></pre></td></tr></table></figure></p><p>深圳平安门禁：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_2946562bd6a9</span></span><br></pre></td></tr></table></figure></p><p>上海随申码:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_d4acc9de8978&amp;path=pages/</span>suishenma<span class="regexp">/jiankangma/i</span>ndex.html?needLogin=false&amp;scene=<span class="number">0</span></span><br></pre></td></tr></table></figure></p><p>北京健康宝-本人健康码页面:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_e3b81975fe3c&amp;path=pages/</span>jxzq<span class="regexp">/cha-xun-jie-guo/i</span>ndex.html?isOpenBDCheck=<span class="number">1</span>&amp;code=false</span><br></pre></td></tr></table></figure></p><p>渝康码:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_8950e79a44c2&amp;path=packages/</span>health-code<span class="regexp">/pages/</span>report-health<span class="regexp">/index.html</span></span><br></pre></td></tr></table></figure></p><p>苏康码:<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">支付宝 URL Scheme:</span><br><span class="line"></span><br><span class="line">alipays://platformapi/startapp?appId=<span class="number">2018062060350751</span>&amp;page=<span class="symbol">%2</span>Fpages<span class="symbol">%2</span>Fweb<span class="symbol">%2</span>Fweb<span class="symbol">%3</span>Furl<span class="symbol">%3</span>Dhttps<span class="symbol">%3</span>A<span class="symbol">%2</span>F<span class="symbol">%2</span>Fjsstm.jszwfw.gov.cn<span class="symbol">%2</span>FjkmIndex.html</span><br></pre></td></tr></table></figure></p><p>河北健康码:<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line"><span class="symbol">weixin:</span><span class="comment">//app/wxd930ea5d5a258f4f/jumpWxa/?userName=gh_21c954017d6d</span></span><br><span class="line"></span><br><span class="line">(支付宝)</span><br><span class="line"></span><br><span class="line"><span class="symbol">alipays:</span><span class="comment">//platformapi/startapp?appId=2021002100611022</span></span><br></pre></td></tr></table></figure></p><p>四川天府健康通:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>dl<span class="regexp">/business/</span>?t=Je3MKDRpAWv</span><br><span class="line"></span><br><span class="line">(支付宝)</span><br><span class="line"></span><br><span class="line">alipays:<span class="regexp">//</span>platformapi<span class="regexp">/startapp?appId=2021002116662889&amp;page=pages/i</span>ndex<span class="regexp">/index</span></span><br></pre></td></tr></table></figure></p><p>南昌赣通码:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_50f6b41ceee6&amp;path=pages/</span>second<span class="regexp">/health_cards/</span>healthcards.html</span><br></pre></td></tr></table></figure></p><p>山东电子健康码:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_77e3cb5f3991</span></span><br></pre></td></tr></table></figure></p><p>辽事通:</p>  <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_3bdf8fd1bfe1&amp;path=pages/</span>passCode<span class="regexp">/main.html</span></span><br></pre></td></tr></table></figure><p>西安市民一码通:</p>  <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">weixin:<span class="regexp">//</span>app<span class="regexp">/wxd930ea5d5a258f4f/</span>jumpWxa<span class="regexp">/?userName=gh_e40e571e6cb4&amp;path=pages/</span>webview<span class="regexp">/webview.html?url=https:/</span><span class="regexp">/data.xa.gov.cn/</span>ptrace<span class="regexp">/view/</span>qrcode.html</span><br></pre></td></tr></table></figure><p>福建八闽健康码:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">URL Scheme:</span><br><span class="line"></span><br><span class="line">支付宝健康码</span><br><span class="line"></span><br><span class="line"><span class="symbol">alipays:</span><span class="comment">//platformapi/startapp?appId=2021002125635929</span></span><br><span class="line"></span><br><span class="line">支付宝扫张贴码</span><br><span class="line"></span><br><span class="line"><span class="symbol">alipays:</span><span class="comment">//platformapi/startapp?appId=2021002125635929&amp;page=pages/scan/scan</span></span><br><span class="line"></span><br><span class="line">微信健康码</span><br><span class="line"></span><br><span class="line"><span class="symbol">weixin:</span><span class="comment">//app/wxd930ea5d5a258f4f/jumpWxa/?userName=gh_72145ecf601b</span></span><br><span class="line"></span><br><span class="line">微信扫张贴码</span><br><span class="line"></span><br><span class="line"><span class="symbol">weixin:</span><span class="comment">//app/wxd930ea5d5a258f4f/jumpWxa/?userName=gh_72145ecf601b&amp;path=pages/scan/scan.html</span></span><br></pre></td></tr></table></figure><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/01/近日网事/">近日网事</a></li><li><a href="https://blogs.kainy.cn/2010/09/CallVerifID（phonefactor）电话登陆认证方法/">CallVerifID（phonefactor）电话登陆认证方法</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/人民币为paypal充值（兑换）美元的安全方法/">人民币为paypal充值（兑换）美元的安全方法</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;更新（2021-12-31）&quot;&gt;&lt;a href=&quot;#更新（2021-12-31）&quot; class=&quot;headerlink&quot; title=&quot;更新（2021/12/31）&quot;&gt;&lt;/a&gt;更新（2021/12/31）&lt;/h2&gt;&lt;p&gt;我似乎找到了更适合的方式来做这件事：&lt;a href=&quot;/2022/01/可能是当下最简便的直达小程序指定页面的快捷方式/?f=blogpost-把小程序放到 iPhone 桌面的方法(非URL Scheme)&quot;&gt;通过长按应用图标唤起的菜单&lt;/a&gt;（苹果的 Quick Action，安卓叫 App Shortcuts） 看图：&lt;/p&gt;
&lt;p&gt;这样不仅避免了手工创建快捷指令的麻烦，还让安卓也支持一键访问，又统一了两个平台的交互，简直一石三 🐦 啊。。 &lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="方法" scheme="https://blogs.kainy.cn/tags/%E6%96%B9%E6%B3%95/"/>
    
      <category term="跨时空" scheme="https://blogs.kainy.cn/tags/%E8%B7%A8%E6%97%B6%E7%A9%BA/"/>
    
  </entry>
  
  <entry>
    <title>记一次 flutter 插件注册顺序导致问题的排查</title>
    <link href="https://blogs.kainy.cn/2021/07/%E8%AE%B0%E4%B8%80%E6%AC%A1%20flutter%20%E6%8F%92%E4%BB%B6%E6%B3%A8%E5%86%8C%E9%A1%BA%E5%BA%8F%E5%AF%BC%E8%87%B4%E9%97%AE%E9%A2%98%E7%9A%84%E6%8E%92%E6%9F%A5/"/>
    <id>https://blogs.kainy.cn/2021/07/记一次 flutter 插件注册顺序导致问题的排查/</id>
    <published>2021-07-18T11:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.819Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>跨时空app中，用到了 <code>fluwx</code> 和 <code>appscheme</code> 两个插件，分别用于 微信SDK 接入和监听应用协议（URL Scheme，iOS 中 H5 唤起 app 几乎都用到它）</p><p>发现两个插件同时使用时，原先正常的微信分享功能，在 iOS 端就无法使用了。</p><h2 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h2><p>反复重现后，发现问题出在应用首次调用 微信openSDK 的认证过程。</p><a id="more"></a><p>应用唤起微信获取到 token 后，会被微信通过 universal_link 唤起，这时候 fluwx 注册的监听（用于接收微信通过 universal_link 带回的 token 参数）没有被调用，以至于没有将 token 信息保存下来。于是后续应用每次调用 微信openSDK 都由于没有认证信息，而被认为是首次调用，重复上述过程。</p><h2 id="根因追溯"><a href="#根因追溯" class="headerlink" title="根因追溯"></a>根因追溯</h2><p>所以症结在于 fluwx 的回调，为什么被拦截了。</p><p>根据 Flutter 的 objc++ 代码可以看出，对于监听到的传入 URL 处理逻辑是：</p><p>遍历 <code>_delegates</code> 如果 url 已处理完成，则跳出循环</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// https://github.com/flutter/engine/blob/9f650edd14dd0d74acb3d6ad65eb794b1e4b27e3/shell/platform/darwin/ios/framework/Source/FlutterPluginAppLifeCycleDelegate.mm#L312</span><br><span class="line"></span><br><span class="line">- (BOOL)application:(UIApplication*)application</span><br><span class="line">            openURL:(NSURL*)url</span><br><span class="line">            options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey, id&gt;*)options &#123;</span><br><span class="line">  for (NSObject&lt;FlutterApplicationLifeCycleDelegate&gt;* delegate in _delegates) &#123;</span><br><span class="line">    if (!delegate) &#123;</span><br><span class="line">      continue;</span><br><span class="line">    &#125;</span><br><span class="line">    if ([delegate respondsToSelector:_cmd]) &#123;</span><br><span class="line">      if ([delegate application:application openURL:url options:options]) &#123;</span><br><span class="line">        return YES;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而 <code>_delegate</code> 则是在 <code>addDelegate:</code> 中被加入的。<code>_delegate</code> 的是一個 PointerArray，他的顺序是在 plugin 被 register 时，调用 <code>addDelegate:</code> 确定下来的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// https://github.com/flutter/engine/blob/9f650edd14dd0d74acb3d6ad65eb794b1e4b27e3/shell/platform/darwin/ios/framework/Source/FlutterPluginAppLifeCycleDelegate.mm#L98</span><br><span class="line"></span><br><span class="line">@implementation FlutterPluginAppLifeCycleDelegate &#123;</span><br><span class="line">  NSMutableArray* _notificationUnsubscribers;</span><br><span class="line">  UIBackgroundTaskIdentifier _debugBackgroundTask;</span><br><span class="line"></span><br><span class="line">  // Weak references to registered plugins.</span><br><span class="line">  NSPointerArray* _delegates;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">- (void)addDelegate:(NSObject&lt;FlutterApplicationLifeCycleDelegate&gt;*)delegate &#123;</span><br><span class="line">  [_delegates addPointer:(__bridge void*)delegate];</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而 Flutter plugin 注册的顺序则是由自动生成的文件 <code>GeneratedPluginRegistrant.m</code> 所决定。<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Generated file. Do not edit.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">...</span><br><span class="line">+ (<span class="keyword">void</span>)registerWithRegistry:(<span class="built_in">NSObject</span>&lt;FlutterPluginRegistry&gt;*)registry &#123;</span><br><span class="line">  [FlutterLineSdkPlugin registerWithRegistrar:[registry registrarForPlugin:<span class="string">@"FlutterLineSdkPlugin"</span>]];</span><br><span class="line">  [UniLinksPlugin registerWithRegistrar:[registry registrarForPlugin:<span class="string">@"UniLinksPlugin"</span>]];</span><br><span class="line">  [FLTFirebaseDynamicLinksPlugin registerWithRegistrar:[registry registrarForPlugin:<span class="string">@"FLTFirebaseDynamicLinksPlugin"</span>]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>那么 Flutter 是如何生成 <code>GeneratedPluginRegistrant.m</code> 的呢？</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// <span class="keyword">https</span>://github.com/flutter/flutter/blob/<span class="number">39</span>d7a019c150ca421b980426e85b254a0ec63ebd/packages/flutter_tools/gradle/flutter.gradle<span class="comment">#L248</span></span><br><span class="line"></span><br><span class="line">* The plugins are added <span class="built_in">to</span> pubspec.yaml. Then, upon running `flutter pub <span class="built_in">get</span>`,</span><br><span class="line">* <span class="keyword">the</span> tool generates <span class="keyword">a</span> `.flutter-plugins` <span class="built_in">file</span>, which <span class="keyword">contains</span> <span class="keyword">a</span> <span class="number">1</span>:<span class="number">1</span> map <span class="built_in">to</span> <span class="keyword">each</span> plugin location.</span><br></pre></td></tr></table></figure><p>每次执行 <code>flutter pub get</code>，时，会生成 <code>.flutter-plugins</code>，而 <code>GeneratedPluginRegistrant.m</code> 就是依照首字母排序。</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://github.com/flutter/flutter/blob/fa4d31b31/packages/flutter_tools/lib/src/plugins.dart#L464</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">String</span> _objcPluginRegistryImplementationTemplate = <span class="string">'''//</span></span><br><span class="line"><span class="string">//  Generated file. Do not edit.</span></span><br><span class="line"><span class="string">//</span></span><br><span class="line"><span class="string">#import "GeneratedPluginRegistrant.h"</span></span><br><span class="line"><span class="string">&#123;&#123;#plugins&#125;&#125;</span></span><br><span class="line"><span class="string">#import &lt;&#123;&#123;name&#125;&#125;/&#123;&#123;class&#125;&#125;.h&gt;</span></span><br><span class="line"><span class="string">&#123;&#123;/plugins&#125;&#125;</span></span><br><span class="line"><span class="string">@implementation GeneratedPluginRegistrant</span></span><br><span class="line"><span class="string">+ (void)registerWithRegistry:(NSObject&lt;FlutterPluginRegistry&gt;*)registry &#123;</span></span><br><span class="line"><span class="string">&#123;&#123;#plugins&#125;&#125;</span></span><br><span class="line"><span class="string">  [&#123;&#123;prefix&#125;&#125;&#123;&#123;class&#125;&#125; registerWithRegistrar:[registry registrarForPlugin:@"&#123;&#123;prefix&#125;&#125;&#123;&#123;class&#125;&#125;"]];</span></span><br><span class="line"><span class="string">&#123;&#123;/plugins&#125;&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">@end</span></span><br></pre></td></tr></table></figure><p>这样问题的解决方法就明确了： 修改 appscheme 包的名称，或者改动 Fluter 的逻辑，显然前者的成本要小一些。本地保存一份插件，改名后引用即可，注意及时升级就是了。插件的更新频率，应该低于 Flutter 框架本身。 同时，我还在 appscheme 项目中提了 issue ，期待作者解决。</p><h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>个人认为，flutter 成功的原因有两个重要方面：其一是跨端 UI 渲染的高性能和一致性；另一个就是完备的插件扩展机制和生态。</p><p>前者已被广泛吹捧，这里无需赘述。后者则极大方便了应用功能的集成：同样的功能，可能有好几个插件可以实现，开发者选择最合适自身的即可。开发者的选择，又反过来成为插件推荐的最可靠依据。最终让好的插件脱颖而出。</p><p>有人说 flutter 是又一 KPI 产物，对此说法本人认知有限，不置可否。但很明显的体会是：flutter 确实极大拉低了应用开发的门槛。不说 UI 渲染和插件机制有多么牛逼。单是开发框架本身，集成的 <code>Kotlin</code> <code>Gradle</code> <code>cocoapods</code>… 工具链，就足以让初学者望而却步，可能还没入门就放弃了。但 Flutter 框架替我们抹平了这一切，让开发者得以专注于应用功能本身。</p><h2 id="调试技巧"><a href="#调试技巧" class="headerlink" title="调试技巧"></a>调试技巧</h2><p>最后，提供几个调试 iOS 微信openSDK 到小技巧：</p><p>首次调用 微信openSDK ，会多一个 APP 与微信互相跳转的认证过程。认证成功后，就不会再有这个过程，即便是 APP 重装、切换登陆的微信号也不会，除非重装微信，或者修改 universal_link 值。所以如果要调试首次认证过程的话，我会选择修改 universal_link 记录值的方式。<br>需要修改两处：</p><ul><li>一是在开放平台改。改后需要结束微信进程后重启，新的记录值生效；</li><li>二是在 APP 代码侧修改，覆盖安装，或卸载重装 APP 。</li></ul><h2 id="交流反馈群"><a href="#交流反馈群" class="headerlink" title="交流反馈群"></a>交流反馈群</h2><p><img src="https://tvax1.sinaimg.cn/mw690/4d6e3e3bgy1gy7howmjd0j20ku0kuwgp.jpg" alt="跨时空APP交流群"></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2009/12/用Google_Friend_Connect在WP博客中留言的插件/">用Google Friend Connect在WP博客中留言的插件</a></li><li><a href="https://blogs.kainy.cn/2010/01/是好是坏_之Kainy说网/">是好是坏 之Kainy说网</a></li><li><a href="https://blogs.kainy.cn/2010/02/chrome版的Qzone插件发布/">chrome版的Qzone插件发布</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/寻能将WP中上传的附件（如图片）保存到其他ftp空间的插件/">寻能将WP中上传的附件（如图片）保存到其他ftp空间的插件</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h2&gt;&lt;p&gt;跨时空app中，用到了 &lt;code&gt;fluwx&lt;/code&gt; 和 &lt;code&gt;appscheme&lt;/code&gt; 两个插件，分别用于 微信SDK 接入和监听应用协议（URL Scheme，iOS 中 H5 唤起 app 几乎都用到它）&lt;/p&gt;
&lt;p&gt;发现两个插件同时使用时，原先正常的微信分享功能，在 iOS 端就无法使用了。&lt;/p&gt;
&lt;h2 id=&quot;问题原因&quot;&gt;&lt;a href=&quot;#问题原因&quot; class=&quot;headerlink&quot; title=&quot;问题原因&quot;&gt;&lt;/a&gt;问题原因&lt;/h2&gt;&lt;p&gt;反复重现后，发现问题出在应用首次调用 微信openSDK 的认证过程。&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="问题" scheme="https://blogs.kainy.cn/tags/%E9%97%AE%E9%A2%98/"/>
    
      <category term="插件" scheme="https://blogs.kainy.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="flutter" scheme="https://blogs.kainy.cn/tags/flutter/"/>
    
  </entry>
  
  <entry>
    <title>一文读懂「APP违规违法使用收集个人信息治理工作」及隐私合规检测的方法介绍</title>
    <link href="https://blogs.kainy.cn/2021/05/%E4%B8%80%E6%96%87%E8%AF%BB%E6%87%82%E3%80%8CAPP%E8%BF%9D%E8%A7%84%E8%BF%9D%E6%B3%95%E4%BD%BF%E7%94%A8%E6%94%B6%E9%9B%86%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E6%B2%BB%E7%90%86%E5%B7%A5%E4%BD%9C%E3%80%8D%E9%9A%90%E7%A7%81%E5%90%88%E8%A7%84%E9%9A%90%E7%A7%81%E6%A3%80%E6%B5%8B/"/>
    <id>https://blogs.kainy.cn/2021/05/一文读懂「APP违规违法使用收集个人信息治理工作」隐私合规隐私检测/</id>
    <published>2021-05-25T14:01:16.000Z</published>
    <updated>2022-03-18T12:03:11.786Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><blockquote><p>近年来，移动互联网应用程序（App）得到广泛应用，在促进经济社会发展、服务民生等方面发挥了不可替代的作用。同时，App强制授权、过度索权、超范围收集个人信息的现象大量存在，违法违规使用个人信息的问题十分突出，广大网民对此反应强烈。落实《网络安全法》《消费者权益保护法》的要求，为保障个人信息安全，维护广大网民合法权益，中央网信办、工业和信息化部、公安部、市场监管总局决定，自2019年1月至12月，在全国范围组织开展App违法违规收集使用个人信息专项治理。</p><p>–摘自<a href="http://www.cac.gov.cn/2019-01/25/c_1124042599.htm" rel="external nofollow noopener noreferrer" target="_blank">中央网信办、工业和信息化部、公安部、市场监管总局《关于开展App违法违规收集使用个人信息专项治理的公告》</a>》</p></blockquote><a id="more"></a><p>其实APP违规违法收集使用个人信息的问题早已被诟病很久了，有部分网民可能已经麻木了，早已习以为常了。然而「存在的就一定合理吗」？还是有广大网民能清醒地认识到这一点，大量的投诉举报，问题日益突出。所以此举措出台，是一件利国利民的好政策，希望各个企业能够拥抱政策，配合落实，还互联网一片清净。</p><h1 id="政策文件、机构组织"><a href="#政策文件、机构组织" class="headerlink" title="政策文件、机构组织"></a>政策文件、机构组织</h1><p>可以参考这个指南：<a href="http://www.cac.gov.cn/2019-11/07/c_1574658334765452.htm" rel="external nofollow noopener noreferrer" target="_blank">关于APP违法违规收集使用个人信息专项治理工作这有一份详尽的查询指南!</a></p><h2 id="四部联合"><a href="#四部联合" class="headerlink" title="四部联合"></a>四部联合</h2><p>四部委指：中央网信办、工信部、公安部、市场监管总局四部门。</p><ul><li>2019-01-25：<a href="http://www.cac.gov.cn/2019-01/25/c_1124042599.htm" rel="external nofollow noopener noreferrer" target="_blank">《关于开展App违法违规收集使用个人信息专项治理的公告》</a>（中央网信办、工信部、公安部、市场监管总局四部门联合发布，以下简称《公告》）</li><li></li><li>2019-12-30：<a href="http://www.cac.gov.cn/2019-12/27/c_1578986455686625.htm" rel="external nofollow noopener noreferrer" target="_blank">《App违法违规收集使用个人信息行为认定方法》</a>（四部联合印发，下称《办法》）。</li></ul><blockquote><p>《方法》提出，征得用户同意前就开始收集个人信息或打开可收集个人信息的权限、实际收集的个人信息或打开的可收集个人信息权限超出用户授权范围等行为可被认定为“未经用户同意收集使用个人信息”。</p></blockquote><h2 id="App专项治理工作组"><a href="#App专项治理工作组" class="headerlink" title="App专项治理工作组"></a>App专项治理工作组</h2><p>​    为落实《公告》相关部署，受四部门委托，全国信息安全标准化技术委员会、中国消费者协会、中国互联网协会、中国网络空间安全协会成立<strong>App违法违规收集使用个人信息专项治理工作组</strong>（以下简称“<strong>App专项治理工作组</strong>”），具体推动App违法违规收集使用个人信息评估工作。</p><ul><li>2019-05-06： <a href="http://www.cac.gov.cn/2019-05/06/c_1124455735.htm" rel="external nofollow noopener noreferrer" target="_blank">《App违法违规收集使用个人信息行为认定方法（征求意见稿）》</a>（App专项治理工作组），解读参考这个比较直观：<a href="http://www.zhonglun.com/Content/2019/05-14/1204094033.html#" rel="external nofollow noopener noreferrer" target="_blank">App监管再加码：《App违法违规收集使用个人信息行为认定方法（征求意见稿）》公布-中伦律师事务所</a></li><li>2019年3月：App专项治理工作组发布<a href="http://pip.tc260.org.cn/assets/wz/2019-03-02/f245cdf6-5455-44af-bf7c-aa1f797b4ef7.pdf" rel="external nofollow noopener noreferrer" target="_blank">《App违法违规收集使用个人信息自评估指南》PDF</a>（如点击无反应，复制链接再下载）</li><li></li></ul><h2 id="工信部"><a href="#工信部" class="headerlink" title="工信部"></a>工信部</h2><ul><li>2019-11-06： <strong>337号文</strong>：<a href="https://www.miit.gov.cn/jgsj/xgj/wjfb/art/2020/art_a2fc4363c4344a0e94831fd7bcf318d2.html" rel="external nofollow noopener noreferrer" target="_blank">工业和信息化部关于开展APP侵害用户权益专项整治工作的通知</a> （打不开看这个：<a href="https://baike.baidu.com/item/工业和信息化部关于开展APP侵害用户权益专项整治工作的通知" rel="external nofollow noopener noreferrer" target="_blank">工业和信息化部关于开展APP侵害用户权益专项整治工作的通知_百度百科</a>）</li><li>2020-07-28： <strong>164号文</strong>：<a href="http://www.cac.gov.cn/2020-07/28/c_1597492913060262.htm" rel="external nofollow noopener noreferrer" target="_blank">工业和信息化部关于开展纵深推进APP侵害用户权益专项整治行动的通知</a></li><li>2021-04-26：<a href="https://www.miit.gov.cn/jgsj/xgj/gzdt/art/2021/art_68251d4c11784e1bae41048117a8720d.html" rel="external nofollow noopener noreferrer" target="_blank">公开征求对《移动互联网应用程序个人信息保护管理暂行规定（征求意见稿）》的意见</a></li></ul><h2 id="网信办"><a href="#网信办" class="headerlink" title="网信办"></a>网信办</h2><ul><li><strong>2019年11月</strong> ：<a href="http://www.cac.gov.cn/2019-11/07/c_1574658334765452.htm" rel="external nofollow noopener noreferrer" target="_blank">关于APP违法违规收集使用个人信息专项治理工作这有一份详尽的查询指南!</a></li><li>2021-03-22：<a href="http://www.cac.gov.cn/2021-03/22/c_1617990997054277.htm" rel="external nofollow noopener noreferrer" target="_blank">关于印发《常见类型移动互联网应用程序必要个人信息范围规定》的通知</a> <a href="https://mp.weixin.qq.com/s/nP5HpOSifmPSWBC4D0u7xA" rel="external nofollow noopener noreferrer" target="_blank">App能提取哪些个人信息？国家明确了!</a></li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li></li></ul><h1 id="历史通报"><a href="#历史通报" class="headerlink" title="历史通报"></a>历史通报</h1><ul><li>2019-12-20：<a href="http://www.gov.cn/xinwen/2019-12/20/content_5462577.htm" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP（第一批）</a></li><li>2020年05月26日：<a href="http://www.cac.gov.cn/2020-05/26/c_1592036763304447.htm" rel="external nofollow noopener noreferrer" target="_blank">APP违法违规收集使用个人信息专项治理报告（2019）</a></li><li>2020年07月25日：<a href="http://www.cac.gov.cn/2020-07/25/c_1597240741055830.htm" rel="external nofollow noopener noreferrer" target="_blank">2020年App违法违规收集使用个人信息治理工作启动会在京召开</a></li><li>2020-05-17：<a href="http://www.gov.cn/xinwen/2020-05/17/content_5512332.htm" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP通报（2020年第一批）</a></li><li>2020-07-05：<a href="http://www.gov.cn/fuwu/2020-07/05/content_5524298.htm" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP通报（2020年第二批）</a></li><li>2020-07-24：<a href="http://www.gov.cn/xinwen/2020-07/24/content_5529777.htm" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP通报（2020年第三批）</a></li><li>2020-09-01：<a href="http://www.gov.cn/xinwen/2020-09/01/content_5539130.htm" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP通报（2020年第四批）</a></li><li>2020-11-10：<a href="http://www.gov.cn/xinwen/2020-11/10/content_5560288.htm" rel="external nofollow noopener noreferrer" target="_blank">工业和信息化部关于下架侵害用户权益APP的通报</a></li><li>其他通报批次：<a href="http://sousuo.gov.cn/s.htm?q=%E5%85%B3%E4%BA%8E%E4%BE%B5%E5%AE%B3%E7%94%A8%E6%88%B7%E6%9D%83%E7%9B%8A%E8%A1%8C%E4%B8%BA%E7%9A%84APP%E9%80%9A%E6%8A%A5" rel="external nofollow noopener noreferrer" target="_blank">关于侵害用户权益行为的APP通报</a></li></ul><h1 id="检测项"><a href="#检测项" class="headerlink" title="检测项"></a>检测项</h1><h2 id="关于权限"><a href="#关于权限" class="headerlink" title="关于权限"></a>关于权限</h2><p>​    APP该使用哪些权限，这个在2021-03-22<a href="http://www.cac.gov.cn/2021-03/22/c_1617990997054277.htm" rel="external nofollow noopener noreferrer" target="_blank">关于印发《常见类型移动互联网应用程序必要个人信息范围规定》的通知</a> <a href="https://mp.weixin.qq.com/s/nP5HpOSifmPSWBC4D0u7xA" rel="external nofollow noopener noreferrer" target="_blank">App能提取哪些个人信息？国家明确了!</a>里有提到，可以借鉴参考。</p><p>​    权限的使用，不能太离谱，如果APP不是这个类型但是提供的某个模块有相关功能，需要申请对应地权限，也可以解释得合理。但是不能申请与功能完全不相干的权限，否则就是超范围。</p><p>​    另外敏感权限的定义可以参考：<a href="https://kuaibao.qq.com/s/20190528A0E5K500" rel="external nofollow noopener noreferrer" target="_blank">《App申请安卓系统权限机制分析与建议V1.0》</a>，内容不再贴了，主要是26个敏感权限需要注意下。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gz306ehnrhj21681jkttp.jpg" alt></p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gz306siyxnj21ae1jke1a.jpg" alt></p><h1 id="如何自查自改"><a href="#如何自查自改" class="headerlink" title="如何自查自改"></a>如何自查自改</h1><p>企业自查自改的办法可以：</p><ul><li><strong>参考头部企业的做法</strong></li><li><strong>了解并解读政策文件自查自改</strong></li><li><p><strong>借助第三方解决方案</strong></p></li><li><p><a href="http://pip.tc260.org.cn/assets/wz/2019-03-02/f245cdf6-5455-44af-bf7c-aa1f797b4ef7.pdf" rel="external nofollow noopener noreferrer" target="_blank">《App违法违规收集使用个人信息自评估指南》PDF</a>（App专项治理工作组发布，如点击无反应，复制链接再下载）</p></li></ul><h2 id="常见不合规参考"><a href="#常见不合规参考" class="headerlink" title="常见不合规参考"></a>常见不合规参考</h2><h3 id="违规处理个人信息"><a href="#违规处理个人信息" class="headerlink" title="违规处理个人信息"></a>违规处理个人信息</h3><p>主要是违规违法收集使用个人信息，主要问题有：</p><ul><li>隐私政策协议描述不清，或隐私政策协议不容易找到需要超过 3 步才能找到；隐私政策协议可以参考后面的章节。</li><li>默认勾选同意隐私政策；</li><li>超范围收集使用个人信息（或申请无关权限）；</li><li>权限申请在隐私政策协议之前；</li><li>未经用户同意（提前）申请或者收集个人信息；</li><li>三方SDK列表未单独明示</li><li>申请敏感身份信息时未明确告知用户</li><li>存在个推功能（就是利用个人信息进行大数据分析的用户画像），但隐私政策里未说明存在该功能，且没有关闭该功能的选项（或用户点击关闭后实际并没有关闭，界面欺骗）</li></ul><p>这点个人感觉知乎APP做的很巧妙，同时也符合规范。通常情况下，大部分APP的合规做法是，首次运行APP会先弹框隐私协议，并留有一个统一的勾选框，用户勾选同意进入后，会再提示权限申请的弹框，用户同意后再申请安卓的权限（此时有权限申请弹框），综合下来步骤很多。知乎的做法是，把隐私政策弹框去掉，放在权限申请的弹框里（这样用户也可以不用超过3步就能点开查看具体的隐私政策协议），还提供了不同意并退出的选项（这个是可以的），同意继续后，再进入权限申请弹框，这一步骤用户依然是可以拒绝的（用户拒绝不能退出哦，否则就是不合规了）。</p><p>也就是整体效果感知上，就两个弹框步骤，规范上也能说得通，大家可以借鉴参考。</p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gz306usqozj20do0nx0v4.jpg" alt></p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gz306xceqzj20cm07i74k.jpg" alt></p><h3 id="设置障碍-频繁骚扰用户"><a href="#设置障碍-频繁骚扰用户" class="headerlink" title="设置障碍 频繁骚扰用户"></a>设置障碍 频繁骚扰用户</h3><p>主要问题有：</p><ul><li>APP强制、频繁、过度索取权限；</li><li>不给权限不让用：申请某权限，用户拒绝后，应用退出，或无限弹窗申请，导致应用无法正常使用；</li><li>个推功能不能关闭或关不掉；</li><li>账号注销难，不能在App内部注销，需要去官网注销；</li><li>APP自启动或关联启动；</li></ul><h3 id="欺骗误导用户"><a href="#欺骗误导用户" class="headerlink" title="欺骗误导用户"></a>欺骗误导用户</h3><p>主要问题有：</p><ul><li>欺骗误导掩饰用户提供个人信息及使用目的；</li><li>欺骗误导用户下载APP；</li><li>广告关闭选项找不到、关不掉；</li><li>APP中的广告，点击页面任意区域自动下载非用户所自愿下载APP；</li><li>凡是广告设计不合理容易误导误点，直接打开跳到一切非用户本意的广告或下载其他APP的情况；</li></ul><h3 id="应用分发责任不到位"><a href="#应用分发责任不到位" class="headerlink" title="应用分发责任不到位"></a>应用分发责任不到位</h3><p>这一条款有点连坐，但是政策的设计非常到位，打个比方，一款热门的应用品牌影响力也很高，网民用户都很信赖，但是APP里提供广告或者提供第三方APP的下载，如果这些广告或者第三方APP有问题，很容易让用户受到伤害。所以这块的监管是必须的，也是合理的，主要问题是：</p><ul><li>APP具有分发下载其他应用的功能，但未明示第三方APP的以下信息：APP的开发者信息、版本信息、权限列表及用途、收集使用个人信息的内容、目的、方式和范围等</li></ul><h2 id="隐私政策协议参考"><a href="#隐私政策协议参考" class="headerlink" title="隐私政策协议参考"></a>隐私政策协议参考</h2><p>这些是公开的，不是什么机密，可以借鉴参考。</p><ul><li><a href="https://cn.blizzard.com/zh-cn/legal/1c6ada91-4be1-4e5d-afb3-c44ace09a8d6/%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96" rel="external nofollow noopener noreferrer" target="_blank">隐私政策 - 法律条款——暴雪娱乐</a></li><li></li></ul><h2 id="借助第三方解决方案"><a href="#借助第三方解决方案" class="headerlink" title="借助第三方解决方案"></a>借助第三方解决方案</h2><ul><li><a href="https://zcpt.cesidsat.com/cms/index" rel="external nofollow noopener noreferrer" target="_blank">App个人信息保护合规评估工具</a>（这个是由APP专项治理工作组、中国电子技术标准化研究院提供的，本工具仅为企业合规实践提供参考，评估结果不能作为判断是否合规的依据）</li><li><a href="https://dun.163.com/product/compliance-detect" rel="external nofollow noopener noreferrer" target="_blank">合规测评<em>等保测评</em>三级等保认证<em>等保过检加固</em> 网易易盾</a>（工具结合人工审核，比较靠谱）</li><li><a href="https://anquan.baidu.com/product/appprivacy" rel="external nofollow noopener noreferrer" target="_blank">史宾格安全及隐私合规平台 - 百度安全</a> </li><li><a href="https://www.ijiami.cn/userinfotraining" rel="external nofollow noopener noreferrer" target="_blank">爱加密-安全服务 个人信息保护合规评估</a> </li><li><a href="https://jiagu.360.cn/#/global/details/privacy" rel="external nofollow noopener noreferrer" target="_blank">产品与服务-隐私信息合规监测 - 加固保</a> </li><li>通付盾-移动应用安全合规工具箱</li></ul><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>还有一个参考做法，就是要<strong>以人为本</strong>，以人民为本的思路。这个可能说的有点大了，但是App违规违法收集的这个政策来源就是因为网民苦这些问题久矣，投诉的很多。拿最近在整顿的开屏广告来说，App一打开就是开屏广告，是不是很扰民？很多中老年人根本找不到应用本身的入口，点开就是广告，容易误操作，给他们带来了很多的困扰。那这个就是以人为本，这次整顿很是大快人心。</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul><li><a href="https://pip.cybersac.cn/jbxt/privacy/index" rel="external nofollow noopener noreferrer" target="_blank">App专项治理工作组</a></li><li>公号关注：<strong>APP个人信息保护治理</strong> 中国信息通信研究院 APP个人信息保护治理的工作动态、通知公告等相关信息发布。</li><li>公号关注：<strong>App个人信息举报</strong>  中国网络空间安全协会 受理对违法违规收集使用个人信息的举报；发布对App隐私政策和个人信息收集情况的评估及处置结果。</li><li>公号关注：<strong>12315</strong> 国家市场监督管理总局信息中心，可以投诉举报。</li></ul><h2 id="检测依据和标准"><a href="#检测依据和标准" class="headerlink" title="检测依据和标准"></a>检测依据和标准</h2><ul><li><a href="https://www.miit.gov.cn/jgsj/xgj/gzdt/art/2021/art_68251d4c11784e1bae41048117a8720d.html" rel="external nofollow noopener noreferrer" target="_blank">《移动互联网应用程序个人信息保护管理暂行规定（征求意见稿）》</a></li><li>全国信息安全标准化技术委员会《GB/T 35273-2020-信息安全技术 个人信息安全规范》</li><li>全国信息安全标准化技术委员会《信息安全技术 移动互联网应用程序（App）收集个人信息基本规范(征求意见稿)》</li><li>全国信息安全标准化技术委员会《移动互联网应用程序（App）收集使用个人信息自评估指南》</li><li>全国信息安全标准化技术委员会《移动互联网应用程序（APP）系统权限申请使用指引(征求意见稿)》</li><li>App专项治理工作组《App违法违规收集使用个人信息自评估指南》</li><li>APP专项治理工作组《App申请安卓系统权限机制分析与建议》</li><li>工业和信息化部《关于开展APP侵害用户权益专项整治工作的通知（工信部信管函〔2019〕337号）》</li><li>工业和信息化部《关于开展纵深推进APP侵害用户权益专项整治行动的通知（工信部信管函〔2020〕164号）》</li><li>《常见类型移动互联网应用程序必要个人信息范围规定》</li><li>国家互联网信息办公室《个人信息出境安全评估办法（征求意见稿）》</li><li>中国信通院《小程序个人信息保护研究报告》</li><li>《中华人民共和国网络安全法》</li><li>《个人信息安全规范》 –中国版的GDPR</li><li>《中华人民共和国网络安全法》</li><li>《中华人民共和国消费者权益保护法》</li><li>《App违法违规收集使用个人信息行为认定方法》</li><li>《信息安全技术 个人信息安全规范》（GB/T 35273-2020）</li><li>《移动互联网应用程序（App）收集使用个人信息自评估指南》（2020）</li><li>《工业和信息化部关于开展纵深推进APP侵害用户权益专项整治行动的通知》</li></ul><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/09/介绍国外几个不错的Twitter_APP/">介绍国外几个不错的Twitter APP</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;近年来，移动互联网应用程序（App）得到广泛应用，在促进经济社会发展、服务民生等方面发挥了不可替代的作用。同时，App强制授权、过度索权、超范围收集个人信息的现象大量存在，违法违规使用个人信息的问题十分突出，广大网民对此反应强烈。落实《网络安全法》《消费者权益保护法》的要求，为保障个人信息安全，维护广大网民合法权益，中央网信办、工业和信息化部、公安部、市场监管总局决定，自2019年1月至12月，在全国范围组织开展App违法违规收集使用个人信息专项治理。&lt;/p&gt;
&lt;p&gt;–摘自&lt;a href=&quot;http://www.cac.gov.cn/2019-01/25/c_1124042599.htm&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;中央网信办、工业和信息化部、公安部、市场监管总局《关于开展App违法违规收集使用个人信息专项治理的公告》&lt;/a&gt;》&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="app" scheme="https://blogs.kainy.cn/tags/app/"/>
    
      <category term="隐私" scheme="https://blogs.kainy.cn/tags/%E9%9A%90%E7%A7%81/"/>
    
      <category term="合规" scheme="https://blogs.kainy.cn/tags/%E5%90%88%E8%A7%84/"/>
    
  </entry>
  
  <entry>
    <title>小程序开发者工具“插件模式”下本地调试云函数的方法</title>
    <link href="https://blogs.kainy.cn/2021/05/20210511%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E6%8F%92%E4%BB%B6%E6%A8%A1%E5%BC%8F%E4%B8%8B%E8%B0%83%E8%AF%95%E4%BA%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>https://blogs.kainy.cn/2021/05/20210511小程序开发者工具插件模式下调试云函数的方法/</id>
    <published>2021-05-11T11:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.778Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p><strong><a href="/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/ ">票圈海报</a></strong> 插件开发过程中，用到小程序云开发。</p><p>在云函数开发过程中，如果是普通小程序，开启本地调试后，模拟器中的小程序请求会自动转发到本地云函数，无需每次改动后部署云端，可监听文件改动自动重载，可进行断点调试等操作，十分方便。</p><p>但是在“插件模式”下，插件中的云函数调用，似乎并没有被转发到本地，而是请求到云端。也就是说本地调试只针对小程序有效。</p><p>可如果切回“小程序模式”，插件代码又无法实时改动，调试更加繁琐。</p><a id="more"></a><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>所以问题突破点在于：如何在开发模式为“小程序模式”下，引用开发版本的小程序插件代码。</p><p>搜寻一番，发现微信开发者工具 1.02.1911181 RC开始支持引用小程序开发版插件</p><p>具体方法是：</p><p>在“插件模式”下，上传插件代码，然后将弹窗中的“开发版插件引用ID”复制下来</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gqeazsgxg1j20rq0amt9s.jpg"></p><p>切换到“小程序模式”，修改 <code>miniprogram/app.json</code> 文件内容，将 <code>[&quot;plugins&quot;][&quot;myPlugin&quot;][&quot;version&quot;]</code> 字段值改为 “ dev -［ 刚才复制的开发版插件引用ID ］” 格式。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gqebnvtfnxj20ni06o74s.jpg"></p><h1 id="吐个槽"><a href="#吐个槽" class="headerlink" title="吐个槽"></a>吐个槽</h1><p>插件调用用户信息功能页，需要在 miniprogram/app.json 文件中增加声明</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"functionalPages"</span>: &#123;</span><br><span class="line">    <span class="attr">"independent"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使得插件和小程序耦合起来，对于小程序已经托管到第三方，无法自己改代码。很不便，这种其实作为一个配置项，在小程序公众平台配置会比较合理。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/12/网页开发者工具(Chrome DevTools)中开启暗黑模式（dark mode）调试的方法/">网页开发者工具（Chrome DevTools）中开启暗黑模式（dark mode）调试的方法</a></li><li><a href="https://blogs.kainy.cn/2012/09/'IE浏览器URL最大长度2,083？'/">IE浏览器URL最大长度2,083？</a></li><li><a href="https://blogs.kainy.cn/2020/12/小程序插件用户信息功能页/">小程序插件用户信息功能页调试问题的解决</a></li><li><a href="https://blogs.kainy.cn/2016/01/平安内网标装机远程调试安卓webview的方法/">平安内网标装机远程调试安卓webview的方法</a></li><li><a href="https://blogs.kainy.cn/2015/04/微信webview远程调试/">微信webview远程调试</a></li><li><a href="https://blogs.kainy.cn/2016/03/Android_WebView_前端开发调试/">Android WebView 前端开发调试</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/ &quot;&gt;票圈海报&lt;/a&gt;&lt;/strong&gt; 插件开发过程中，用到小程序云开发。&lt;/p&gt;
&lt;p&gt;在云函数开发过程中，如果是普通小程序，开启本地调试后，模拟器中的小程序请求会自动转发到本地云函数，无需每次改动后部署云端，可监听文件改动自动重载，可进行断点调试等操作，十分方便。&lt;/p&gt;
&lt;p&gt;但是在“插件模式”下，插件中的云函数调用，似乎并没有被转发到本地，而是请求到云端。也就是说本地调试只针对小程序有效。&lt;/p&gt;
&lt;p&gt;可如果切回“小程序模式”，插件代码又无法实时改动，调试更加繁琐。&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
      <category term="JavaScript" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/JavaScript/"/>
    
    
      <category term="调试" scheme="https://blogs.kainy.cn/tags/%E8%B0%83%E8%AF%95/"/>
    
      <category term="小程序插件" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>小程序数据助手统计数据不准确的可能原因</title>
    <link href="https://blogs.kainy.cn/2021/04/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%8A%A9%E6%89%8B%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%87%86%E7%A1%AE%E7%9A%84%E5%8F%AF%E8%83%BD%E5%8E%9F%E5%9B%A0/"/>
    <id>https://blogs.kainy.cn/2021/04/小程序数据助手统计数据不准确的可能原因/</id>
    <published>2021-04-23T10:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.797Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在<a href="/2020/11/201116小程序插件数据统计/?f=小程序数据助手统计数据不准确的可能原因">小程序插件数据统计</a>中，介绍了一种追踪小程序插件访问数据的方法。该方法同样适用于小程序数据统计。</p><p>虽然微信官方提供了<code>公众平台</code>和<code>小程序数据助手</code>等非常方便的工具，但实际业务中，会发现一些和预期不一致的统计结果，比如业务数据和访问数据步调不一致。这时就需要有份参照数据交叉验证。经过对几个小程序的官方和自有统计数据，一段时间的观察和比较，总体来说，官方的数据会低于自己统计。</p><a id="more"></a><h2 id="统计口径"><a href="#统计口径" class="headerlink" title="统计口径"></a>统计口径</h2><p>为了增加可对比性，参照数据的统计口径应尽量和官方保持一致，所以在小程序端上送了 openid 作为访客标识。</p><p>参考官方的访问数据统计口径：</p><ul><li>累计访问人数：历史累计访问小程序的用户数，同一用户多次访问不重复计。</li><li>新访问人数：首次访问小程序页面的用户数，同一用户多次访问不重复计。</li><li>打开次数：打开小程序的总次数。用户从打开小程序到主动关闭或超时退出小程序的过程，计为一次。</li><li>访问次数：访问小程序页面的总次数。多个页面之间跳转、同一页面的重复访问计为多次访问。</li><li>访问人数：访问小程序页面的总用户数，同一用户多次访问不重复计。</li><li>人均停留时长：平均每个用户停留在小程序页面的总时长（单位为秒），即总停留时长/访问人数。</li><li>次均停留时长：平均每次打开小程序停留在小程序页面的总时长（单位为秒），即总停留时长/打开次数。</li><li>平均访问深度：平均每次打开小程序访问的去重页面数。</li><li>访问留存人数：本周期有访问，且上一周期有访问的用户（如日粒度下则为当日访问且昨日有访问的用户）</li><li>访问回流人数：本周期有访问，上一周期没有访问，但历史有访问过的用户（如日粒度下则为当日访问且昨日没有访问，但历史曾经访问过的用户）</li></ul><h2 id="突出案例"><a href="#突出案例" class="headerlink" title="突出案例"></a>突出案例</h2><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gpygjzm97oj21b80eymyq.jpg"></p><p>上图是4月26号“AppID查”小程序的访问统计数据，访问人数只有5，但根据自有统计数据，当天上送数据含 openid 除重后是33</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gpzaix9azij20tm0pytay.jpg" alt="image.png"></p><h2 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h2><p>首先在小程序开发者社区查了一些关于“统计数据不准确”的讨论，已经不少人遇到类似的问题。</p><ul><li><a href="https://developers.weixin.qq.com/community/develop/doc/000028440c4ac8214eca6bae851800?* highline=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%8A%A9%E6%89%8B%20%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%20" rel="external nofollow noopener noreferrer" target="_blank">小程序数据助手的人数统计似乎不太准确?</a></li><li><a href="https://developers.weixin.qq.com/community/develop/doc/0004ecea5fccb8909edb225e456800?* highLine=%25E6%2595%25B0%25E6%258D%25AE%25E7%25BB%259F%25E8%25AE%25A1%25E5%25B7%25AE%25E5%25BC%2582%25E5%25A4%25A7" rel="external nofollow noopener noreferrer" target="_blank">小程序后台统计数据和数据库实际用户差异很大，是否为假用户？</a></li><li><a href="https://developers.weixin.qq.com/community/develop/doc/0000c87e1fc7806cd39bfe6835b400?* highLine=%25E5%25B0%258F%25E7%25A8%258B%25E5%25BA%258F%25E6%2595%25B0%25E6%258D%25AE%25E5%258A%25A9%25E6%2589%258B%2520%25E8%25AE%25BF%25E9%25* 97%25AE%25E4%25BA%25BA%25E6%2595%25B0" rel="external nofollow noopener noreferrer" target="_blank">很棘手的问题！为什么小程序统计数据不对？求官方大大解决</a></li><li><a href="https://developers.weixin.qq.com/community/develop/doc/000cce4597473834c54954c8651400" rel="external nofollow noopener noreferrer" target="_blank">公众号菜单点击数据和小程序统计的数据差距太大问题？</a></li><li><a href="https://developers.weixin.qq.com/community/develop/doc/000aa40b7d4e68da8adbf4bde56400?jumpto=" rel="external nofollow noopener noreferrer" target="_blank">云开发怎么防刷赞</a></li><li><a href="https://developers.weixin.qq.com/community/develop/doc/00048a3ab7c7e00eb9da3e68a56400?highLine=%25E5%25B0%258F%25E7%25A8%258B%25E5%25BA%258F%25E6%2595%25B0%25E6%258D%25AE%25E5%258A%25A9%25E6%2589%258B%2520%25E8%25AE%25BF%25E9%2597%25AE%25E4%25BA%25BA%25E6%2595%25B0" rel="external nofollow noopener noreferrer" target="_blank">用openid记录用户数，小程序数据助手统计的为什么比自己后台统计的要多很多呢？</a></li></ul><p>这里有官方统计比实际偏高的，也有偏低的。</p><p>偏高好理解，因为微信可以在小程序整个生命周期进行数据上报，而开发者只能在已开放的几个特定生命周期里上报。小程序启动加载、包体加载、启动流程，这些过程都是开发者不可感知的 —— 有可能用户还没加载小程序包就点了关闭按钮，就会导致微信统计到了这次访问，而开发者没统计到。比较好奇偏低的原因，小程序数据统计究竟“漏了”哪部分数据？</p><p>根据社区上面的回答来看，最有可能是官方的数据统计过滤了爬虫数据（1129场景值的微信爬虫，和其他爬虫的访问数据）导致了数据偏低。</p><p>但回到“AppID查”这个小程序，实现的功能实在太简单了 —— 就一个页面，根据输入的 AppID，打开对应小程序，来实现的信息查询，应该不至于招致那么多爬虫来。。 同时，服务端记录了每次查询的 AppID 数据，用于实现底部的“热门查询”模块，根据绝大部分用户查询的 AppID ，和操作时间间隔来看，也不太像是机器操作。所以这个问题就很奇怪。</p><p>个人认为如果真是微信对某些访问进行了过滤，可以考虑开放个接口供开发者验证。比如输入 AppID 和 openid ，返回“真人概率”，以免黑盒导致的困惑。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li><li><a href="https://blogs.kainy.cn/2009/11/“柠檬市场”理论的分析和应用实例/">“柠檬市场”理论的分析和应用实例</a></li><li><a href="https://blogs.kainy.cn/2017/09/小程序页面“乱入”问题的解决办法/">小程序页面“被缓存”问题的解决方法</a></li><li><a href="https://blogs.kainy.cn/2021/10/把小程序放到 iPhone 桌面的方法(非URL Scheme)/">把微信小程序放到 iPhone 桌面的方法(非URL Scheme)</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;在&lt;a href=&quot;/2020/11/201116小程序插件数据统计/?f=小程序数据助手统计数据不准确的可能原因&quot;&gt;小程序插件数据统计&lt;/a&gt;中，介绍了一种追踪小程序插件访问数据的方法。该方法同样适用于小程序数据统计。&lt;/p&gt;
&lt;p&gt;虽然微信官方提供了&lt;code&gt;公众平台&lt;/code&gt;和&lt;code&gt;小程序数据助手&lt;/code&gt;等非常方便的工具，但实际业务中，会发现一些和预期不一致的统计结果，比如业务数据和访问数据步调不一致。这时就需要有份参照数据交叉验证。经过对几个小程序的官方和自有统计数据，一段时间的观察和比较，总体来说，官方的数据会低于自己统计。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="数据统计" scheme="https://blogs.kainy.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="分析" scheme="https://blogs.kainy.cn/tags/%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>新媒体核查指标内容</title>
    <link href="https://blogs.kainy.cn/2021/01/%E6%96%B0%E5%AA%92%E4%BD%93%E6%A0%B8%E6%9F%A5%E6%8C%87%E6%A0%87%E5%86%85%E5%AE%B9/"/>
    <id>https://blogs.kainy.cn/2021/01/新媒体核查指标内容/</id>
    <published>2021-01-25T14:01:16.000Z</published>
    <updated>2022-03-18T12:03:11.802Z</updated>
    
    <content type="html"><![CDATA[<p><em>如果核查网站/客户端/社交账号中存在以下问题，请打勾，同时具体说明问题表现并相关链接。如果未出现相关问题，则无需标注。If you find the following problems in the website/app/social media account please tick the box, specify the manifestation of the problem, and attach a link of its post. If there is no related problem, do not need to mark it down.</em></p><h1 id="内容问题发现-Problem-Finding"><a href="#内容问题发现-Problem-Finding" class="headerlink" title="内容问题发现 Problem Finding"></a>内容问题发现 Problem Finding</h1><h2 id="选题-About-Topic-Selection"><a href="#选题-About-Topic-Selection" class="headerlink" title="选题 About Topic Selection"></a>选题 About Topic Selection</h2><p>1.选题不利于听众（尤其是青少年）的身心健康发展 The selected topic is not good for the physical and mental health of the listeners , especially teenagers</p><a id="more"></a><p>2.选题危害中国/当地国两国尊严和利益 The selected topic endangers the dignity and interests of China or the local Country</p><p>3.选题亵渎或侵害中国/当地国两国文化和风俗 The selected topic defiles or violates the culture and custom traditions of  China or the  local Country</p><p>4.新闻资讯类选题未契合当下热点话题 The selected topic of news information does not match with recent hot topics of the public</p><p>5.汉语教学、中医健康类选题与日常生活场景需求无关 Chinese teaching and Chinese medicine health topics are completely unrelated to the needs of daily life scenes</p><p>6.音乐、文化类选题难以引发当地人兴趣 Music and cultural topics does not  attract the attention of local people.</p><p>7.选题不符合核查社交账号定位 The selected topic does not match the positioning of the checked social media account.</p><h2 id="内容-About-Content"><a href="#内容-About-Content" class="headerlink" title="内容 About  Content"></a>内容 About  Content</h2><p>1.存在人物、时间、地点、数据等信息错误 There are information errors about people, time, location, data, etc.</p><p>2.内容与官方机构发布的信息不一致 There is content that does not comply with the information issued by the official agency</p><p>3.内容与历史信息不符 There is content that does not match with the historical information</p><p>4.涉当地国内容与你所了解的不一致，给你造成了困惑 The content about the local country is not compitable with what you know, making you confused</p><p>5.有内容未公布信息源，导致信息不透明、不可信 Some information sources are not disclosed, resulting in opaque and unreliable information</p><p>6.有信息引用了不具权威性的信息源（如未经核实的网络贴文），导致内容说服力不强 Some information cited unreliable sources of information (such as unverified online posts),  making the content not persuasive</p><p>7.存在难以理解的专有名词 There are some special nouns that you don’t understand</p><p>8.内容缺乏一定的背景介绍 The content lacks some background information</p><p>9.有的内容未跟当地国情况结合起来，当地受众难以理解 Some content is strange and new, but is not told in local context, and is difficult for the local audience to understand</p><p>10.有的内容仅介绍争执双方中一方立场，没有介绍另一方立场 Some content is biased that only presents the views/positions of one party in the dispute, and does not display the views/positions of the opposition party</p><p>11.有的内容仅给出结论或观点，没有说明具体事实依据 Some contents only give conclusions or opinions without specific or factual evidence</p><p>12.有内容报道为即将发生，而实际已经发生 There is content that is reported to be happening but has actually happened</p><p>13.新闻报道未介绍当下最新进展 News reports do not cover current developments</p><p>14.新闻报道未涵盖新闻相关各方声音，如只介绍官方政策，未提及民众反应 News report does not cover the voices of all parties involved in the news. Such as it only tells an official policy, but does not mention the public’s reaction</p><p>15.有的新闻未涵盖完整的新闻要素（时间、地点、人物、事件），致使事件模糊 Some news did not cover the complete news elements (time, place, people, events), making the news event ambiguous</p><p>16.汉语教学类节目未介绍具体使用场景及注意事项 Chinese teaching programs do not provide specific scenes to be used nor issues the do’s and don’ts</p><p>17.美食、中医类节目提到的食材、器具在当地难以获得 It is difficult to get the food ingredients and utensils mentioned in food and Chinese medicine programs in local areas</p><p>18.美食、中医类节目未介绍相应食材、器具的获取渠道 The programs of food and traditional Chinese medicine do not introduce the channels of obtaining relevant food ingredients and utensils</p><p>19.美食、中医类节目未提醒实际操作中可能会存在的危险 Food and Chinese medicine programs do not warn of potential risks during practice</p><p>20.存在同一帖文重复多次发布问题  There is a problem of repeatedly posting the same post</p><h1 id="编辑-About-Editing"><a href="#编辑-About-Editing" class="headerlink" title="编辑 About Editing"></a>编辑 About Editing</h1><h2 id="文字-Wording"><a href="#文字-Wording" class="headerlink" title="文字 Wording"></a>文字 Wording</h2><p>1.存在拼写错误 There are spelling errors</p><p>2.存在语法错误 There are gramartical mistakes</p><p>3.标点符号使用不规范 There are wrong punctuation</p><h2 id="可视化-Visualization"><a href="#可视化-Visualization" class="headerlink" title="可视化 Visualization"></a>可视化 Visualization</h2><p>1.图片、视频等与帖文文字内容不匹配 Pictures, videos, etc. do not match the post text</p><p>2.字版、图版、地图等辅助手段存在信息错误 There are wrong information in font board, charts and maps, etc.</p><p>3.使用资料画面时，未注明来源 When using the data, the source of data is not indicated</p><p>4.图片颜色和字体颜色色差不明显，导致文字信息难以辨认 The color difference between the picture and the text is not obvious,  making the text information difficult to recognize</p><h2 id="字幕-About-Subtitles"><a href="#字幕-About-Subtitles" class="headerlink" title="字幕 About Subtitles"></a>字幕 About Subtitles</h2><p>1.字幕存在拼写错误 There are spelling errors in the subtitles</p><p>2.字幕存在语法或格式不规范问题 Subtitles have gramatical mistakes or non-standard format</p><p>3.存在字幕误上问题，如标题误上；嘉宾、记者、主持人身份误上等 Subtitles of the introduction or identity of guests, reporters, or hosts are incorrect or confusing</p><p>4.存在字幕遮挡或显示不完整问题 Subtitles are blocked or displayed incompletely</p><p>5.导语、字幕信息更新不及时 Lead language and subtitle information are not updated in time</p><p>6.存在缺失本地语言字幕或配音的情况 Local language subtitles or dubbing are missing</p><hr><h1 id="体验问题发现-Problem-Finding"><a href="#体验问题发现-Problem-Finding" class="headerlink" title="体验问题发现 Problem Finding"></a>体验问题发现 Problem Finding</h1><h2 id="技术质量-About-Technical-Quality"><a href="#技术质量-About-Technical-Quality" class="headerlink" title="技术质量 About Technical Quality"></a>技术质量 About Technical Quality</h2><p>1.存在无法播放的视频 There is a video that cannot be played</p><p>2.存在无法播放的音频 There is an audio that cannot be played</p><p>3.存在无法加载的图片 There is a picture that cannot be loaded</p><p>4.存在无法打开或打开错误的链接 There is a link that is opened with an error </p><p>5.作品格式错误：如视频作品实际显示却为图片 Incorrect format of a work: for example, a video is displayed as a picture</p><p>请在此具体说明问题表现并附上相关链接  Please specify the manifestation of the problem, and attach a link of its page here</p><h2 id="页面设计-About-Page-Design"><a href="#页面设计-About-Page-Design" class="headerlink" title="页面设计 About Page Design"></a>页面设计 About Page Design</h2><p>1.网站/客户端整体风格不一致 Overall style of the website/app is inconsistent</p><p>2.存在色彩搭配混乱问题 There is a problem of color confusion</p><p>3.网站/客户端logo或宣传语设计或位置不清楚、不突出 Design or location of the website/app logo or propaganda language is not clear or prominent</p><p>4.图片颜色和文字颜色色差不明显，致使文字信息难以辨认 The color difference between the picture and the text is not obvious, making the text information difficult to recognize</p><p>5.文字字体、字号、颜色、斜粗设计不合理，导致文字难以辨认 Type, size, color, style or weight of the font is unreasonable, making the word or text unable to recognize</p><p>6.广告位置、数量等设计不合理，影响用户正常阅读页面内容 Design in advertisement location, quantity, etc. is unreasonable, affecting users’ normal reading of the page content </p><h2 id="易用性-About-Usability"><a href="#易用性-About-Usability" class="headerlink" title="易用性 About Usability"></a>易用性 About Usability</h2><p>1.导航设置（主导航、下级页面导航、页面返回等）不清不楚，无法有效引导用户进行操作 Navigation settings (primary navigation, subordinate page navigation, page return, etc.) are unclear and cannot effectively give users guidance</p><p>2.版面布局（首页分栏、页面长度等）不够合理，不能方便快速阅览信息 Page layout (page column, page length, etc.) is not reasonable enough, which does not facilitate quick access to information</p><p>3.检索功能使用不方便 The retrieval function is not user-friendly</p><p>4.检索结果不够准确 Retrieval results are not accurate</p><p>5.往期内容查询功能有限，未涵盖全部资源  Query function of previous content is limited and does not cover all resources</p><p>6.各板块分类不明确、不清楚，无法通过板块名称知晓其主要内容 Classification of each segment is not clear and distinct, thus the main content can not be informed through the name of the segment</p><h2 id="受众互动-About-Users-Interaction"><a href="#受众互动-About-Users-Interaction" class="headerlink" title="受众互动 About Users Interaction"></a>受众互动 About Users Interaction</h2><p>1.邮箱、论坛、评论、分享等信息交换功能无法正常使用 Information exchange functions such as mailbox, BBS, comment, sharing, etc. cannot be used properly</p><p>2.用户信息收集（订阅、收藏、浏览量）功能无法正常使用 Function of collecting user information (subscribing, adding to favorites, pageviews, etc.) does not work properly</p><p>3.调查、投票、问卷等互动参与渠道无法正常使用 Interactive participation channels such as investigation, questionnaires, voting, etc. does not work properly</p><p>4.未告知受众参与互动的渠道 How to participate the interaction is not informed on the website/app</p><p>5.未履行互动承诺，如设置了抽奖或者投票等互动环节，但未在约定时间内公布获奖名单或者投票结果 The website/app does not fulfill its commitment. For example: it does not announce the results or the list of winners of a questionnaire, vote or lucky draw within the agreed time</p><p>6.互动话题与网站/客户端定位不符 The interactive topic does not match the positioning of the website/app</p><h2 id="宣传推广-About-Publicity-and-Promotion"><a href="#宣传推广-About-Publicity-and-Promotion" class="headerlink" title="宣传推广 About Publicity and Promotion"></a>宣传推广 About Publicity and Promotion</h2><p>1.在软件商店（Google Play、Apple Store等）无法很快搜索到核查客户端 It is not easy to find the checked app in an app store like google play or apple store</p><p>2.没有在网站/客户端上找到有关核查广播/电视的内容，如节目单、节目预告、或节目简介等 No content about the checked radio/television programs, such as program lists, schedule, profiles, is found on the website/app</p><p>3.核查网站/客户端未在显眼位置推荐其社交媒体帐号 The website/app does not recommend its social media account in a conspicuous position</p><h2 id="广告（包括节目广告和商业广告）About-Advertising-including-program-advertisements-and-commercial-advertisements"><a href="#广告（包括节目广告和商业广告）About-Advertising-including-program-advertisements-and-commercial-advertisements" class="headerlink" title="广告（包括节目广告和商业广告）About Advertising (including program advertisements and commercial advertisements)"></a>广告（包括节目广告和商业广告）About Advertising (including program advertisements and commercial advertisements)</h2><p>1.播出容易误导消费者的虚假广告 Broadcasting fake advertisements that can easily mislead consumers</p><p>2.广告内容具有诱导性，危害听众（尤其是青少年）的身心健康发展 The content of advertisements is seductive and harmful to the physical and mental health of the listeners, especially teenagers</p><p>3.广告内容亵渎或侵害中国和当地国两国文化和风俗 The advertising content  defiles or violates the culture and customs of  China or your country</p><p>4.播出中国或者当地法律法规禁止的广告 The content of advertisements are prohibited by Chinese or local laws and regulations</p><p>5.播出中国或者当地法律法规禁止的广告 The content of advertisements are prohibited by Chinese or local laws and regulations</p><p>6.广告中使用绝对化语言，容易欺骗和误导公众 The advertisements use absolute words which can easily deceive and mislead the public</p><p>7.药品、医疗器械、医疗和健康资讯类广告中含有宣传治愈率、有效率等词汇  Advertisements on medicines, medical devices, medical and health information contain words of cure rate, effective efficiency, etc</p><p>8.药品、医疗器械、医疗和健康资讯类广告中以医生、专家、患者、公众人物等形象做疗效证明 Advertisements on medicines, medical devices, medical and health information use the images of doctors, experts, patients, public figures, etc. to prove efficacy</p><p>9.投资咨询、金融理财和连锁加盟等具有投资性质的广告中，未设置“投资有风险”等警示内容 Advertisements on investment consulting, financial management, and franchise advertising, do not have cautionary content such as “investment is risky”</p><hr><h1 id="满意度-satisfaction"><a href="#满意度-satisfaction" class="headerlink" title="满意度 satisfaction"></a>满意度 satisfaction</h1><p><em>请填写以下关于网站/客户端满意度的问题  Please fill in the form in the following questions about your satisfaction with the checked website/app.</em></p><p>1.你印象最深刻的中国内容有哪些？请说明理由。What are the most impressive Chinese contents after browsing the website/app.? Please specify the reason.</p><p>请在此处作答 Please give your answer here</p><p>2.你印象最深刻的当地国内容有哪些？请说明理由。What are the most impressive local contents after browsing the website/app.? Please specify the reason.</p><p>请在此处作答 Please give your answer here</p><p>3.你印象最深刻的其他内容有哪些？请说明理由。What other contents have impressed you most?  Please specify the reason.</p><p>请在此处作答 Please give your answer here    </p><p>4.你认为核查网站/客户端整体质量如何？给你带来了什么收获？How do you like the overall quality of the checked website/app.? What did you get from it?</p><p>请在此处作答 Please give your answer here    </p><p>5.对比你所在地区的同类型网站/客户端，你觉得核查网站/客户端的亮点是什么？Compared with similar websites/apps in your area, what do you think are the highlights of the website/app. you checked today?</p><p>请在此处作答 Please give your answer here    </p><p>6.对比你所在地区的同类型网站/客户端，你觉得核查网站/客户端有何不足？可以如何改进？Compared with similar websites/apps in your area, what shortcomings do you find in checking the website/app.? How can it be improved?</p><p>请在此处作答 Please give your answer here    </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;如果核查网站/客户端/社交账号中存在以下问题，请打勾，同时具体说明问题表现并相关链接。如果未出现相关问题，则无需标注。If you find the following problems in the website/app/social media account please tick the box, specify the manifestation of the problem, and attach a link of its post. If there is no related problem, do not need to mark it down.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&quot;内容问题发现-Problem-Finding&quot;&gt;&lt;a href=&quot;#内容问题发现-Problem-Finding&quot; class=&quot;headerlink&quot; title=&quot;内容问题发现 Problem Finding&quot;&gt;&lt;/a&gt;内容问题发现 Problem Finding&lt;/h1&gt;&lt;h2 id=&quot;选题-About-Topic-Selection&quot;&gt;&lt;a href=&quot;#选题-About-Topic-Selection&quot; class=&quot;headerlink&quot; title=&quot;选题 About Topic Selection&quot;&gt;&lt;/a&gt;选题 About Topic Selection&lt;/h2&gt;&lt;p&gt;1.选题不利于听众（尤其是青少年）的身心健康发展 The selected topic is not good for the physical and mental health of the listeners , especially teenagers&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="新媒体" scheme="https://blogs.kainy.cn/tags/%E6%96%B0%E5%AA%92%E4%BD%93/"/>
    
      <category term="核查" scheme="https://blogs.kainy.cn/tags/%E6%A0%B8%E6%9F%A5/"/>
    
      <category term="指标" scheme="https://blogs.kainy.cn/tags/%E6%8C%87%E6%A0%87/"/>
    
  </entry>
  
  <entry>
    <title>中文域名</title>
    <link href="https://blogs.kainy.cn/2021/01/%E4%B8%AD%E6%96%87%E5%9F%9F%E5%90%8D/"/>
    <id>https://blogs.kainy.cn/2021/01/中文域名/</id>
    <published>2021-01-05T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.787Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h2><p>为<a href="/2020/12/取名记/?f=blogs-ZWYM">宝宝取名</a>后，就琢磨着是不是该注册个域名，结果一搜拼音 guoning ，发现主流的 com、cn、net 毫无意外的已被注册，其中 cn 域名在售卖中，询了下价格，已经到 8k＋ 感觉有点高，而类似 .fun 的后缀，思来想去觉着不太方便记忆，尤其考虑到将来新的后缀不断出现，很容易就搞错了。偶然输入 <a href="https://www.柠.cn/?f=blogs" rel="external nofollow noopener noreferrer" target="_blank">柠.cn</a> 查了下居然还未注册，于是目光转向了中文域名。</p><a id="more"></a><h2 id="国际化域名"><a href="#国际化域名" class="headerlink" title="国际化域名"></a>国际化域名</h2><p>通常我们看到的域名都是由拉丁字符（ASCII码，全称：美国信息交换标准码）组成，比如 baidu.com google.cn ，域名系统（DNS）也只支持ASCII字符的主机名解析。</p><p>为了让数以亿计，母语非拉丁字母组成的新用户，能用本地语言文字访问互联网，互联网工程任务组（IETF）发布了国际化域名应用（IDNA）标准。</p><p>简单理解，就是把各种非拉丁字符（各国语言），转为 ASCII 编码字符串的一个规则，这种编码称为 Punycode 。这样 DNS 依然只需要支持 ASCII 编码，通过引入 Punycode 转码这一层，既实现向下兼容，又不影响现有的应用程序协议，但也导致了下面要说到到限制。</p><h2 id="顾虑"><a href="#顾虑" class="headerlink" title="顾虑"></a>顾虑</h2><p>中文域名，属于国际化域名的一种，虽然已经存在不下十年，但现实中看到使用的却不多。想了下应该主要还是由于兼容问题 —— 通过上面的分析可知，当我们访问了一个中文域名网址，比如 <a href="https://郭涛。中国/?f=blogs" rel="external nofollow noopener noreferrer" target="_blank">郭涛。中国</a> ，实际先经过浏览器对主机名做 Ponycode 转码，对于更底的 DNS 系统实际看到的是客户端（浏览器）解析后的 <code>xn--b2w966e.xn--fiqs8s</code> 。</p><p>这意味着，如果网站访客的客户端不支持解析，则无法解析中文主机名，从而无法访问网址。这时候就得引导访客自己手动在地址栏输入 <code>xn--b2w966e.xn--fiqs8s</code>，这显然非常不便。而且很多情况下访客压根不知道问题出在客户端，以为是网站出了问题，直接就离开了。</p><p>日常使用中，域名出现较多的两个场景是网址和邮箱地址，目前浏览器支持还好，基本上输入中文网址都能访问，只是有些浏览器在地址栏，反显的是 Punycode 而不是中文域名；邮箱客户端方面，Gmail、Outlook、Mac 和 iOS 的邮件客户端，已经可以很好的支持中文域名邮箱，输入和反显都没问题，反而国内用的较多的 QQ 邮箱则尚不支持。</p><p>对于一个依赖客户端支持的应用规范，迟迟得不到广泛应用也就不足为奇了 —— 应用开发者没有动力去支持一个没有什么用户量的（中文域名）特性； 缺少应用开发者支持，又更加没用户愿意使用。</p><h2 id="转机"><a href="#转机" class="headerlink" title="转机"></a>转机</h2><p>事情似乎进入了鸡蛋相生的无解状态，然而看似没有希望本身就蕴含机会。由于大家对中文域名认知不高，有大量长度为1的中文域名没被注册，这种情况在其他通用顶级域名中是很罕见的。</p><p>通过对 Punycode 编码规则的解读，可以看出，中文域名编码后看似很长，其中很大部分原因在于固定前缀 <code>xn--</code> ，虽然这个前缀的来源我尚未考证。但必须承认，去掉这个前缀后，剩余的部分不算太长，特别对于单汉字的域名。</p><p>而且个别汉字的 Punycode，还特别好记忆，比如 <code>泞</code> 编码后是 <code>xn--www</code>，这就完全没有记忆的难度了。对于<code>泞</code>字有特殊意义的人而言，即便遇到客户端不支持中文域名，手动输入 xn–www，也不见得比抓破头想出个沾边的域名，如 ning8、wwwNing、myNing 方便记忆些，况且随着主流客户端对国际化域名支持的加强，这种手输编码的情况还将逐渐减少。</p><h2 id="中文域名推荐表"><a href="#中文域名推荐表" class="headerlink" title="中文域名推荐表"></a>中文域名推荐表</h2><p>根据以上规则整理了一个表格，列出了转 Punycode 后仍有一定意义／方便记忆的中文域名。由于是中文域名，最合适的后缀应该非 cn 莫属，感兴趣可以参考一下，点击第二列的链接可进入域名信息查询页</p><table><thead><tr><th>域名</th><th>Punycode</th><th>是否已注册</th></tr></thead><tbody><tr><td>㚯.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=㚯.cn&f=blogs" target="_blank" rel="noopener">xn–lll.cn</a></td><td>未知</td></tr><tr><td>佐.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=佐.cn&f=blogs" target="_blank" rel="noopener">xn–qqq.cn</a></td><td>否</td></tr><tr><td>吽.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=吽.cn&f=blogs" target="_blank" rel="noopener">xn–rrr.cn</a></td><td>否</td></tr><tr><td>太.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=太.cn&f=blogs" target="_blank" rel="noopener">xn–sss.cn</a></td><td>是</td></tr><tr><td>帗.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=帗.cn&f=blogs" target="_blank" rel="noopener">xn–ttt.cn</a></td><td>否</td></tr><tr><td>挄.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=挄.cn&f=blogs" target="_blank" rel="noopener">xn–uuu.cn</a></td><td>否</td></tr><tr><td>柱.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=柱.cn&f=blogs" target="_blank" rel="noopener">xn–vvv.cn</a></td><td>是</td></tr><tr><td>泞.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=泞.cn&f=blogs" target="_blank" rel="noopener">xn–www.cn</a></td><td>是</td></tr><tr><td>泞.cc</td><td><a href="https://kainy.cn/main/integrated/?domain=泞.cc&f=blogs" target="_blank" rel="noopener">xn–www.cc</a></td><td>是</td></tr><tr><td>燋.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=燋.cn&f=blogs" target="_blank" rel="noopener">xn–xxx.cn</a></td><td>否</td></tr><tr><td>箥.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=箥.cn&f=blogs" target="_blank" rel="noopener">xn–zzz.cn</a></td><td>否</td></tr><tr><td>简.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=简.cn&f=blogs" target="_blank" rel="noopener">xn–xyz.cn</a></td><td>是</td></tr><tr><td>㝥.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=㝥.cn&f=blogs" target="_blank" rel="noopener">xn–sql.cn</a></td><td>否</td></tr><tr><td>䐜.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=䐜.cn&f=blogs" target="_blank" rel="noopener">xn–seo.cn</a></td><td>未知</td></tr><tr><td>呡.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=呡.cn&f=blogs" target="_blank" rel="noopener">xn–ssr.cn</a></td><td>否</td></tr><tr><td>珮.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=珮.cn&f=blogs" target="_blank" rel="noopener">xn–key.cn</a></td><td>否</td></tr><tr><td>奟.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=奟.cn&f=blogs" target="_blank" rel="noopener">xn–bus.cn</a></td><td>否</td></tr><tr><td>剬.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=剬.cn&f=blogs" target="_blank" rel="noopener">xn–her.cn</a></td><td>否</td></tr><tr><td>害.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=害.cn&f=blogs" target="_blank" rel="noopener">xn–cct.cn</a></td><td>否</td></tr><tr><td>畃.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=畃.cn&f=blogs" target="_blank" rel="noopener">xn–boy.cn</a></td><td>否</td></tr><tr><td>灺.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=灺.cn&f=blogs" target="_blank" rel="noopener">xn–box.cn</a></td><td>否</td></tr><tr><td>帨.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=帨.cn&f=blogs" target="_blank" rel="noopener">xn–but.cn</a></td><td>否</td></tr><tr><td>瘕.cn</td><td><a href="https://kainy.cn/main/integrated/?domain=瘕.cn&f=blogs" target="_blank" rel="noopener">xn–buy.cn</a></td><td>否</td></tr></tbody></table><p>有一些太复杂的生僻字，就直接忽略了，有需要可自行查询。以上就是关于中文域名的全部推荐，希望你也喜欢。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/05/注册_.CN_域名的地方/">注册 .CN 域名的地方</a></li><li><a href="https://blogs.kainy.cn/2011/01/短域网/">短域网</a></li><li><a href="https://blogs.kainy.cn/2010/09/2010暑假总结/">2010暑假总结</a></li><li><a href="https://blogs.kainy.cn/2010/07/Hotmail设置邮件转发的方法/">Hotmail设置邮件转发的方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/20100109-cn-com-unregistered-domain/">20100109五位未注册.com域名{cn***.com}</a></li><li><a href="https://blogs.kainy.cn/2010/03/最新Godaddy域名价格查看方法/">最新Godaddy域名价格查看方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;起源&quot;&gt;&lt;a href=&quot;#起源&quot; class=&quot;headerlink&quot; title=&quot;起源&quot;&gt;&lt;/a&gt;起源&lt;/h2&gt;&lt;p&gt;为&lt;a href=&quot;/2020/12/取名记/?f=blogs-ZWYM&quot;&gt;宝宝取名&lt;/a&gt;后，就琢磨着是不是该注册个域名，结果一搜拼音 guoning ，发现主流的 com、cn、net 毫无意外的已被注册，其中 cn 域名在售卖中，询了下价格，已经到 8k＋ 感觉有点高，而类似 .fun 的后缀，思来想去觉着不太方便记忆，尤其考虑到将来新的后缀不断出现，很容易就搞错了。偶然输入 &lt;a href=&quot;https://www.柠.cn/?f=blogs&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;柠.cn&lt;/a&gt; 查了下居然还未注册，于是目光转向了中文域名。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="域名" scheme="https://blogs.kainy.cn/tags/%E5%9F%9F%E5%90%8D/"/>
    
      <category term="建站" scheme="https://blogs.kainy.cn/tags/%E5%BB%BA%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>网页开发者工具（Chrome DevTools）中开启暗黑模式（dark mode）调试的方法</title>
    <link href="https://blogs.kainy.cn/2020/12/%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7(Chrome%20DevTools)%E4%B8%AD%E5%BC%80%E5%90%AF%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F%EF%BC%88dark%20mode%EF%BC%89%E8%B0%83%E8%AF%95%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>https://blogs.kainy.cn/2020/12/网页开发者工具(Chrome DevTools)中开启暗黑模式（dark mode）调试的方法/</id>
    <published>2020-12-31T10:47:00.000Z</published>
    <updated>2022-03-18T12:03:11.812Z</updated>
    
    <content type="html"><![CDATA[<h2 id="开启模拟模式"><a href="#开启模拟模式" class="headerlink" title="开启模拟模式"></a>开启模拟模式</h2><p>Chrome87 版本已经支持，在开发者工具中开启网页的暗黑模式调试。步骤如图示：</p><a id="more"></a><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1gm7admzf99j217419ogtf.jpg" alt="Chrome DevTools Emulate CSS media type：prefer-color-scheme:dark"></p><p>Rendering Tab 滚到最下面，Emulate CSS media type。</p><h2 id="系统暗黑模式检测代码"><a href="#系统暗黑模式检测代码" class="headerlink" title="系统暗黑模式检测代码"></a>系统暗黑模式检测代码</h2><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme:</span> dark)&#123;</span><br><span class="line">  <span class="comment">/* 暗黑模式代码 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDarkMode = <span class="built_in">window</span>.matchMedia(<span class="string">'(prefers-color-scheme: dark)'</span>).matches</span><br></pre></td></tr></table></figure><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2012/09/'IE浏览器URL最大长度2,083？'/">IE浏览器URL最大长度2,083？</a></li><li><a href="https://blogs.kainy.cn/2020/12/小程序插件用户信息功能页/">小程序插件用户信息功能页调试问题的解决</a></li><li><a href="https://blogs.kainy.cn/2021/05/20210511小程序开发者工具插件模式下调试云函数的方法/">小程序开发者工具“插件模式”下本地调试云函数的方法</a></li><li><a href="https://blogs.kainy.cn/2016/01/平安内网标装机远程调试安卓webview的方法/">平安内网标装机远程调试安卓webview的方法</a></li><li><a href="https://blogs.kainy.cn/2015/04/微信webview远程调试/">微信webview远程调试</a></li><li><a href="https://blogs.kainy.cn/2016/03/Android_WebView_前端开发调试/">Android WebView 前端开发调试</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;开启模拟模式&quot;&gt;&lt;a href=&quot;#开启模拟模式&quot; class=&quot;headerlink&quot; title=&quot;开启模拟模式&quot;&gt;&lt;/a&gt;开启模拟模式&lt;/h2&gt;&lt;p&gt;Chrome87 版本已经支持，在开发者工具中开启网页的暗黑模式调试。步骤如图示：&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="调试" scheme="https://blogs.kainy.cn/tags/%E8%B0%83%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>取名记</title>
    <link href="https://blogs.kainy.cn/2020/12/%E5%8F%96%E5%90%8D%E8%AE%B0/"/>
    <id>https://blogs.kainy.cn/2020/12/取名记/</id>
    <published>2020-12-13T10:47:00.000Z</published>
    <updated>2022-03-18T12:03:11.793Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h2><p>姓名作为一个人的符号，<strong>可能</strong>伴随一生。一个好名字不仅给别人留下深刻的印象，也关系到一生的事业和人际关系。</p><p>故而郭某虽半生克己，却在宝宝取名上放任贪念，生怕错过一个可能性。即便自己想到的名字都挑不过来，还是在朋友圈、甚至同事匿名社区里求更多的名字建议，拿来投票做参考，最终结果如下：</p><a id="more"></a><h2 id="得票情况"><a href="#得票情况" class="headerlink" title="得票情况"></a>得票情况</h2><p>截止发文：</p><table><thead><tr><th>选项</th><th>百分比%</th></tr></thead><tbody><tr><td>郭柠</td><td>14.3%</td></tr><tr><td>郭楚芸</td><td>10.2%</td></tr><tr><td>郭梓莘</td><td>10.2%</td></tr><tr><td>我觉得这个也不错____</td><td>10.2%</td></tr><tr><td>郭槿</td><td>8.2%</td></tr><tr><td>郭沐</td><td>6.1%</td></tr><tr><td>郭小桃</td><td>6.1%</td></tr><tr><td>郭檬</td><td>6.1%</td></tr><tr><td>郭柔江</td><td>4.1%</td></tr><tr><td>郭槿清</td><td>4.1%</td></tr><tr><td>郭林林</td><td>2.0%</td></tr><tr><td>郭森森</td><td>2.0%</td></tr><tr><td>郭沐梓</td><td>2.0%</td></tr><tr><td>郭诺璟</td><td>2.0%</td></tr><tr><td>郭蔓逸</td><td>2.0%</td></tr><tr><td>郭馥瑄</td><td>2.0%</td></tr><tr><td>郭蕊慷</td><td>2.0%</td></tr><tr><td>郭尚珉</td><td>2.0%</td></tr><tr><td>郭霏璇</td><td>2.0%</td></tr><tr><td>郭蔺朔</td><td>2.0%</td></tr><tr><td>郭新森</td><td>0.0%</td></tr><tr><td>郭杨梅</td><td>0.0%</td></tr><tr><td>郭棋</td><td>0.0%</td></tr><tr><td>郭沐灶</td><td>0.0%</td></tr><tr><td>郭桐晰</td><td>0.0%</td></tr><tr><td>郭玖媤</td><td>0.0%</td></tr><tr><td>郭宛蕊</td><td>0.0%</td></tr><tr><td>郭嘉荨</td><td>0.0%</td></tr><tr><td>郭珏杉</td><td>0.0%</td></tr><tr><td>郭娇逸</td><td>0.0%</td></tr><tr><td>郭美妉</td><td>0.0%</td></tr><tr><td>郭荨铭</td><td>0.0%</td></tr></tbody></table><h2 id="票源地"><a href="#票源地" class="headerlink" title="票源地"></a>票源地</h2><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1glmnh7ofl7j20tk0ycacp.jpg" alt="image"></p><h2 id="投票设备品牌"><a href="#投票设备品牌" class="headerlink" title="投票设备品牌"></a>投票设备品牌</h2><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1glmn97zco9j20ts0ju75e.jpg" alt="image"></p><h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>当然，最终不会简单的票数相加来决定取名结果（老父亲牢握决定权），还要综合考虑，比如得票最高的郭柠，虽然给人清爽伶俐的感觉，也好写好记，但是网上却搜到不少重名的… ；另外还在考虑的是如何让宝宝自己也参与到选名的过程中来。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;起源&quot;&gt;&lt;a href=&quot;#起源&quot; class=&quot;headerlink&quot; title=&quot;起源&quot;&gt;&lt;/a&gt;起源&lt;/h2&gt;&lt;p&gt;姓名作为一个人的符号，&lt;strong&gt;可能&lt;/strong&gt;伴随一生。一个好名字不仅给别人留下深刻的印象，也关系到一生的事业和人际关系。&lt;/p&gt;
&lt;p&gt;故而郭某虽半生克己，却在宝宝取名上放任贪念，生怕错过一个可能性。即便自己想到的名字都挑不过来，还是在朋友圈、甚至同事匿名社区里求更多的名字建议，拿来投票做参考，最终结果如下：&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="取名" scheme="https://blogs.kainy.cn/tags/%E5%8F%96%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>小程序插件用户信息功能页调试问题的解决</title>
    <link href="https://blogs.kainy.cn/2020/12/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E5%8A%9F%E8%83%BD%E9%A1%B5/"/>
    <id>https://blogs.kainy.cn/2020/12/小程序插件用户信息功能页/</id>
    <published>2020-12-07T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.797Z</updated>
    
    <content type="html"><![CDATA[<p>事情起源于<a href="/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/?from=blogs-functional-page-navigator">《合成海报的小程序插件》</a>和<a href="/2020/11/201116%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1/?from=blogs-functional-page-navigator">《小程序插件数据统计》</a>，想着在票圈海报的数据统计中，加入 openid 信息做为用户唯一标识，统计回访情况。本以为和小程序获取 openid 一样，静默授权即可。结果发现插件获取用户信息，比小程序中严格的多，openid 也需要显式的用户授权。用户信息授权用到了插件功能页，遇到了一些困难，记录一下。</p><a id="more"></a><p>小程序插件功能页的用途，官网有<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages.html" rel="external nofollow noopener noreferrer" target="_blank">详细介绍</a>，这里不赘述。</p><h2 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h2><p>用微信开发者工具导入官方的<a href="https://developers.weixin.qq.com/s/Uof4Iomt731Z" rel="external nofollow noopener noreferrer" target="_blank">代码片段</a>，只是修改了appid，其他无任何修改。</p><p>手机调试的时候无任何反应。</p><h2 id="根本原因"><a href="#根本原因" class="headerlink" title="根本原因"></a>根本原因</h2><p><strong>插件所有者小程序</strong> 的功能页特性未激活。具体来说，在插件所有者小程序的 app.json 文件中添加 functionalPages 定义段，并令其值为 true ，例如：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"functionalPages"</span>: &#123;</span><br><span class="line">    <span class="attr">"independent"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中最重要而容易遗漏的步骤，是先切换到“小程序模式“（下图），再激活功能页特性。一开始就是因为没有厘清 <strong>小程序插件</strong> ，和 <strong>插件所有者小程序</strong> 两个概念，绕了些弯路。</p><p>   <img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1glhkdp1qtkj20av04qdfw.jpg" alt="切换小程序模式"></p><h2 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h2><ul><li>微信开发工具打开项目后，先将插件模式切换到 <strong>小程序模式</strong> ，这时控制台会有报错，将 miniprogram 目录下 app.json 文件中，<code>plugins.myPlugin.verion</code> 的值改为 latest ，报错消失；</li></ul><p>   <img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1glhkdxp50zj20jc077mxh.jpg" alt="添加 functionalPages 定义段"></p><ul><li><p>添加 functionalPages 定义段，并令其值为 true ，例如：</p> <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"functionalPages"</span>: &#123;</span><br><span class="line">    <span class="attr">"independent"</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>然后点微信开发者工具中的“预览”上传一次代码到开发环境，扫码访问。 这样功能页就打包到开发版小程序中了；</p></li><li><p>切换回 <strong>插件模式</strong>，在开发者工具上打开插件项目，将插件中 <code>functional-page-navigator</code> 中的 version 属性设置为 develop， app.json 文件中，<code>plugins.myPlugin.verion</code> 的值改回 dev</p></li><li><p>点击预览可以生成插件预览二维码，用测试用的真机扫码即可预览功能页；如果更改了插件代码，重新生成并扫描插件的预览二维码即可；</p></li><li><p>如果过了一段时间之后，跳转功能页时出现“开发版已过期”这样的提示，从第1步开始重试一次</p></li></ul><h2 id="一句话总结"><a href="#一句话总结" class="headerlink" title="一句话总结"></a>一句话总结</h2><p>其实就是要理解，插件功能页是打包到 <strong>插件所有者小程序</strong> 中并发布的（通过 <code>&quot;functionalPages&quot;: true</code> 申明）。可以把插件模式下的宿主小程序，当作第三方小程序，用户触发授权的时候，跳转到 <strong>插件所有者小程序</strong> 的插件功能页，在上面确认授权。</p><p>   <img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1glhmlxztjrj20n01dstd7.jpg" alt="添加 functionalPages 定义段"></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/02/chrome版的Qzone插件发布/">chrome版的Qzone插件发布</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li><li><a href="https://blogs.kainy.cn/2016/03/Android_WebView_前端开发调试/">Android WebView 前端开发调试</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;事情起源于&lt;a href=&quot;/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/?from=blogs-functional-page-navigator&quot;&gt;《合成海报的小程序插件》&lt;/a&gt;和&lt;a href=&quot;/2020/11/201116%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1/?from=blogs-functional-page-navigator&quot;&gt;《小程序插件数据统计》&lt;/a&gt;，想着在票圈海报的数据统计中，加入 openid 信息做为用户唯一标识，统计回访情况。本以为和小程序获取 openid 一样，静默授权即可。结果发现插件获取用户信息，比小程序中严格的多，openid 也需要显式的用户授权。用户信息授权用到了插件功能页，遇到了一些困难，记录一下。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="调试" scheme="https://blogs.kainy.cn/tags/%E8%B0%83%E8%AF%95/"/>
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="插件" scheme="https://blogs.kainy.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>小程序插件数据统计</title>
    <link href="https://blogs.kainy.cn/2020/11/201116%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1/"/>
    <id>https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/</id>
    <published>2020-11-15T22:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.778Z</updated>
    
    <content type="html"><![CDATA[<p>之前上线了<a href="/2019/11/191119裂变营销海报小程序插件/?from=blog-plugin-statistic">一个简单配置即可合成图片海报的小程序插件——票圈海报</a>。虽然在微信公众平台可以看到不断被申请使用，但小程序官方目前并未提供小程序插件的数据统计功能，所以无法得知这些申请了使用权限的小程序，究竟有多少真正投入使用，以及调用的量有多少。于是想，是否能获得和小程序数据助手类似的 小程序插件的调用数据报告？</p><p>而由于插件是在前端合成图片，未和服务端进行数据交互，也就无法统计到插件被调用的次数。最终实现方式是在想要埋点取数的地方，向服务端发一个请求，通过nginx访问日志，分析上报的数据。</p><a id="more"></a><p>原始的 log 数据大概长这样：</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gkr2c2yz0wj214c088juk.jpg" alt="通过 nginx log 统计小程序插件数据"></p><p>我想要在报告中看到插件每天被调用的次数，就在生命周期函数 ready 中，调用 wx.request 发一个请求。通过这个请求的的服务端访问日志就可以看到访问者ip、访问时间、referrer、客户端UA 信息。</p><p>referrer 网址中，wx开头的18位字符串目录名，就是调用插件的小程序的 AppID， 通过这些信息，不仅可以分析到插件调用次数，还可以梳理出用户画像。</p><p>直接查看 log 毕竟费力，为了方便分析，需对数据做可视化处理，这里以 GoAccess（一个实时的 Web 日志分析器及交互式查看器，<a href="https://baidu.com.kainy.cn/?q=GoAccess&from=blog-plugin-statistic" title="帮你百度一下 GoAccess" rel="external nofollow noopener noreferrer" target="_blank">百度可搜到相关信息</a>，这里不赘述） 为例。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gkr2zi9tztj21ia0r2wki.jpg" alt="小程序插件访问情况"></p><p><center>查看指定时间段的访问量（插件初始化次数）</center><br></p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gkr3qorejpj218g0boq4n.jpg" alt="调用插件的小程序appid排名"></p><p><center>查看调用方appid和次数，需注意统计的时候需要将 referrer 字段作为主要变量</center><br></p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gkr3vx68gqj21fu10w447.jpg" alt="操作系统排序按 [点击量, 平均响应时, 总共响应时, 最高响应时]"></p><p><center>操作系统</center><br></p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bly1gkr41ek1kaj21g2134q9l.jpg" alt="浏览器排序按 [点击量, 平均响应时, 总共响应时, 最高响应时]"></p><p><center>浏览器</center><br></p><p>因为是个人项目时间有限，只实现一个简单版的数据统计，可大致了解小程序插件被调用的情况。如果有更深入分析的需求，还是建议将数据落库，用户画像什么的还是需精细的处理。</p><p>顺便安利一个通过appid查小程序名称的工具。就是我分析出了调用量比较大的几个appid后，想看看他们是如何调用插件的，是否能够从实际案例中找到可改进的点。公众号平台的插件管理后台，比较简陋，不支持通过appid搜索申请过插件使用权限的小程序，所以自己动手搞了个简单的小程序工具，有需要可搜索 “ <code>AppID查</code> ” 使用。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/02/chrome版的Qzone插件发布/">chrome版的Qzone插件发布</a></li><li><a href="https://blogs.kainy.cn/2010/10/jQuery插件的创建方法/">jQuery插件的创建方法</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li><li><a href="https://blogs.kainy.cn/2020/12/小程序插件用户信息功能页/">小程序插件用户信息功能页调试问题的解决</a></li><li><a href="https://blogs.kainy.cn/2016/11/小程序金融保险行业应用交流/">小程序金融保险行业应用交流</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前上线了&lt;a href=&quot;/2019/11/191119裂变营销海报小程序插件/?from=blog-plugin-statistic&quot;&gt;一个简单配置即可合成图片海报的小程序插件——票圈海报&lt;/a&gt;。虽然在微信公众平台可以看到不断被申请使用，但小程序官方目前并未提供小程序插件的数据统计功能，所以无法得知这些申请了使用权限的小程序，究竟有多少真正投入使用，以及调用的量有多少。于是想，是否能获得和小程序数据助手类似的 小程序插件的调用数据报告？&lt;/p&gt;
&lt;p&gt;而由于插件是在前端合成图片，未和服务端进行数据交互，也就无法统计到插件被调用的次数。最终实现方式是在想要埋点取数的地方，向服务端发一个请求，通过nginx访问日志，分析上报的数据。&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="插件" scheme="https://blogs.kainy.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="数据" scheme="https://blogs.kainy.cn/tags/%E6%95%B0%E6%8D%AE/"/>
    
      <category term="统计" scheme="https://blogs.kainy.cn/tags/%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>车主一周年小记</title>
    <link href="https://blogs.kainy.cn/2020/07/%E8%BD%A6%E4%B8%BB%E4%B8%80%E5%91%A8%E5%B9%B4%E5%B0%8F%E8%AE%B0/"/>
    <id>https://blogs.kainy.cn/2020/07/车主一周年小记/</id>
    <published>2020-07-09T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.819Z</updated>
    
    <content type="html"><![CDATA[<p>几天前接到续保电话，才想起<a href="https://blogs.kainy.cn/2019/06/190627AionS/?from=车主一周年小记">提车已经一周年</a>了。<br>前半年只用于周末出游、拍婚纱照、接亲。其实常开也就近半年，因为疫情原因，还拉起了<a href="https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/?from=车主一周年小记">顺风车</a> 让车技娴熟不少。</p><a id="more"></a><h2 id="智能驾驶辅助"><a href="#智能驾驶辅助" class="headerlink" title="智能驾驶辅助"></a>智能驾驶辅助</h2><p>智能驾驶辅助几乎为我省去了一半的操作，下面拿几个比较明显的体会来说。</p><h3 id="多一道安全保障"><a href="#多一道安全保障" class="headerlink" title="多一道安全保障"></a>多一道安全保障</h3><p>行车辅助在紧急情况下会辅助控制方向盘或着刹车。有两次比较明显的感受：</p><p>新手上路的时候，有一次在高速上走最右车道行驶，应急车道原本停在原地开双闪的车突然起步左转，手还来不及反应方向盘就感受到左转的扭矩，避过一险；</p><p>还有一次也是在高速，因为刚开始用自适应巡航（跟车辅助），注意力都在前车，跟着前车并入主道时，没留意到左边有车，又一次感受到方向盘右转扭矩，和左车插肩而过后，才反应过来，看到后视镜里刚急刹的左车狂按喇叭闪灯 —— 估计对方也吓的不轻。事后感到庆幸，如果没有驾驶辅助，怕是要交不少新人学费了，辅助生效的那一瞬间的感觉，可以用“有如神助”来描述。</p><p>自动刹车除了几次跟车太近误触发，倒还没实际用过（希望以后都别用到）。养成和前车保持适当距离的习惯后，基本没再遇到。</p><h3 id="行车更轻松了"><a href="#行车更轻松了" class="headerlink" title="行车更轻松了"></a>行车更轻松了</h3><p>AionS 自动驾驶有两种模式 —— 定速巡航和自适应巡航。定速巡航适合城市道路，车辆会根据前车情况控制速度，司机需要控制转向。自适应巡航会控制速度和转向，转向控制是依据路面车道，而城市道路的车道比较复杂，所以不适合使用自适应巡航。</p><p>高速上启动自适应巡航，司机只要右脚搭在刹车，双手搭方向盘以备紧急情况。基本无需使劲，十分轻松。并且巡航系统控制速度的原理是依据前车的速度变化，反向推导本车应执行的操作，再控制本车的动力系统实现的跟车，这个过程就相当于对前车行驶操作进行了润色，会使得加减速比前车更为平缓，从而提升乘车体验。</p><h3 id="一些实用小技巧"><a href="#一些实用小技巧" class="headerlink" title="一些实用小技巧"></a>一些实用小技巧</h3><p>在距离汽车二十米内，蓝牙钥匙长按解锁键，即可开启所有四个车窗和天窗，提前通风换气；手机APP还可以通过移动网络开启窗，没有距离限制，这个在新车气味重的时候非常实用。要注意天气状况就是了。</p><p>远程启动：按蓝牙钥匙的“上锁”键，然后立即长按“启动“按键（第三排左边的顺时针圈圈）三秒左右，直到车灯亮起，就完成了整车启动的触发，可以松开按键。当你走近到门边，门会自动解锁。节省上车后启动，等待车机和发动机就绪的时间。</p><h2 id="两个优化建议"><a href="#两个优化建议" class="headerlink" title="两个优化建议"></a>两个优化建议</h2><p>车窗开启的时候，外面的声音对车内播放的声音干扰比较大，每次都要手动提高音量，如果可以关联起来，降窗时自动提高两格音量就方便多了。</p><p>还有就是顶部的太阳能面板，说是高温时候会启动通风换气，感觉存在感不高，也不知道也没有工作过，如果可以查到启动记录就更好啦。</p><h2 id="总结一些电车省钱技巧"><a href="#总结一些电车省钱技巧" class="headerlink" title="总结一些电车省钱技巧"></a>总结一些电车省钱技巧</h2><p>充电时间选择用电低谷，几乎可以少一半的电费，只是可能需要早起。</p><p>经过这一年的历练，车技娴熟了不少。可以从容应对各种路况，做到有得放矢 —— 想让的让，不想让的，比如插队加塞，就别想在我这有机可乘，晾着他难受一下，毕竟谁的时间还不是时间呢。但遇到公交车，一般还是愿意主动让一下，毕竟人家的载客量几倍与我，我让一秒钟，他们加起来就是几秒钟；另外，之前有两次钱包落公交车，被好心司机送到终点站找回的经历，也让自己对公交司机印象不错。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/06/190627AionS/">广汽AionS笔记（持续更新）</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;几天前接到续保电话，才想起&lt;a href=&quot;https://blogs.kainy.cn/2019/06/190627AionS/?from=车主一周年小记&quot;&gt;提车已经一周年&lt;/a&gt;了。&lt;br&gt;前半年只用于周末出游、拍婚纱照、接亲。其实常开也就近半年，因为疫情原因，还拉起了&lt;a href=&quot;https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/?from=车主一周年小记&quot;&gt;顺风车&lt;/a&gt; 让车技娴熟不少。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="AionS" scheme="https://blogs.kainy.cn/tags/AionS/"/>
    
      <category term="车主" scheme="https://blogs.kainy.cn/tags/%E8%BD%A6%E4%B8%BB/"/>
    
  </entry>
  
  <entry>
    <title>主流顺风车APP比较</title>
    <link href="https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/"/>
    <id>https://blogs.kainy.cn/2020/07/主流顺风车APP比较/</id>
    <published>2020-07-06T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.788Z</updated>
    
    <content type="html"><![CDATA[<p>因为疫情原因，我开始驾车上下班，考虑到摊薄停车费和过路费等通勤成本，开启长期稳定的接单模式 —— 基本保持每天上下班接一单的频率。</p><p>这里结合小半年的使用体验，从车主关心的几个方面对三款主流拼车APP——嘀嗒出行、滴滴顺风车、哈啰出行做一个横向比较，供有共享空座想法的车主参考 <em>（滴滴最近上线一个叫花小猪的打车APP，号称打车版的拼多多，说白了也是拼车，不过是在下沉市场规避监管，同时利用熟人网络传播的套路，深圳没有开通，我也没体验过，这里不做讨论）</em></p><a id="more"></a><p>先说说自己接触各个拼车APP的情况：最开始使用的是哈啰出行，那时候滴滴顺风车在深圳还没恢复运营。</p><p>之后因为匹配度高的订单不多，又尝试了嘀嗒出行，一开始看这名字有点山寨滴滴的印象，只是因为 App Store 排名比哈罗出行靠前就下载试试，后来才知道嘀嗒出行的市场占有才是最高的。</p><p>一个月前，看到滴滴顺风车恢复深圳运营的新闻，也第一时间下载体验。截止目前，嘀嗒是自己接单的主力应用，而滴滴被暂时弃用，原因后面会说。</p><h2 id="拼车业务在APP内的地位：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#拼车业务在APP内的地位：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="拼车业务在APP内的地位： 嘀嗒 &gt; 滴滴 &gt; 哈啰"></a>拼车业务在APP内的地位： 嘀嗒 &gt; 滴滴 &gt; 哈啰</h2><p>对于这三款APP和背后的运营公司，拼车都不是其唯一业务，甚至不是主营业务，所以顺风车产品在整个APP内的地位各有差异。而产品地位对接下来要对比的指标，产生直接影响，所以首先总结。</p><p>嘀嗒出行和滴滴顺风车都是独立APP，APP内切换乘客和车主身份。从这一点看，两者打平。</p><p>但大家可能对 <strong>滴滴出行</strong> APP耳熟能详 —— 快车、专车、出租车业务都在里面。为顺风车单独打造一个 <strong>滴滴顺风车</strong> APP，貌似重视拼车业务，实则可能更多是出于合规或者隔离负面消息的考虑。</p><p>另外，近期在下沉市场打得火热的花小猪，据说也和滴滴有着千丝万缕的联系。感觉滴滴意图一线城市推滴滴顺风车，与竞品正面竞争；下沉市场推花小猪，农村包围城市，两条腿走路，助其夺回顺风车市场第一的宝座。</p><p>嘀嗒出行的前身叫“嘀嗒拼车”，整个APP只在乘客身份里，有拼车之外的出租车业务，可见拼车业务对于嘀嗒和滴滴的重要程度差异 —— 如果说顺风车业务对于嘀嗒是左膀右臂，对于滴滴可能只是左手手掌。</p><p>而哈啰顺风车入口则是在APP首页，单车和小件快送之后的第三个按钮位置，相当于是APP内的一个功能模块。</p><h2 id="订单量-嘀嗒-gt-滴滴-gt-＝-哈啰"><a href="#订单量-嘀嗒-gt-滴滴-gt-＝-哈啰" class="headerlink" title="订单量: 嘀嗒 &gt; 滴滴 &gt;＝ 哈啰"></a>订单量: 嘀嗒 &gt; 滴滴 &gt;＝ 哈啰</h2><p>这里的订单量指的是路线和时间的匹配度都足够高的订单数量，这直接影响到车主接单的效率和意愿。</p><p>嘀嗒上发布行程，基本上前十条都足够顺路，然后在里面选择时间匹配单即可，而滴滴和哈啰，可能就前面1～3条路线匹配，时间的话就看运气了。随着滴滴用户量增加，和哈啰的差距预计会拉大。</p><p>奇怪的是，滴滴的路线匹配值标的也低，即使非常顺路的单，匹配度也就70%，不知道是否和试运营有关。</p><h2 id="订单价格：-滴滴-gt-哈啰-gt-嘀嗒"><a href="#订单价格：-滴滴-gt-哈啰-gt-嘀嗒" class="headerlink" title="订单价格： 滴滴 &gt; 哈啰 &gt;= 嘀嗒"></a>订单价格： 滴滴 &gt; 哈啰 &gt;= 嘀嗒</h2><p>价格一般是我选择拼车订单考虑的第二因素，从计费规则可以看到，对于跨城订单，三者都是默认选择高速路线，计价也包含了高速费用。</p><p>而市内订单，嘀嗒和哈啰都是需要车主和乘客协商，而滴滴不允许车主向乘客额外收取费用，也就可以理解为订单价格默认包含了高速费用。</p><p>所以同样路线，滴滴每单价格基本是最高的，其次是哈啰，而嘀嗒价格最低，但是一般如果提出平摊高速费，乘客都是愿意的。</p><h2 id="功能限制：-滴滴-gt-哈啰-gt-嘀嗒"><a href="#功能限制：-滴滴-gt-哈啰-gt-嘀嗒" class="headerlink" title="功能限制： 滴滴 &gt; 哈啰 &gt;= 嘀嗒"></a>功能限制： 滴滴 &gt; 哈啰 &gt;= 嘀嗒</h2><p>这是一个反向指标，比较的是规则对车主接单的限制，比如三个APP现阶段都禁止半夜接单，以及每天的接单数上限。</p><p>而除此之外，滴滴顺风车还限制每周最多发布两条自定义路线，也就是说每周只有一次机会接常规行程之外的顺风单，比如你常规路线设置了上下班，周末开车出门办事想接个顺风单，就只能接其中的一个行程，这应该是出于避免全职司机混入的考量，却也伤及了正常用户。</p><p>哈啰和嘀嗒，不仅无此限制，还可以查看附近的订单。</p><p>嘀嗒的提现有每周二、五的时间限制，不知是出于资金安全考虑还是资金沉淀？我倒不太在意这点。</p><h2 id="操作体验：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#操作体验：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="操作体验： 嘀嗒 &gt;= 滴滴 &gt; 哈啰"></a>操作体验： 嘀嗒 &gt;= 滴滴 &gt; 哈啰</h2><p>交互体验上，嘀嗒和滴滴都不错，不过嘀嗒有个问题，就是到达终点附近自动点击到达，却有时无法“极速到账”，原因又是未送达乘客终点附近… 有点自相矛盾了。</p><p>滴滴在产品设计上有个亮点在于，接单时候会展示到达乘客起点位置的预估时长，从而推算出发时间，这样可以辅助车主判断是否接单。</p><p>而哈啰有个槽点，就是我在晚上点开上班的常规路线，返回的是今天最接近当前时间的订单，我需要每次手动把出发时间调成明天。而滴滴嘀嗒会自动匹配明天早上的订单，这才是用户真实意图。</p><h2 id="客服体验：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#客服体验：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="客服体验： 嘀嗒 &gt; 滴滴 &gt;= 哈啰"></a>客服体验： 嘀嗒 &gt; 滴滴 &gt;= 哈啰</h2><p>滴滴和哈啰做的都不太好，滴滴预期等待时长基本要乘一个三到五倍到系数，比如提示预计两分钟，实际等待可能是十分钟。</p><p>而哈啰更奇葩，客服默认是人工智障的机器人回答，啰嗦半天转人工，基本也要等待十几分钟。</p><p>嘀嗒的客服我只用过一次，是乘客中途取消订单，嘀嗒的客服类似工单提交，并且很快就出结果，有短信通知。相比需要等待的人工客服，异步化的处理，时间和精力成本较低。当然，嘀嗒也有人工客服，但我目前还没用到。</p><h2 id="判罚公正度：-嘀嗒-gt-哈啰-gt-滴滴"><a href="#判罚公正度：-嘀嗒-gt-哈啰-gt-滴滴" class="headerlink" title="判罚公正度： 嘀嗒 &gt; 哈啰 &gt; 滴滴"></a>判罚公正度： 嘀嗒 &gt; 哈啰 &gt; 滴滴</h2><p>拼车难免遇到订单取消的情况，三个平台上我都遇到过。</p><p>嘀嗒一次，是我在接乘客途中被临时取消，乘客全责。</p><p>滴滴两次，第一次是遇上堵车，我迟到五分钟被取消，我全责，被乘客索赔五元。</p><p>那以后我接滴滴单就比较留意出发时间，一般都提前到，可有一天乘客因为培训拖堂，超时十分钟还没到，沟通后取消，滴滴还是判我的责任，理由是“未按约定时间到达上车地点”，我也是一脸懵逼 —— 迟到不行，早到还不行么？于是有了上述的客服沟通，体验并不好，又在路边浪费了半小时，最后改判为双方无责。</p><p>那以后就卸载了滴滴顺风车，主要考量是滴滴单价虽高，但是建立在驾乘双方地位不平等的前提下，遇到一两个取消的，十个订单差价都未必补的回来，机会成本高，还坏了心情，干脆卸载了之 —— 你开心就好，哥不陪你跪。</p><h2 id="推荐-amp-邀请"><a href="#推荐-amp-邀请" class="headerlink" title="推荐&amp;邀请"></a>推荐&amp;邀请</h2><p>以上对比根据自己近半年的使用体验总结，个人觉得嘀嗒是三个APP中最成熟的。</p><p>上述指标之间也有相互影响——比如滴滴定价高，就可能影响它判罚的公正度（或者说判罚标准）。哈啰顺风车是哈啰出行子模块，那么客服功能也就”有胜无“的水平。</p><p>接单的过程中，发现拼车乘客中，有车族的比例其实蛮高的，他们往往因为应酬不便开车、车在保养维修，或者纯粹不想开车而选择搭顺风车。</p><p>后来想想也非偶然，毕竟就算是拼车，价格也比乘坐公共交通工具高出不少，但比起自己开车的成本又稍低一些，价格上车主比较容易接受。</p><p>通过合乘，大家平摊了出行成本，同时减少了上路私家车的数量，为缓解交通拥堵出了份力，受益者不止驾乘双方，何乐而不为呢？有兴趣的车主可以微信扫码注册，你我都有奖励。需要准备身份证、驾驶证、行驶证，认证后即可开始接单～ </p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1ggjmq68xz2j20n01ds4i4.jpg" alt="嘀嗒顺风车车主邀请码" style="width:50%"></p><p><em>（这里仅推荐嘀嗒顺风车，其他平台可以自行下载注册噢）</em></p><h2 id="收获和小结"><a href="#收获和小结" class="headerlink" title="收获和小结"></a>收获和小结</h2><p>拼车的乘客中，有带初到深圳的弟弟去莲花山公园的姐姐，介绍一个建筑几年前的样子——那是她当时最喜欢的房子…</p><p>有刚从饭局回来的夫妻，担心着没送成的三万现金，可能意味着孩子择校的问题“校领导”也没十足把握…</p><p>有出差到深马不停蹄，赶往公明厂区的父亲，利用路程时间和家里亲戚视频，喊年幼儿子名字时略带骄傲的口音…</p><p>先后有来自平安银行、江苏银行、民生银行、光大银行、宁波银行、中信银行和交通银行的同行乘客…</p><p>透过这些生活里接触不到的生活碎片，从另一个角度观察这个社会。</p><p>通过拼车，还能尽可能多的探索这座城市的每一个角落，看每一次经过时的变化。</p><p>通过拼车，更深入地了解这座城市和生活在这里的人们，便是最大收获。</p><p>当然了，还有拼车费用这一最直接的收获，几乎填补了自己通勤的交通费。倒是一举多得。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因为疫情原因，我开始驾车上下班，考虑到摊薄停车费和过路费等通勤成本，开启长期稳定的接单模式 —— 基本保持每天上下班接一单的频率。&lt;/p&gt;
&lt;p&gt;这里结合小半年的使用体验，从车主关心的几个方面对三款主流拼车APP——嘀嗒出行、滴滴顺风车、哈啰出行做一个横向比较，供有共享空座想法的车主参考 &lt;em&gt;（滴滴最近上线一个叫花小猪的打车APP，号称打车版的拼多多，说白了也是拼车，不过是在下沉市场规避监管，同时利用熟人网络传播的套路，深圳没有开通，我也没体验过，这里不做讨论）&lt;/em&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="顺风车" scheme="https://blogs.kainy.cn/tags/%E9%A1%BA%E9%A3%8E%E8%BD%A6/"/>
    
      <category term="共享" scheme="https://blogs.kainy.cn/tags/%E5%85%B1%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>分享组件改版小结</title>
    <link href="https://blogs.kainy.cn/2020/04/%E5%88%86%E4%BA%AB%E7%BB%84%E4%BB%B6%E6%94%B9%E7%89%88%E5%B0%8F%E7%BB%93/"/>
    <id>https://blogs.kainy.cn/2020/04/分享组件改版小结/</id>
    <published>2020-04-23T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.791Z</updated>
    
    <content type="html"><![CDATA[<p>分享组件是全站通用组件，用于自定义分享信息、统计推荐关系，是营销团队打包输出 MGM 能力的重要工具。</p><p>分享组件支持集团内外部应用宿主（微信、金管家、银行、证券等app）中，分享链接/海报到不同渠道（微信、微博、行员app、快乐平安等）。</p><h2 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h2><p>改版前后的截图：</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjciqeotaoj20sg0lctc5.jpg" alt="平安银行分享组件改版前后截图"></p><a id="more"></a><h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>改版前分享组件面临的挑战主要有两个：</p><ol><li>UI层面——弹窗面板空间有限，最多仅能展示六个分享图标；</li><li>扩展性——原先组件打包为单一文件，含有所有宿主的逻辑和依赖文件，随着渠道和业务逻辑增加，文件尺寸越来越大，达到性能瓶颈。</li></ol><p>这和之前<a href="https://blogs.kainy.cn/2018/12/%E5%BE%AE%E6%B5%B7%E6%8A%A52018%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%9B%9E%E9%A1%BE/">微海报改版</a>需求背景有共通之处。</p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>针对第一个挑战，我们将页面居中弹窗，改为底部弹层，单行四个，超出则可滚动。</p><p>针对第二个挑战，将单文件拆分为二，做了异步加载。并划分为同步模块、异步模块、渠道模块，实现按需加载。</p><p>盗用罗帅的结构图：</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gjcisjesbzj212k0ijdgm.jpg" alt="分享组件结构图"></p><p>改版前后的文件构成图：</p><p><img src="https://tva3.sinaimg.cn/large/4d6e3e3bgy1gjcisww1xvj20m80gota4.jpg" alt="分享组件文件构成图"></p><p>左边是单一文件，所有依赖和逻辑代码在一个文件中，随着业务逻辑日益复杂和接入的渠道增加，文件尺寸和维护难题渐渐显露。</p><p>右边是拆分后的，其中 loader 模块负责环境判断和UI、事件绑定等初始化操作。<br>可异步执行的逻辑如请求流水号，放到 AsyncMode 类。<br>渠道专有逻辑，继承 AsyncMode 类，和 jssdk 一起，各个渠道分别打包到 asyncMode**.js 文件中。</p><p>文件名中的**，为渠道名称首字母缩写，loader 根据宿主环境判断加载对应的渠道 AsyncMode 文件。比如页面投放到微信，loader 会加载 asyncModeWX.js 文件，投放到金管家app，则加载 asyncModeJGJ.js 文件。这样就实现了不同渠道的逻辑代码隔离，避免互相牵扯，缩减加载的冗余代码。</p><p>工程化方面，组件使用 typescript 编写，构建采用 rollup （TS 的类型系统和 ES6 特性支持，特别是 Class 用在新版组件里，真香！）</p><h2 id="组件工具库-kits"><a href="#组件工具库-kits" class="headerlink" title="组件工具库 kits"></a>组件工具库 kits</h2><p>改版过程中还产生个副产物 <a href="https://github.com/wepm/kits/" target="_blank" rel="external nofollow noopener noreferrer">kits</a> 工具库，其实就是 zepto 的精简版——由于原来的组件依赖 zepto ，这对于越来越多外部页面接入的通用组件而言显然不合时宜，所以需要剥离依赖。有想过改用原生写法，但这样一来基本就成了纯体力活，且后续维护不便。就想着不如把组件所使用到的 zepto 方法抽离出来，后续还可进一步优化，顺便可以归纳一下组件中常用的库工具方法是哪些。结果如下：</p><h3 id="Core"><a href="#Core" class="headerlink" title="Core"></a>Core</h3><ul><li>$()</li><li><del>$.camelCase</del></li><li>$.contains</li><li>$.each</li><li>$.extend</li><li><del>$.fn</del></li><li><del>$.grep</del></li><li><del>$.inArray</del></li><li>$.isArray</li><li>$.isFunction</li><li>$.isNumeric</li><li><del>$.isPlainObject</del></li><li><del>$.isWindow</del></li><li>$.map</li><li><del>$.noop</del></li><li><del>$.parseJSON</del></li><li><del>$.trim</del></li><li>$.type</li><li><del>add</del></li><li>addClass</li><li><del>after</del></li><li>append</li><li>appendTo</li><li>attr</li><li><del>before</del></li><li><del>children</del></li><li><del>clone</del></li><li>closest</li><li><del>concat</del></li><li>contents</li><li>css</li><li><del>data</del></li><li>each</li><li>empty</li><li>eq</li><li><del>filter</del></li><li><del>find</del></li><li><del>first</del></li><li><del>forEach</del></li><li><del>get</del></li><li><del>has</del></li><li>hasClass</li><li><del>height</del></li><li>hide</li><li>html</li><li><del>index</del></li><li><del>indexOf</del></li><li>insertAfter</li><li>insertBefore</li><li><del>is</del></li><li><del>last</del></li><li>map</li><li><del>next</del></li><li><del>not</del></li><li><del>offset</del></li><li><del>offsetParent</del></li><li><del>parent</del></li><li>parents</li><li>pluck</li><li><del>position</del></li><li>prepend</li><li>prependTo</li><li><del>prev</del></li><li><del>prop</del></li><li><del>push</del></li><li><del>ready</del></li><li><del>reduce</del></li><li>remove</li><li>removeAttr</li><li>removeClass</li><li><del>removeProp</del></li><li><del>replaceWith</del></li><li><del>scrollLeft</del></li><li><del>scrollTop</del></li><li>show</li><li><del>siblings</del></li><li><del>size</del></li><li>slice</li><li>text</li><li><del>toggle</del></li><li>toggleClass</li><li><del>unwrap</del></li><li>val</li><li><del>width</del></li><li><del>wrap</del></li><li><del>wrapAll</del></li><li><del>wrapInner</del></li></ul><h3 id="Detect"><a href="#Detect" class="headerlink" title="Detect"></a>Detect</h3><ul><li><del>Detect module</del></li></ul><h3 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h3><ul><li><del>$.Event</del></li><li><del>$.proxy</del></li><li><del>bind</del></li><li><del>delegate</del></li><li><del>die</del></li><li><del>event.isDefaultPrevented</del></li><li><del>event.isImmediatePropagationStopped</del></li><li><del>event.isPropagationStopped</del></li><li><del>live</del></li><li><del>off</del></li><li>on</li><li><del>one</del></li><li><del>trigger</del></li><li><del>triggerHandler</del></li><li><del>unbind</del></li><li><del>undelegate</del></li></ul><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><ul><li>$.ajax</li><li>$.ajaxJSONP</li><li>$.ajaxSettings</li><li><del>$.get</del></li><li><del>$.getJSON</del></li><li>$.param</li><li><del>$.post</del></li><li><del>load</del></li></ul><h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><ul><li><del>serialize</del></li><li><del>serializeArray</del></li><li><del>submit</del><h3 id="Effects"><a href="#Effects" class="headerlink" title="Effects"></a>Effects</h3></li><li><del>$.fx</del></li><li><del>animate</del><h3 id="Touch"><a href="#Touch" class="headerlink" title="Touch"></a>Touch</h3></li><li><del>Touch events</del></li></ul><p>精简后的代码连注释不到800行，如果不要 ajax 相关方法，挪出所在匿名函数即可，可再减少 300 行代码，算是抄了个轮子吧… 不过还蛮适合组件使用的。</p><p>想起七年前在17173参与的第一个组件——登录弹窗组件，直接 <code>&lt;iframe src=&quot;javascript:</code> 后面 <code>document.write</code> style 和 script 标签，实现资源动态、异步加载，极大缩减启动脚本文件尺寸，并实现组件环境和宿主页环境的隔离，还支持到 ie6 版本。方案沿用至今想来是没什么大的问题。竟有些怀念当时满满的草莽气息。</p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gjcitgymj0j21po16qe81.jpg" alt="17173扽股弹窗"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;分享组件是全站通用组件，用于自定义分享信息、统计推荐关系，是营销团队打包输出 MGM 能力的重要工具。&lt;/p&gt;
&lt;p&gt;分享组件支持集团内外部应用宿主（微信、金管家、银行、证券等app）中，分享链接/海报到不同渠道（微信、微博、行员app、快乐平安等）。&lt;/p&gt;
&lt;h2 id=&quot;效果预览&quot;&gt;&lt;a href=&quot;#效果预览&quot; class=&quot;headerlink&quot; title=&quot;效果预览&quot;&gt;&lt;/a&gt;效果预览&lt;/h2&gt;&lt;p&gt;改版前后的截图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjciqeotaoj20sg0lctc5.jpg&quot; alt=&quot;平安银行分享组件改版前后截图&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="分享组件" scheme="https://blogs.kainy.cn/tags/%E5%88%86%E4%BA%AB%E7%BB%84%E4%BB%B6/"/>
    
      <category term="改版" scheme="https://blogs.kainy.cn/tags/%E6%94%B9%E7%89%88/"/>
    
  </entry>
  
  <entry>
    <title>婚礼感谢信</title>
    <link href="https://blogs.kainy.cn/2020/01/200113%E5%A9%9A%E7%A4%BC%E8%AF%B4%E7%82%B9%E5%95%A5/"/>
    <id>https://blogs.kainy.cn/2020/01/200113婚礼说点啥/</id>
    <published>2020-01-12T22:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<p>此刻，站在台上的我内心无（慌）比（的）激（一）动（比），但还是有几个感谢要讲。</p><p>首先要感谢我和新娘的父母、家人，还有一直关心、支持我们婚姻大事的长辈们，希望今天这份答卷能让你们满意。今后我会肩负起照顾父母和家庭的责任，努力做一个好丈夫好儿子。</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcityiayhg20sg0izx6p.gif" alt="长辈" style="width: 400px;"></p><a id="more"></a><p>还要感谢站在我身边的这位的新娘，她给我生活带来很大的变化——从前的我生活比较单调，平日里除了上下班，就是偶尔参加行业活动，还有一个人的旅行，母亲大人不止一次说我“不食人间烟火”。现在我们周末在家学做饭、走绿道、学艾灸，一起泡脚、敷面膜，高速路上也喝上热汤和自嗨锅… 她让我尝试了很多从前未知的领域，也对未来有了更多的期待。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gjciuicatzg20sg16onpf.gif" alt="我们" style="width: 400px;"></p><p>感谢今天到场的<a href="https://kainy.cn/pailixiang/album_ia595466900.html?ADTAG=blogs.post" target="_blank">老师、同学和朋友们</a>，特别是从异地专程赶来的同学朋友。无法到场的缘由千千万，我虽遗憾却能够理解，而能够到场的理由只有一个，我想我也会更加珍视这一份情谊。坦白讲，这么多同学应邀，我有些意外，发出邀请前纠结了一番 —— 感觉自己在班级的存在感一向不高，而且毕业这么久了。但转念一想，三年以上朝夕相处，又相识十年以上的关系，不知大家的情况如何，至少对于我，除了同窗外并没多少。谢谢大家捧场！</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcium8wb4g20sg0ixx6p.gif" alt="同学" style="width: 400px;"></p><p>今后我们大概率定居深圳。小家在深圳，大家在永安和武穴，每年过年希望能和大家多聚聚，平时大家有来深圳也欢迎联系。</p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gjciuqneofg20sg0ixx6p.gif" alt="迎亲" style="width: 400px;"></p><h1 id="一些玩意"><a href="#一些玩意" class="headerlink" title="一些玩意"></a>一些玩意</h1><ul><li>邀请小程序：<img style="width:200px;" class="nofancybox" src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie955wk9j20by0bydi6.jpg" alt="婚礼小程序"></li><li>电子请柬：<img style="width:200px;" class="nofancybox" src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gbjm11xsorj20by0byabo.jpg" alt="电子请柬"></li><li>婚礼祝福墙：<img style="width:200px;" class="nofancybox" src="https://tvax4.sinaimg.cn/large/4d6e3e3bgy1gbjlvcx4fuj20b20aqjy4.jpg" alt="祝福墙"></li><li>婚礼现场照片直播：<a href="https://kainy.cn/pailixiang/album_ia595466900.html?ADTAG=blogs.post" target="_blank"><br><img style="width:200px;" class="nofancybox" src="https://tva4.sinaimg.cn/large/4d6e3e3bgy1gbjm40ecv9j20a40a4wel.jpg" alt="⛪️ 郭郭和艳方的婚礼⛪️"><br></a></li></ul><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/09/充实自己与把妹精神/">充实自己与把妹精神</a></li><li><a href="https://blogs.kainy.cn/2010/01/春节回家给家人带什么最贴心？【转】/">春节回家给家人带什么最贴心？【转】</a></li><li><a href="https://blogs.kainy.cn/2009/12/说说这几天的事/">说说这几天的事</a></li><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;此刻，站在台上的我内心无（慌）比（的）激（一）动（比），但还是有几个感谢要讲。&lt;/p&gt;
&lt;p&gt;首先要感谢我和新娘的父母、家人，还有一直关心、支持我们婚姻大事的长辈们，希望今天这份答卷能让你们满意。今后我会肩负起照顾父母和家庭的责任，努力做一个好丈夫好儿子。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcityiayhg20sg0izx6p.gif&quot; alt=&quot;长辈&quot; style=&quot;width: 400px;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="生活" scheme="https://blogs.kainy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="婚礼" scheme="https://blogs.kainy.cn/tags/%E5%A9%9A%E7%A4%BC/"/>
    
      <category term="父母" scheme="https://blogs.kainy.cn/tags/%E7%88%B6%E6%AF%8D/"/>
    
      <category term="同学" scheme="https://blogs.kainy.cn/tags/%E5%90%8C%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>婚礼小程序</title>
    <link href="https://blogs.kainy.cn/2020/01/200102%E5%A9%9A%E7%A4%BC%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    <id>https://blogs.kainy.cn/2020/01/200102婚礼小程序/</id>
    <published>2020-01-01T22:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<h2 id="小程序名称"><a href="#小程序名称" class="headerlink" title="小程序名称"></a>小程序名称</h2><p>婚礼邀请纪念册（原名：欢迎参加郭郭和艳方的婚礼）</p><h2 id="小程序描述"><a href="#小程序描述" class="headerlink" title="小程序描述"></a>小程序描述</h2><p>这是一个婚礼邀约小程序，主要功能有：</p><a id="more"></a><ul><li>1、婚纱照展示和分享；</li><li>2、抵达现场的路线规划；</li><li>3、消息订阅功能——订阅婚礼和相册动态；</li><li>4、照片<a href="/2019/11/191119裂变营销海报小程序插件/">海报生成</a>和保存；</li><li>5、<a href="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1gaazlnzuicj20w416tak0.jpg" target="_blank" rel="external nofollow noopener noreferrer">祝福墙</a>；</li><li>6、联系我们。</li></ul><h2 id="由来"><a href="#由来" class="headerlink" title="由来"></a>由来</h2><p>制作小程序的初心很简单——两个人辛辛苦苦，费钱又费力的拍了四组婚纱照，总不能发个朋友圈就算了。刚好微信小程序很适合相片的展示和传播，而自己又具备开发能力。只要微信不倒，小程序就存在着，很有纪念意义。于是花了些功夫制作了这样一个相册，后面又陆续增加了酒店路线规划（地图导航）和祝福墙、海报等功能。</p><h2 id="扫小程序码体验"><a href="#扫小程序码体验" class="headerlink" title="扫小程序码体验"></a>扫小程序码体验</h2><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie955wk9j20by0bydi6.jpg" alt="小程序码" style="width: 200px;" data-x="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie94yh79j209n09n3yh.jpg"></p><h2 id="小程序截图"><a href="#小程序截图" class="headerlink" title="小程序截图"></a>小程序截图</h2><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieb9t5abj20jg15oqe6.jpg" alt="小程序截图-目录" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaiebkb41yj20j815chdt.jpg" alt="小程序截图-相册" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieba37iej20je15k4hs.jpg" alt="小程序截图-海报" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieb7cpv2j20jg15me0u.jpg" alt="小程序截图-路线规划" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaiebh00qkj20ji15ke81.jpg" alt="小程序截图-尾页" style="width: 200px;"></p><h2 id="写给恰在准备婚礼的你"><a href="#写给恰在准备婚礼的你" class="headerlink" title="写给恰在准备婚礼的你"></a>写给恰在准备婚礼的你</h2><p>如果你也对这个婚礼小程序感兴趣，可以联系我提供技术支持（适当收费），只要简单申请一个小程序并提供相册素材，就可以拥有一个功能完备的小程序。</p><p>往后在微信里搜索你和另一半的昵称（如：“ 郭郭和艳方 ”），就可以找到你们在微信世界里的小窝。想想多年后看到这些珍贵影像，和祝福墙上的好友头像，会是什么感受呢？毕竟对于大部分人而言，婚礼经历一生中也许就这一次。每对恋人都值得拥有一个专属于自己爱情的小程序。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2011/04/Glass_Onion_-_win7主题一键安装包/">Glass_Onion - win7主题一键安装包</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2010/09/充实自己与把妹精神/">充实自己与把妹精神</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2010/01/春节回家给家人带什么最贴心？【转】/">春节回家给家人带什么最贴心？【转】</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;小程序名称&quot;&gt;&lt;a href=&quot;#小程序名称&quot; class=&quot;headerlink&quot; title=&quot;小程序名称&quot;&gt;&lt;/a&gt;小程序名称&lt;/h2&gt;&lt;p&gt;婚礼邀请纪念册（原名：欢迎参加郭郭和艳方的婚礼）&lt;/p&gt;
&lt;h2 id=&quot;小程序描述&quot;&gt;&lt;a href=&quot;#小程序描述&quot; class=&quot;headerlink&quot; title=&quot;小程序描述&quot;&gt;&lt;/a&gt;小程序描述&lt;/h2&gt;&lt;p&gt;这是一个婚礼邀约小程序，主要功能有：&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="生活" scheme="https://blogs.kainy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="婚礼" scheme="https://blogs.kainy.cn/tags/%E5%A9%9A%E7%A4%BC/"/>
    
      <category term="作品" scheme="https://blogs.kainy.cn/tags/%E4%BD%9C%E5%93%81/"/>
    
  </entry>
  
  <entry>
    <title>坦诚</title>
    <link href="https://blogs.kainy.cn/2019/12/191226%E5%9D%A6%E8%AF%9A/"/>
    <id>https://blogs.kainy.cn/2019/12/191226坦诚/</id>
    <published>2019-12-25T22:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<p>人与人之间，无论关系亲疏，由于自身经历和对事理解上的偏差，难免会有误解。</p><p>若对对方对行为有所困惑，及时提出并解决难道不是更好的解决之道？</p><p>——有些困惑或许难于启齿，需要冒着被误解的风险指出。但经解释意识到误解所在，达成共识并全力支持。想要长期经营好人与人的关系，难道不是应该这样，而去粗暴的归因到自己固有观点？</p><p>那样处理固然简单，却非但无益于分歧解决，反而使得既成观念被加强和“证实”，从而形成偏见。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;人与人之间，无论关系亲疏，由于自身经历和对事理解上的偏差，难免会有误解。&lt;/p&gt;
&lt;p&gt;若对对方对行为有所困惑，及时提出并解决难道不是更好的解决之道？&lt;/p&gt;
&lt;p&gt;——有些困惑或许难于启齿，需要冒着被误解的风险指出。但经解释意识到误解所在，达成共识并全力支持。想要长期经营
      
    
    </summary>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="相处" scheme="https://blogs.kainy.cn/tags/%E7%9B%B8%E5%A4%84/"/>
    
  </entry>
  
  <entry>
    <title>快站项目开发小结</title>
    <link href="https://blogs.kainy.cn/2019/12/%E5%BF%AB%E7%AB%99/"/>
    <id>https://blogs.kainy.cn/2019/12/快站/</id>
    <published>2019-12-02T22:20:16.000Z</published>
    <updated>2022-03-18T12:03:11.799Z</updated>
    
    <content type="html"><![CDATA[<p>快站是营销团队赋能业务团队快速搭建页面的内部工具。业务无需掌握技术，通过简单拖动和信息填写即可完成网页制作。</p><p>功能强大而又兼顾灵活性的页面制作平台，快站有许多精妙的设计和约定。这也给开发入门带来了一定挑战，如果不能从全局理解它的运作过程，就容易陷入盲人摸象的境地。这里根据自己开发两个组件的经历和理解做简单梳理，如有不对还请斧正。</p><p>从整体结构看，项目主要有两部分组成：admin和freemarker——admin也叫编辑器，面向页面制作者（生产者，后台，对内），用来在PC端拼出页面；freemarker面向页面的访问者（消费者，前台，对外），一般在客户端打开。开发一个组件，一般要同时开发两个部分。</p><p>从技术选型看，admin部分使用vue技术栈，freemarker部分使用freemarker模板引擎和vue。<br><a id="more"></a></p><p>开发一个组件，最重要了解的是编辑器（editor）部分。也是这里着重介绍的部分。组件分为基础组件、业务组件和组合组件。灵活度依次递减、复杂度递增。</p><h2 id="admin部分"><a href="#admin部分" class="headerlink" title="admin部分"></a>admin部分</h2><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g549f6zbmrj20vl0qddja.jpg" alt="的界面结构截图" style="width:50%;"></p><p>从左侧组件面板选择组件拖入中间的编辑面板，就在页面中增加一个组件。点击选中组件，右边的属性面板就会出现该组件可以设置的所有属性。</p><h3 id="组件（widget）"><a href="#组件（widget）" class="headerlink" title="组件（widget）"></a>组件（widget）</h3><p>每个组件对应 \admin\src\pages\editor\widgets 下的一个目录，里面包含组件的所有代码，是组件开发的主战场。快站已经帮我们实现了大量共用功能，把特定部分抽离出来，独立成组件的形式，这样通过简单的配置和业务逻辑代码编写，就可以完成对组件功能的描述。但这同时也是大量约定和隐喻的开始… </p><p>最常见的组件由init.js、index.vue和validate.js文件组成，</p><ul><li>init.js 描述组件有哪些属性字段、和默认值（右侧属性面板）</li><li>index.vue 描述组件的结构，可视化效果（中间的编辑面板）</li><li>validate.js 定义格式校验规则</li></ul><p>admin中实时预览的实现，是通过右边属性面板调节config中各属性字段的值，驱动编辑面板的视图改变，可见init.js是很重要的一环，它连接了数据和视图。</p><p>本想把init.js配置文件的字段意义整理成文档，但目前数据结构变动还比较大，所以只梳理关键字段：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  name: <span class="string">'base-qrcode'</span>, <span class="comment">// 组件英文名</span></span><br><span class="line">  label: <span class="string">'二维码'</span>, <span class="comment">// 组件中文名</span></span><br><span class="line">  _currentTab: <span class="string">'样式'</span>, <span class="comment">// 属性面板一级tab的默认选中项</span></span><br><span class="line">  config: &#123;</span><br><span class="line">    ruleId,</span><br><span class="line">    qrcode: &#123; <span class="comment">// 属性名称</span></span><br><span class="line">      tab: <span class="string">'样式'</span>, <span class="comment">// 属性面板二级tab的默认选中项</span></span><br><span class="line">      group: <span class="string">'是否启用动态二维码'</span>, <span class="comment">// tab分组</span></span><br><span class="line">      type: <span class="string">'qrcode'</span>,  <span class="comment">// * 组件类型</span></span><br><span class="line">      value: &#123; <span class="comment">// 属性值</span></span><br><span class="line">        dynamic: <span class="string">'0'</span>,</span><br><span class="line">        link: <span class="string">''</span>,</span><br><span class="line">        linkAPI: <span class="string">''</span>,</span><br><span class="line">        useLocationHref: <span class="string">'1'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>除了暴露默认的配置对象外，init.js 还暴露<code>dependence</code>用于描述组件依赖，和<code>rules</code>用于描述简单的（非空、格式校验）校验规则，更为复杂的（业务逻辑相关）自定义校验，则可以在validate.js中暴露的<code>validator</code>方法来定义。</p><h3 id="属性单元（type）"><a href="#属性单元（type）" class="headerlink" title="属性单元（type）"></a>属性单元（type）</h3><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g549giux9aj20s30oygol.jpg" alt="快站types" style="width:50%;"></p><p>type是设置属性值的最小单元，比如颜色选择器、数值选择器，如果这些基础的type无法满足要求，比如有联动的属性，也可以自定义type。文件目录在 admin\src\pages\editor\types </p><p>从某种意义上可以将属性控制单元（types）视作controler，组件目录内的init.js视作model、index.vue视作view。</p><p>使用admin通过组件拼装好页面后，将各个组件的config放入数组，保存数据库中，后续可以返回给admin继续编辑，或者供freemarker渲染页面。</p><h2 id="freemarker部分"><a href="#freemarker部分" class="headerlink" title="freemarker部分"></a>freemarker部分</h2><p>Freemarker是一个java模板引擎，快站用它来实现服务端页面渲染。更合适的方案可能是VUE的SSR模块，但由于目前服务端还没使用NodeJS，这部分工作还是由后端完成。</p><p>这部分的约定主要是*.pure.(html|js|css)的文件，是不含freemarker语法，可以压缩的，所以出于性能优化和语法高亮考虑，应该考虑尽量把代码写到pure文件中。</p><h2 id="案例展示"><a href="#案例展示" class="headerlink" title="案例展示"></a>案例展示</h2><p>截止目前，快站已经输出许多活动页面，感兴趣可以通过 <a href="https://b.pingan.com.cn/mkt/youhui/1905/rmhd/index.shtml" target="_blank" rel="external nofollow noopener noreferrer">热门活动查看</a> ，其中URL以 <a href="https://b.pingan.com.cn/kuaizhan" rel="external nofollow noopener noreferrer" target="_blank">https://b.pingan.com.cn/kuaizhan</a> 开头的页面，由快站制作。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2013/06/通行证项目前端开发小结/">通行证项目前端开发小结</a></li><li><a href="https://blogs.kainy.cn/2013/03/愚人节专题项目前端开发小结/">愚人节专题项目前端开发小结</a></li><li><a href="https://blogs.kainy.cn/2013/04/拾贝电台开源了/">拾贝电台开源了</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;快站是营销团队赋能业务团队快速搭建页面的内部工具。业务无需掌握技术，通过简单拖动和信息填写即可完成网页制作。&lt;/p&gt;
&lt;p&gt;功能强大而又兼顾灵活性的页面制作平台，快站有许多精妙的设计和约定。这也给开发入门带来了一定挑战，如果不能从全局理解它的运作过程，就容易陷入盲人摸象的境地。这里根据自己开发两个组件的经历和理解做简单梳理，如有不对还请斧正。&lt;/p&gt;
&lt;p&gt;从整体结构看，项目主要有两部分组成：admin和freemarker——admin也叫编辑器，面向页面制作者（生产者，后台，对内），用来在PC端拼出页面；freemarker面向页面的访问者（消费者，前台，对外），一般在客户端打开。开发一个组件，一般要同时开发两个部分。&lt;/p&gt;
&lt;p&gt;从技术选型看，admin部分使用vue技术栈，freemarker部分使用freemarker模板引擎和vue。&lt;br&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="快站" scheme="https://blogs.kainy.cn/tags/%E5%BF%AB%E7%AB%99/"/>
    
      <category term="项目" scheme="https://blogs.kainy.cn/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>合成海报的小程序插件</title>
    <link href="https://blogs.kainy.cn/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/"/>
    <id>https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/</id>
    <published>2019-11-19T11:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p><strong>票圈海报</strong> 是一个用于生成海报的小程序插件，通过灵活简单的配置(JSON)就可以生成精美的分享海报，适用于小程序的朋友圈分享等营销裂变场景。</p><p>可以绘制文字、图片、线条、色块到海报画布，支持设置宽高、透明度、层级甚至圆角等属性。</p><h2 id="亮点"><a href="#亮点" class="headerlink" title="亮点"></a>亮点</h2><ol><li>已上架到微信服务平台，一键接入，即插即用</li><li>提供异步调用方法，支持获取用户头像后合成海报的场景</li><li>无需设置图片downloadFile合法域名，再也不用担心 “downloadFile: fail url not in domain list” 问题</li><li>自带保存海报UI（开关参数：config.showSavePopup）</li></ol><a id="more"></a><h1 id="更新历史"><a href="#更新历史" class="headerlink" title="更新历史"></a>更新历史</h1><h2 id="1-0-13"><a href="#1-0-13" class="headerlink" title="1.0.13"></a>1.0.13</h2><p> 支持配置用户头像和昵称 ,直接由插件调用用户信息功能页获取</p><h2 id="1-0-12"><a href="#1-0-12" class="headerlink" title="1.0.12"></a>1.0.12</h2><p> 内置 预览／保存 海报的弹层UI</p><h2 id="1-0-7"><a href="#1-0-7" class="headerlink" title="1.0.7"></a>1.0.7</h2><p> 非合法域名图片使用代理下载</p><h2 id="1-0-5"><a href="#1-0-5" class="headerlink" title="1.0.5"></a>1.0.5</h2><p>  支持异步调用</p><h1 id="生成效果"><a href="#生成效果" class="headerlink" title="生成效果"></a>生成效果</h1><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bly1g93djbm341j20bi0m0dr4.jpg" alt="wxa-plugin-canvas预览截图" style="width: 400px;    border: solid gray 1px;    border-radius: 5px;"></p><h1 id="快速预览"><a href="#快速预览" class="headerlink" title="快速预览"></a>快速预览</h1><p>点击 <a href="https://developers.weixin.qq.com/s/0QHokdmh7xqX" rel="external nofollow noopener noreferrer" target="_blank">导入代码片段</a> 即可在微信开发者工具中运行和预览。需注意，由于引用插件，需要先申请接入权限，快速预览可填写 AppID： <code>wx8a6f7c4b3d410554</code>，确认适合自己后再发起插件接入申请。</p><p>小技巧：首次导入代码段，会在小程序开发者工具的 console 中看到 “插件未授权使用”的提示，只要点击右边“添加插件”按钮即可申请添加，秒通过。</p><h1 id="接入指引"><a href="#接入指引" class="headerlink" title="接入指引"></a>接入指引</h1><h2 id="1、插件申请接入："><a href="#1、插件申请接入：" class="headerlink" title="1、插件申请接入："></a>1、插件申请接入：</h2><p>在微信公众平台中， “微信小程序官方后台-设置-第三方服务-插件管理” 里点击 “添加插件”，搜索 “<strong>票圈海报</strong>” ，申请通过后，小程序开发者可在小程序内使用该插件。</p><h2 id="2、引入插件包："><a href="#2、引入插件包：" class="headerlink" title="2、引入插件包："></a>2、引入插件包：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: &#123;</span><br><span class="line">    <span class="attr">"poster"</span>: &#123;</span><br><span class="line">      <span class="attr">"version"</span>: <span class="string">"1.0.7"</span>,</span><br><span class="line">      <span class="attr">"provider"</span>: <span class="string">"wx8a6f7c4b3d410554"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3、使用插件："><a href="#3、使用插件：" class="headerlink" title="3、使用插件："></a>3、使用插件：</h2><p>小程序插件通过组件的 bind:success、bind:fail 属性 对外暴露回调方法，通过 config 属性接收插件配置对象。</p><p>在使用插件的页面(假设为 index )，引入插件</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.json</span></span><br><span class="line">"usingComponents": &#123;</span><br><span class="line">    "poster": "plugin://poster/poster"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">poster</span> <span class="attr">id</span>=<span class="string">"poster"</span> <span class="attr">config</span>=<span class="string">"&#123;&#123;posterConfig&#125;&#125;"</span> <span class="attr">hide-loading</span>=<span class="string">"&#123;&#123;false&#125;&#125;"</span> <span class="attr">preload</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span> <span class="attr">bind:success</span>=<span class="string">"onPosterSuccess"</span> <span class="attr">bind:fail</span>=<span class="string">"onPosterFail"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击生成海报<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">poster</span>&gt;</span></span><br></pre></td></tr></table></figure><p>除此之外，可以通过 <code>onCreate</code> API，异步调用海报合成方法，详见文末 异步生成海报 部分</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.selectComponent(<span class="string">'#poster'</span>).onCreate(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure><h1 id="使用注意事项"><a href="#使用注意事项" class="headerlink" title="使用注意事项"></a><del>使用注意事项</del></h1><ol><li><del>图片的域名<strong>务必</strong>添加到downloadFile合法域名中（开发设置-服务器域名-downloadFile合法域名）</del> 「插件已处理跨域问题」，warming信息可忽略。</li></ol><h1 id="组件参数解释"><a href="#组件参数解释" class="headerlink" title="组件参数解释"></a>组件参数解释</h1><h2 id="属性值"><a href="#属性值" class="headerlink" title="属性值"></a>属性值</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>preload</td><td>Boolean</td><td>否</td><td>true：图片资源预下载 默认false</td></tr><tr><td>hide-loading</td><td>Boolean</td><td>否</td><td>true：隐藏loading 默认false</td></tr></tbody></table><h2 id="config字段"><a href="#config字段" class="headerlink" title="config字段"></a>config字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>showSavePopup</td><td>Boolean</td><td>否</td><td>是否展示保存海报弹窗，默认 false</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>画布宽度</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td>画布高度</td></tr><tr><td>backgroundColor</td><td>String</td><td>否</td><td>画布颜色</td></tr><tr><td>debug</td><td>Boolean</td><td>否</td><td>false隐藏canvas，true显示canvas，默认false</td></tr><tr><td>pixelRatio</td><td>Number</td><td>否</td><td>1为一般，值越大越清晰</td></tr><tr><td>blocks</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>texts</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>images</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>lines</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr></tbody></table><h2 id="blocks字段"><a href="#blocks字段" class="headerlink" title="blocks字段"></a>blocks字段</h2><table><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>块的坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>块的坐标</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>否</td><td>如果内部有文字，由文字宽度和内边距决定</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td></td></tr><tr><td>paddingLeft</td><td>Number(单位:rpx)</td><td>否</td><td>内左边距</td></tr><tr><td>paddingRight</td><td>Number(单位:rpx)</td><td>否</td><td>内右边距</td></tr><tr><td>borderWidth</td><td>Number(单位:rpx)</td><td>否</td><td>边框宽度</td></tr><tr><td>borderColor</td><td>String</td><td>否</td><td>边框颜色</td></tr><tr><td>backgroundColor</td><td>String</td><td>否</td><td>背景颜色</td></tr><tr><td>borderRadius</td><td>Number(单位:rpx)</td><td>否</td><td>圆角</td></tr><tr><td>text</td><td>Object</td><td>否</td><td>块里面可以填充文字，参考texts字段解释</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h2 id="texts字段"><a href="#texts字段" class="headerlink" title="texts字段"></a>texts字段</h2><table><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>text</td><td>String｜Object</td><td>是</td><td>当Object类型时，参数为text字段的参数，marginLeft、marginRight这两个字段可用（示例请看下文）</td></tr><tr><td>fontSize</td><td>Number(单位:rpx)</td><td>是</td><td>文字大小</td></tr><tr><td>color</td><td>String</td><td>否</td><td>颜色</td></tr><tr><td>opacity</td><td>Int</td><td>否</td><td>1为不透明，0为透明</td></tr><tr><td>lineHeight</td><td>Number(单位:rpx)</td><td>否</td><td>行高</td></tr><tr><td>lineNum</td><td>Int</td><td>否</td><td>根据宽度换行，最多的行数</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>否</td><td>没有指定为画布宽度</td></tr><tr><td>marginLeft</td><td>Number(单位:rpx)</td><td>否</td><td>当text字段为Object可以使用，用来控制多行文字间距</td></tr><tr><td>marginRight</td><td>Number(单位:rpx)</td><td>否</td><td>当text字段为Object可以使用，用来控制多行文字间距</td></tr><tr><td>textDecoration</td><td>String</td><td>否</td><td>目前只支持 line-through（贯穿线），默认为none</td></tr><tr><td>baseLine</td><td>String</td><td>否</td><td>top｜ middle｜bottom基线对齐方式</td></tr><tr><td>textAlign</td><td>String</td><td>否</td><td>left｜center｜right对齐方式</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr><tr><td>fontFamily</td><td>String</td><td>否</td><td>小程序默认字体为’sans-serif’, 请输入小程序支持的字体，例如：’STSong’</td></tr><tr><td>fontWeight</td><td>String</td><td>否</td><td>‘bold’加粗字体，目前小程序不支持 100 - 900 加粗</td></tr><tr><td>fontStyle</td><td>String</td><td>否</td><td>‘italic’倾斜字体</td></tr></tbody></table><h2 id="images字段"><a href="#images字段" class="headerlink" title="images字段"></a>images字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>url</td><td>String</td><td>是</td><td>图片url（<strong>需要添加到下载白名单域名中</strong>）也支持本地图片</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>宽度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td>高度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>borderRadius</td><td>Number(单位:rpx)</td><td>否</td><td>圆角，跟css一样</td></tr><tr><td>borderWidth</td><td>Number(单位:rpx)</td><td>否</td><td>边框宽度</td></tr><tr><td>borderColor</td><td>String</td><td>否</td><td>边框颜色</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h2 id="lines字段"><a href="#lines字段" class="headerlink" title="lines字段"></a>lines字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>startX</td><td>Number(单位:rpx)</td><td>是</td><td>起始坐标</td></tr><tr><td>startY</td><td>Number(单位:rpx)</td><td>是</td><td>起始坐标</td></tr><tr><td>endX</td><td>Number(单位:rpx)</td><td>是</td><td>终结坐标</td></tr><tr><td>endY</td><td>Number(单位:rpx)</td><td>是</td><td>终结坐标</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>线的宽度</td></tr><tr><td>color</td><td>String</td><td>否</td><td>线的颜色</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h2 id="userinfo字段"><a href="#userinfo字段" class="headerlink" title="userinfo字段"></a>userinfo字段</h2><p>配置该项后，用户点击生成海报时，会先通过用户信息功能页授权获取用户信息，绘制海报时可直接使用用户头像和昵称。</p><h3 id="userinfo-avatar"><a href="#userinfo-avatar" class="headerlink" title="userinfo.avatar"></a>userinfo.avatar</h3><p>可以把它看作特殊的 images 配置，url 属性值为用户头像，其他属性和 images 无异</p><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>宽度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td>高度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>borderRadius</td><td>Number(单位:rpx)</td><td>否</td><td>圆角，跟css一样</td></tr></tbody></table><h3 id="userinfo-nickname"><a href="#userinfo-nickname" class="headerlink" title="userinfo.nickname"></a>userinfo.nickname</h3><p>可以把它看作特殊的 texts 配置，text 属性值为用户昵称，其他属性和 texts 无异</p><table><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>color</td><td>String</td><td>否</td><td>颜色</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>否</td><td>没有指定为画布宽度</td></tr><tr><td>textAlign</td><td>String</td><td>否</td><td>left｜center｜right对齐方式</td></tr></tbody></table><h1 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h1><p>以代码段为例</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">poster</span> <span class="attr">id</span>=<span class="string">"poster"</span> <span class="attr">config</span>=<span class="string">"&#123;&#123;posterConfig&#125;&#125;"</span> <span class="attr">bind:success</span>=<span class="string">"onPosterSuccess"</span> <span class="attr">hide-loading</span>=<span class="string">"&#123;&#123;false&#125;&#125;"</span> <span class="attr">bind:fail</span>=<span class="string">"onPosterFail"</span> <span class="attr">bind:savePopShowChange</span>=<span class="string">"popChange"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">"margin:40rpx;"</span>&gt;</span>点击生成海报(缓存|同步)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">poster</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="成功回调-success"><a href="#成功回调-success" class="headerlink" title="成功回调 success"></a>成功回调 success</h2><p>返回 { detail }, detail 为生成海报图片的本地 url，可以使用<code>wx.previewImage</code>预览海报，如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">onPosterSuccess(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; detail &#125; = e;</span><br><span class="line">  wx.previewImage(&#123;</span><br><span class="line">      current: detail,</span><br><span class="line">      urls: [detail]</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="失败回调-fail"><a href="#失败回调-fail" class="headerlink" title="失败回调 fail"></a>失败回调 fail</h2><p>返回{ detail }, detail 为错误信息</p><h2 id="保存弹层显隐切换回调-savePopShowChange"><a href="#保存弹层显隐切换回调-savePopShowChange" class="headerlink" title="保存弹层显隐切换回调 savePopShowChange"></a>保存弹层显隐切换回调 savePopShowChange</h2><p>如果选项设置了 <code>showSavePopup</code> 为 <code>true</code>，会在合成海报后，弹出保存海报的指引弹层。绑定 <code>savePopShowChange</code> 事件，可监听弹层显隐状态：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onPosterSuccess(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; detail &#125; = e;</span><br><span class="line">  <span class="built_in">console</span>.log(detail) <span class="comment">// true or false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="异步生成海报"><a href="#异步生成海报" class="headerlink" title="异步生成海报"></a>异步生成海报</h1><p><em>从基础库版本 2.2.3 开始提供支持</em></p><p>有些场景可能需要发起 ajax 请求后才能获取生成海报的数据，这里提供了异步生成海报的方式。</p><p>只需要对组件的 <code>onCreate</code> 方法，如下调用就行了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 异步生成海报</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    asyncCreatePoster() &#123;</span><br><span class="line">    <span class="comment">// setData配置数据</span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123; <span class="attr">posterConfig</span>: &#123;...&#125; &#125;, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.selectComponent(<span class="string">'#poster'</span>).onCreate(<span class="literal">true</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="问题反馈"><a href="#问题反馈" class="headerlink" title="问题反馈"></a>问题反馈</h1><p>有什么问题可以添加微信 <code>wesiri</code>，发消息“小程序”进讨论群。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2020/11/201116小程序插件数据统计/">小程序插件数据统计</a></li><li><a href="https://blogs.kainy.cn/2010/06/雷死人不偿命《走进光时代（by天翼群星）》/">雷死人不偿命《走进光时代（by天翼群星）》</a></li><li><a href="https://blogs.kainy.cn/2017/09/小程序页面“乱入”问题的解决办法/">小程序页面“被缓存”问题的解决方法</a></li><li><a href="https://blogs.kainy.cn/2010/01/周杰伦最新力作《刺陵》巨幅海报+剧情简介抢先看/">周杰伦最新力作《刺陵》巨幅海报+剧情简介抢先看</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;票圈海报&lt;/strong&gt; 是一个用于生成海报的小程序插件，通过灵活简单的配置(JSON)就可以生成精美的分享海报，适用于小程序的朋友圈分享等营销裂变场景。&lt;/p&gt;
&lt;p&gt;可以绘制文字、图片、线条、色块到海报画布，支持设置宽高、透明度、层级甚至圆角等属性。&lt;/p&gt;
&lt;h2 id=&quot;亮点&quot;&gt;&lt;a href=&quot;#亮点&quot; class=&quot;headerlink&quot; title=&quot;亮点&quot;&gt;&lt;/a&gt;亮点&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;已上架到微信服务平台，一键接入，即插即用&lt;/li&gt;
&lt;li&gt;提供异步调用方法，支持获取用户头像后合成海报的场景&lt;/li&gt;
&lt;li&gt;无需设置图片downloadFile合法域名，再也不用担心 “downloadFile: fail url not in domain list” 问题&lt;/li&gt;
&lt;li&gt;自带保存海报UI（开关参数：config.showSavePopup）&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
      <category term="JavaScript" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/JavaScript/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="海报" scheme="https://blogs.kainy.cn/tags/%E6%B5%B7%E6%8A%A5/"/>
    
      <category term="营销" scheme="https://blogs.kainy.cn/tags/%E8%90%A5%E9%94%80/"/>
    
  </entry>
  
  <entry>
    <title>提升电桩使用率的思考和未来路面交通的展望</title>
    <link href="https://blogs.kainy.cn/2019/08/190820%E6%8F%90%E5%8D%87%E7%94%B5%E6%A1%A9%E4%BD%BF%E7%94%A8%E7%8E%87%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%9C%AA%E6%9D%A5%E8%B7%AF%E9%9D%A2%E4%BA%A4%E9%80%9A%E7%9A%84%E5%B1%95%E6%9C%9B/"/>
    <id>https://blogs.kainy.cn/2019/08/190820提升电桩使用率的思考和未来路面交通的展望/</id>
    <published>2019-08-19T23:03:13.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<p>针对<a href="/2019/06/190627AionS/#头一回上高速（20190817）">入手AionS后遇到的充电难问题</a>，个人觉得可以从两方面入手解决：</p><h3 id="油车占充电车位"><a href="#油车占充电车位" class="headerlink" title="油车占充电车位"></a>油车占充电车位</h3><p>这并不是一个新问题，可以通过车牌号，向物业或者交管局反应，让他们通知车主挪车。</p><h3 id="充满电的车占位"><a href="#充满电的车占位" class="headerlink" title="充满电的车占位"></a>充满电的车占位</h3><p>短期内可以通过调整计费方式解决。目前的计费方式是电费＋服务费，充电停止则两项都停止计费。只需稍作修改：拔枪后才停止服务费计费。车主为避免高额服务费，就会自觉地在充电完成后拔枪，枪拔了占车位也没意义，自然车位也腾了出来。</p><a id="more"></a><p>根本上解决充电桩使用效率问题，还是要从充电流程的标准化入手。比如结合立体停车场——车场有许多类似集装箱的容器，容器作为连接车与车场的中介。电车车主把车停入容器后，接上充电枪后离场。容器进入充电列队，按顺序放入带充电功能的卡槽，充电完成后移出，放到普通卡槽，普通卡槽停放的是普通油车和无需充电的电动车。</p><p>方案一只需要软件升级，实施成本低，但是面临停车场负荷的瓶颈——如果停车场车位的建设跟不上停车数量增长，这个方案采用的加价手段也就失效了，比如充完电的时候，停车场停满了，车主拔枪但找不到别的车位又不打算立即离开这附近，就可能选择继续占用充电位。这种情况在目前的闹市区停车场已经十分常见。</p><p>方案二虽然实施成本高，却有更高的扩展性。只要“未来汽车保有量会增加，且电动车比例不会下降”的假设成立，就能够提高停车、充电成本和节约重复建设成本，所以我个人觉得这是长期来看更合理的方案。</p><h3 id="未来展望"><a href="#未来展望" class="headerlink" title="未来展望"></a>未来展望</h3><p>感觉未来不会存在私家车的概念，所有机车实现单车自动驾驶后，由一个交通系统统一调度。乘客只需付费获得使用权即可。</p><p>定价的差异，体现在车型和行驶优先权的不同——车型差异好理解，配置越好、越舒适的车型付费越高；行驶优先权体现在比如，并道时候的“拉链式“交替通行，如果优先权一样，就遵循”右边过一辆车，左边过一辆车，然后右边再过一辆车，反反复复，有序行进“的规则，若遇到优先级高的，则优先级高的按一定概率，先通行。</p><p>无产权取代私有产权，可以降低车辆的持有成本，提高使用率。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/06/190627AionS/">广汽AionS笔记（持续更新）</a></li><li><a href="https://blogs.kainy.cn/2010/01/驾照考试（科目二）经验总结/">驾照考试（科目二）经验总结</a></li><li><a href="https://blogs.kainy.cn/2010/02/司机必看：46条保命驾驶技巧/">司机必看：46条保命驾驶技巧</a></li><li><a href="https://blogs.kainy.cn/2010/12/社会化交通导航–Waze_初体验/">社会化交通导航–Waze 初体验</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;针对&lt;a href=&quot;/2019/06/190627AionS/#头一回上高速（20190817）&quot;&gt;入手AionS后遇到的充电难问题&lt;/a&gt;，个人觉得可以从两方面入手解决：&lt;/p&gt;
&lt;h3 id=&quot;油车占充电车位&quot;&gt;&lt;a href=&quot;#油车占充电车位&quot; class=&quot;headerlink&quot; title=&quot;油车占充电车位&quot;&gt;&lt;/a&gt;油车占充电车位&lt;/h3&gt;&lt;p&gt;这并不是一个新问题，可以通过车牌号，向物业或者交管局反应，让他们通知车主挪车。&lt;/p&gt;
&lt;h3 id=&quot;充满电的车占位&quot;&gt;&lt;a href=&quot;#充满电的车占位&quot; class=&quot;headerlink&quot; title=&quot;充满电的车占位&quot;&gt;&lt;/a&gt;充满电的车占位&lt;/h3&gt;&lt;p&gt;短期内可以通过调整计费方式解决。目前的计费方式是电费＋服务费，充电停止则两项都停止计费。只需稍作修改：拔枪后才停止服务费计费。车主为避免高额服务费，就会自觉地在充电完成后拔枪，枪拔了占车位也没意义，自然车位也腾了出来。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
    
      <category term="电桩" scheme="https://blogs.kainy.cn/tags/%E7%94%B5%E6%A1%A9/"/>
    
      <category term="交通" scheme="https://blogs.kainy.cn/tags/%E4%BA%A4%E9%80%9A/"/>
    
      <category term="汽车" scheme="https://blogs.kainy.cn/tags/%E6%B1%BD%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>不要和女人吵架[认真脸]</title>
    <link href="https://blogs.kainy.cn/2019/08/190809%E4%B8%8D%E8%A6%81%E5%92%8C%E5%A5%B3%E4%BA%BA%E5%90%B5%E6%9E%B6%5B%E8%AE%A4%E7%9C%9F%E8%84%B8%5D/"/>
    <id>https://blogs.kainy.cn/2019/08/190809不要和女人吵架[认真脸]/</id>
    <published>2019-08-09T10:50:35.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<p>两个人相处，难免有摩擦。依个人经验：和女人吵架是很不明智的，原因有俩：</p><h2 id="理亏"><a href="#理亏" class="headerlink" title="理亏"></a>理亏</h2><p>我们知道吵赢一场架，最基本的武器就是论据，但——</p><p>任何理由，当你用它提出诉求时，无论论据多么逻辑严谨、多么政治正确，女人们都可以用一句 “你是男人么？就不能大度一点？” 回得你思考人生。</p><p>而反过来，当你有一丝不顺遂她心意的举动，则会有一百句类似“对我不上心”、”不细心“、”不体贴“在前面侯着你。理由就是“这还需要理由？”</p><a id="more"></a><p>不信我们试着拿公理如：常识（<code>未婚先孕是不道德的</code>）、好习惯（<code>早睡早起</code>/<code>坚持锻炼</code>/<code>不滥情</code>/<code>睡前互道晚安</code>）、名言警句（<code>不以结婚为目的的恋爱都是耍流氓</code>）来举例。如果男人要求女人，就是“不够大度”；反过来，当男人偶尔放飞自我，有违公理，那是不是就“不细心/不体贴/不负责任/直男癌/渣男”了？</p><p>所以无论从理论上，还是先烈们血的教训都告诉男同胞们：吵架的时候千万别找理，因为操起的家伙注定是刀刃朝你而刀柄向着女人。</p><h2 id="不讨好"><a href="#不讨好" class="headerlink" title="不讨好"></a>不讨好</h2><p>回想一下吵架原由，如果原因在自己，自知理亏，那么基于上述（原因一），就应该知道决无可能通过吵架实现翻盘。</p><p>而据我观察，即便是以女人为导火索的吵架，往往结局也是共吞苦果。拿自己的经历来举例，一次因为被女票删了聊天记录而发火，大吵一架。最终，作为惩罚和防范措施，我把手机密码改了，结果女票立马也改了自己手机的密码——在我并无过错的情况下😅，后面几经不便，女票提出互相改回老密码，我开玩笑地提出“也好，那就罚你先我三天设回密码吧”，结果被秒拒…… 所以说，即便自己无过，要想通过吵架从女人那讨得哪怕一点点好处，都是木有可能滴。。</p><p>男女之间但吵架，无论是谁之过，男人能讨得最大的好就是共吞苦果。如果你不想不讨好地承担苦果，也就只能：</p><ul><li><p>在自己错的情况下好好讨好对方</p></li><li><p>对方错的时候“打掉牙齿和血吞”</p></li></ul><h2 id="“那么男人究竟该如何向女人表达合理诉求呢？”"><a href="#“那么男人究竟该如何向女人表达合理诉求呢？”" class="headerlink" title="“那么男人究竟该如何向女人表达合理诉求呢？”"></a>“那么男人究竟该如何向女人表达合理诉求呢？”</h2><p>Good question，但俺也还没想明白…</p><p>这里提供的是“不要吃屎”的建议，至于要吃什么，要怎么和女人表达诉求争取权益，还得广大男同胞一起摸索啦（欢迎在留言处讨论）。我暂时也还没有多少自认为好的建议。</p><p>反正据我的观察和实践，每次和女友吵架，无论起因过程结局如何，最后总是自己吃亏。所以结论就是无论无条件避免和女人吵架。</p><p>当然，前提是你在意的女人，如果不在意，或许还有翻盘机会哟～</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/07/男孩女孩的那点心思/">男孩女孩的那点心思</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;两个人相处，难免有摩擦。依个人经验：和女人吵架是很不明智的，原因有俩：&lt;/p&gt;
&lt;h2 id=&quot;理亏&quot;&gt;&lt;a href=&quot;#理亏&quot; class=&quot;headerlink&quot; title=&quot;理亏&quot;&gt;&lt;/a&gt;理亏&lt;/h2&gt;&lt;p&gt;我们知道吵赢一场架，最基本的武器就是论据，但——&lt;/p&gt;
&lt;p&gt;任何理由，当你用它提出诉求时，无论论据多么逻辑严谨、多么政治正确，女人们都可以用一句 “你是男人么？就不能大度一点？” 回得你思考人生。&lt;/p&gt;
&lt;p&gt;而反过来，当你有一丝不顺遂她心意的举动，则会有一百句类似“对我不上心”、”不细心“、”不体贴“在前面侯着你。理由就是“这还需要理由？”&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="吵架" scheme="https://blogs.kainy.cn/tags/%E5%90%B5%E6%9E%B6/"/>
    
      <category term="女人" scheme="https://blogs.kainy.cn/tags/%E5%A5%B3%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>提车风波</title>
    <link href="https://blogs.kainy.cn/2019/08/190801%E6%8F%90%E8%BD%A6%E9%A3%8E%E6%B3%A2/"/>
    <id>https://blogs.kainy.cn/2019/08/190801提车风波/</id>
    <published>2019-08-01T11:03:13.000Z</published>
    <updated>2022-03-18T12:03:11.777Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2019/06/190627AionS/#通知提车了（20190718）" target>AionS提车</a>后，就要注册上牌了。在车管所服务站的指引下，来到距离最近的罗湖国税局，办理购置税。</p><p>到二楼车购税窗口咨询，得知需要现场取号，结果取号的人说今天的号发完了… 这才不到三点钟时间。而且三个窗口也就一个有人在办业务。这号都放到哪去了呢？对方说“不清楚，找服务台”。最后找到“科长”，带到二楼，了解到就是那一个在办理业务的人（车行），占用了一百多个号😱，感情这三个窗口里的工作人员都围着“一天几百万”的哥们转呐。面对我提出放号方式合理性质疑，“科长”也只能建议明天早些来。问题再次升级后，才得以解决。</p><a id="more"></a><p> 看到厅堂四处悬挂、摆放的政务服务“一次办”的宣传物料，突然感到莫大讽刺——流程是优化到可以一次办理了，但让不让“一次办”，让哪些人“一次办”，决定权还是掌握在放号规则制定者手中，成为一种资源。我无意臆测这其中是否存在利益输送，但这种放号机制，体现的公职人员疏离办事群众而亲近个别代理机构的意图却是昭然若揭。正是这种不合理机制的存在，让各种代办业务赚的盆满钵满，纳税人向国家缴税还要多缴一份代办费，从某种意义上是不是一种向国家分权的行为呢？又是权力授予抑或权力攫取？</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2019/06/190627AionS/#通知提车了（20190718）&quot; target&gt;AionS提车&lt;/a&gt;后，就要注册上牌了。在车管所服务站的指引下，来到距离最近的罗湖国税局，办理购置税。&lt;/p&gt;
&lt;p&gt;到二楼车购税窗口咨询，得知需要现场取号，结果取号的人说今天的号发完了… 这才不到三点钟时间。而且三个窗口也就一个有人在办业务。这号都放到哪去了呢？对方说“不清楚，找服务台”。最后找到“科长”，带到二楼，了解到就是那一个在办理业务的人（车行），占用了一百多个号😱，感情这三个窗口里的工作人员都围着“一天几百万”的哥们转呐。面对我提出放号方式合理性质疑，“科长”也只能建议明天早些来。问题再次升级后，才得以解决。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
    
      <category term="国税局" scheme="https://blogs.kainy.cn/tags/%E5%9B%BD%E7%A8%8E%E5%B1%80/"/>
    
      <category term="车购税" scheme="https://blogs.kainy.cn/tags/%E8%BD%A6%E8%B4%AD%E7%A8%8E/"/>
    
      <category term="提车" scheme="https://blogs.kainy.cn/tags/%E6%8F%90%E8%BD%A6/"/>
    
  </entry>
  
</feed>
