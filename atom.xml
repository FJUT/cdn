<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hi, Kainy</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blogs.kainy.cn/"/>
  <updated>2020-10-24T11:16:57.000Z</updated>
  <id>https://blogs.kainy.cn/</id>
  
  <author>
    <name>Kainy Guo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>车主一周年小记</title>
    <link href="https://blogs.kainy.cn/2020/07/%E8%BD%A6%E4%B8%BB%E4%B8%80%E5%91%A8%E5%B9%B4%E5%B0%8F%E8%AE%B0/"/>
    <id>https://blogs.kainy.cn/2020/07/车主一周年小记/</id>
    <published>2020-07-09T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>几天前接到续保电话，才想起<a href="https://blogs.kainy.cn/2019/06/190627AionS/?from=车主一周年小记">提车已经一周年</a>了。<br>前半年只用于周末出游、拍婚纱照、接亲。其实常开也就近半年，因为疫情原因，还拉起了<a href="https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/?from=车主一周年小记">顺风车</a> 让车技娴熟不少。</p><a id="more"></a><h2 id="智能驾驶辅助"><a href="#智能驾驶辅助" class="headerlink" title="智能驾驶辅助"></a>智能驾驶辅助</h2><p>智能驾驶辅助几乎为我省去了一半的操作，下面拿几个比较明显的体会来说。</p><h3 id="多一道安全保障"><a href="#多一道安全保障" class="headerlink" title="多一道安全保障"></a>多一道安全保障</h3><p>行车辅助在紧急情况下会辅助控制方向盘或着刹车。有两次比较明显的感受：</p><p>新手上路的时候，有一次在高速上走最右车道行驶，应急车道原本停在原地开双闪的车突然起步左转，手还来不及反应方向盘就感受到左转的扭矩，避过一险；</p><p>还有一次也是在高速，因为刚开始用自适应巡航（跟车辅助），注意力都在前车，跟着前车并入主道时，没留意到左边有车，又一次感受到方向盘右转扭矩，和左车插肩而过后，才反应过来，看到后视镜里刚急刹的左车狂按喇叭闪灯 —— 估计对方也吓的不轻。事后感到庆幸，如果没有驾驶辅助，怕是要交不少新人学费了，辅助生效的那一瞬间的感觉，可以用“有如神助”来描述。</p><p>自动刹车除了几次跟车太近误触发，倒还没实际用过（希望以后都别用到）。养成和前车保持适当距离的习惯后，基本没再遇到。</p><h3 id="行车更轻松了"><a href="#行车更轻松了" class="headerlink" title="行车更轻松了"></a>行车更轻松了</h3><p>AionS 自动驾驶有两种模式 —— 定速巡航和自适应巡航。定速巡航适合城市道路，车辆会根据前车情况控制速度，司机需要控制转向。自适应巡航会控制速度和转向，转向控制是依据路面车道，而城市道路的车道比较复杂，所以不适合使用自适应巡航。</p><p>高速上启动自适应巡航，司机只要右脚搭在刹车，双手搭方向盘以备紧急情况。基本无需使劲，十分轻松。并且巡航系统控制速度的原理是依据前车的速度变化，反向推导本车应执行的操作，再控制本车的动力系统实现的跟车，这个过程就相当于对前车行驶操作进行了润色，会使得加减速比前车更为平缓，从而提升乘车体验。</p><h3 id="一些实用小技巧"><a href="#一些实用小技巧" class="headerlink" title="一些实用小技巧"></a>一些实用小技巧</h3><p>在距离汽车二十米内，蓝牙钥匙长按解锁键，即可开启所有四个车窗和天窗，提前通风换气；手机APP还可以通过移动网络开启窗，没有距离限制，这个在新车气味重的时候非常实用。要注意天气状况就是了。</p><p>远程启动：按蓝牙钥匙的“上锁”键，然后立即长按“启动“按键（第三排左边的顺时针圈圈）三秒左右，直到车灯亮起，就完成了整车启动的触发，可以松开按键。当你走近到门边，门会自动解锁。节省上车后启动，等待车机和发动机就绪的时间。</p><h2 id="两个优化建议"><a href="#两个优化建议" class="headerlink" title="两个优化建议"></a>两个优化建议</h2><p>车窗开启的时候，外面的声音对车内播放的声音干扰比较大，每次都要手动提高音量，如果可以关联起来，降窗时自动提高两格音量就方便多了。</p><p>还有就是顶部的太阳能面板，说是高温时候会启动通风换气，感觉存在感不高，也不知道也没有工作过，如果可以查到启动记录就更好啦。</p><h2 id="总结一些电车省钱技巧"><a href="#总结一些电车省钱技巧" class="headerlink" title="总结一些电车省钱技巧"></a>总结一些电车省钱技巧</h2><p>充电时间选择用电低谷，几乎可以少一半的电费，只是可能需要早起。</p><p>经过这一年的历练，车技娴熟了不少。可以从容应对各种路况，做到有得放矢 —— 想让的让，不想让的，比如插队加塞，就别想在我这有机可乘，晾着他难受一下，毕竟谁的时间还不是时间呢。但遇到公交车，一般还是愿意主动让一下，毕竟人家的载客量几倍与我，我让一秒钟，他们加起来就是几秒钟；另外，之前有两次钱包落公交车，被好心司机送到终点站找回的经历，也让自己对公交司机印象不错。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/06/190627AionS/">广汽AionS笔记（持续更新）</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;几天前接到续保电话，才想起&lt;a href=&quot;https://blogs.kainy.cn/2019/06/190627AionS/?from=车主一周年小记&quot;&gt;提车已经一周年&lt;/a&gt;了。&lt;br&gt;前半年只用于周末出游、拍婚纱照、接亲。其实常开也就近半年，因为疫情原因，还拉起了&lt;a href=&quot;https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/?from=车主一周年小记&quot;&gt;顺风车&lt;/a&gt; 让车技娴熟不少。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="AionS" scheme="https://blogs.kainy.cn/tags/AionS/"/>
    
      <category term="车主" scheme="https://blogs.kainy.cn/tags/%E8%BD%A6%E4%B8%BB/"/>
    
  </entry>
  
  <entry>
    <title>主流顺风车APP比较</title>
    <link href="https://blogs.kainy.cn/2020/07/%E4%B8%BB%E6%B5%81%E9%A1%BA%E9%A3%8E%E8%BD%A6APP%E6%AF%94%E8%BE%83/"/>
    <id>https://blogs.kainy.cn/2020/07/主流顺风车APP比较/</id>
    <published>2020-07-06T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>因为疫情原因，我开始驾车上下班，考虑到摊薄停车费和过路费等通勤成本，开启长期稳定的接单模式 —— 基本保持每天上下班接一单的频率。</p><p>这里结合小半年的使用体验，从车主关心的几个方面对三款主流拼车APP——嘀嗒出行、滴滴顺风车、哈啰出行做一个横向比较，供有共享空座想法的车主参考 <em>（滴滴最近上线一个叫花小猪的打车APP，号称打车版的拼多多，说白了也是拼车，不过是在下沉市场规避监管，同时利用熟人网络传播的套路，深圳没有开通，我也没体验过，这里不做讨论）</em></p><a id="more"></a><p>先说说自己接触各个拼车APP的情况：最开始使用的是哈啰出行，那时候滴滴顺风车在深圳还没恢复运营。</p><p>之后因为匹配度高的订单不多，又尝试了嘀嗒出行，一开始看这名字有点山寨滴滴的印象，只是因为 App Store 排名比哈罗出行靠前就下载试试，后来才知道嘀嗒出行的市场占有才是最高的。</p><p>一个月前，看到滴滴顺风车恢复深圳运营的新闻，也第一时间下载体验。截止目前，嘀嗒是自己接单的主力应用，而滴滴被暂时弃用，原因后面会说。</p><h2 id="拼车业务在APP内的地位：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#拼车业务在APP内的地位：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="拼车业务在APP内的地位： 嘀嗒 &gt; 滴滴 &gt; 哈啰"></a>拼车业务在APP内的地位： 嘀嗒 &gt; 滴滴 &gt; 哈啰</h2><p>对于这三款APP和背后的运营公司，拼车都不是其唯一业务，甚至不是主营业务，所以顺风车产品在整个APP内的地位各有差异。而产品地位对接下来要对比的指标，产生直接影响，所以首先总结。</p><p>嘀嗒出行和滴滴顺风车都是独立APP，APP内切换乘客和车主身份。从这一点看，两者打平。</p><p>但大家可能对 <strong>滴滴出行</strong> APP耳熟能详 —— 快车、专车、出租车业务都在里面。为顺风车单独打造一个 <strong>滴滴顺风车</strong> APP，貌似重视拼车业务，实则可能更多是出于合规或者隔离负面消息的考虑。</p><p>另外，近期在下沉市场打得火热的花小猪，据说也和滴滴有着千丝万缕的联系。感觉滴滴意图一线城市推滴滴顺风车，与竞品正面竞争；下沉市场推花小猪，农村包围城市，两条腿走路，助其夺回顺风车市场第一的宝座。</p><p>嘀嗒出行的前身叫“嘀嗒拼车”，整个APP只在乘客身份里，有拼车之外的出租车业务，可见拼车业务对于嘀嗒和滴滴的重要程度差异 —— 如果说顺风车业务对于嘀嗒是左膀右臂，对于滴滴可能只是左手手掌。</p><p>而哈啰顺风车入口则是在APP首页，单车和小件快送之后的第三个按钮位置，相当于是APP内的一个功能模块。</p><h2 id="订单量-嘀嗒-gt-滴滴-gt-＝-哈啰"><a href="#订单量-嘀嗒-gt-滴滴-gt-＝-哈啰" class="headerlink" title="订单量: 嘀嗒 &gt; 滴滴 &gt;＝ 哈啰"></a>订单量: 嘀嗒 &gt; 滴滴 &gt;＝ 哈啰</h2><p>这里的订单量指的是路线和时间的匹配度都足够高的订单数量，这直接影响到车主接单的效率和意愿。</p><p>嘀嗒上发布行程，基本上前十条都足够顺路，然后在里面选择时间匹配单即可，而滴滴和哈啰，可能就前面1～3条路线匹配，时间的话就看运气了。随着滴滴用户量增加，和哈啰的差距预计会拉大。</p><p>奇怪的是，滴滴的路线匹配值标的也低，即使非常顺路的单，匹配度也就70%，不知道是否和试运营有关。</p><h2 id="订单价格：-滴滴-gt-哈啰-gt-嘀嗒"><a href="#订单价格：-滴滴-gt-哈啰-gt-嘀嗒" class="headerlink" title="订单价格： 滴滴 &gt; 哈啰 &gt;= 嘀嗒"></a>订单价格： 滴滴 &gt; 哈啰 &gt;= 嘀嗒</h2><p>价格一般是我选择拼车订单考虑的第二因素，从计费规则可以看到，对于跨城订单，三者都是默认选择高速路线，计价也包含了高速费用。</p><p>而市内订单，嘀嗒和哈啰都是需要车主和乘客协商，而滴滴不允许车主向乘客额外收取费用，也就可以理解为订单价格默认包含了高速费用。</p><p>所以同样路线，滴滴每单价格基本是最高的，其次是哈啰，而嘀嗒价格最低，但是一般如果提出平摊高速费，乘客都是愿意的。</p><h2 id="功能限制：-滴滴-gt-哈啰-gt-嘀嗒"><a href="#功能限制：-滴滴-gt-哈啰-gt-嘀嗒" class="headerlink" title="功能限制： 滴滴 &gt; 哈啰 &gt;= 嘀嗒"></a>功能限制： 滴滴 &gt; 哈啰 &gt;= 嘀嗒</h2><p>这是一个反向指标，比较的是规则对车主接单的限制，比如三个APP现阶段都禁止半夜接单，以及每天的接单数上限。</p><p>而除此之外，滴滴顺风车还限制每周最多发布两条自定义路线，也就是说每周只有一次机会接常规行程之外的顺风单，比如你常规路线设置了上下班，周末开车出门办事想接个顺风单，就只能接其中的一个行程，这应该是出于避免全职司机混入的考量，却也伤及了正常用户。</p><p>哈啰和嘀嗒，不仅无此限制，还可以查看附近的订单。</p><p>嘀嗒的提现有每周二、五的时间限制，不知是出于资金安全考虑还是资金沉淀？我倒不太在意这点。</p><h2 id="操作体验：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#操作体验：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="操作体验： 嘀嗒 &gt;= 滴滴 &gt; 哈啰"></a>操作体验： 嘀嗒 &gt;= 滴滴 &gt; 哈啰</h2><p>交互体验上，嘀嗒和滴滴都不错，不过嘀嗒有个问题，就是到达终点附近自动点击到达，却有时无法“极速到账”，原因又是未送达乘客终点附近… 有点自相矛盾了。</p><p>滴滴在产品设计上有个亮点在于，接单时候会展示到达乘客起点位置的预估时长，从而推算出发时间，这样可以辅助车主判断是否接单。</p><p>而哈啰有个槽点，就是我在晚上点开上班的常规路线，返回的是今天最接近当前时间的订单，我需要每次手动把出发时间调成明天。而滴滴嘀嗒会自动匹配明天早上的订单，这才是用户真实意图。</p><h2 id="客服体验：-嘀嗒-gt-滴滴-gt-哈啰"><a href="#客服体验：-嘀嗒-gt-滴滴-gt-哈啰" class="headerlink" title="客服体验： 嘀嗒 &gt; 滴滴 &gt;= 哈啰"></a>客服体验： 嘀嗒 &gt; 滴滴 &gt;= 哈啰</h2><p>滴滴和哈啰做的都不太好，滴滴预期等待时长基本要乘一个三到五倍到系数，比如提示预计两分钟，实际等待可能是十分钟。</p><p>而哈啰更奇葩，客服默认是人工智障的机器人回答，啰嗦半天转人工，基本也要等待十几分钟。</p><p>嘀嗒的客服我只用过一次，是乘客中途取消订单，嘀嗒的客服类似工单提交，并且很快就出结果，有短信通知。相比需要等待的人工客服，异步化的处理，时间和精力成本较低。当然，嘀嗒也有人工客服，但我目前还没用到。</p><h2 id="判罚公正度：-嘀嗒-gt-哈啰-gt-滴滴"><a href="#判罚公正度：-嘀嗒-gt-哈啰-gt-滴滴" class="headerlink" title="判罚公正度： 嘀嗒 &gt; 哈啰 &gt; 滴滴"></a>判罚公正度： 嘀嗒 &gt; 哈啰 &gt; 滴滴</h2><p>拼车难免遇到订单取消的情况，三个平台上我都遇到过。</p><p>嘀嗒一次，是我在接乘客途中被临时取消，乘客全责。</p><p>滴滴两次，第一次是遇上堵车，我迟到五分钟被取消，我全责，被乘客索赔五元。</p><p>那以后我接滴滴单就比较留意出发时间，一般都提前到，可有一天乘客因为培训拖堂，超时十分钟还没到，沟通后取消，滴滴还是判我的责任，理由是“未按约定时间到达上车地点”，我也是一脸懵逼 —— 迟到不行，早到还不行么？于是有了上述的客服沟通，体验并不好，又在路边浪费了半小时，最后改判为双方无责。</p><p>那以后就卸载了滴滴顺风车，主要考量是滴滴单价虽高，但是建立在驾乘双方地位不平等的前提下，遇到一两个取消的，十个订单差价都未必补的回来，机会成本高，还坏了心情，干脆卸载了之 —— 你开心就好，哥不陪你跪。</p><h2 id="推荐-amp-邀请"><a href="#推荐-amp-邀请" class="headerlink" title="推荐&amp;邀请"></a>推荐&amp;邀请</h2><p>以上对比根据自己近半年的使用体验总结，个人觉得嘀嗒是三个APP中最成熟的。</p><p>上述指标之间也有相互影响——比如滴滴定价高，就可能影响它判罚的公正度（或者说判罚标准）。哈啰顺风车是哈啰出行子模块，那么客服功能也就”有胜无“的水平。</p><p>接单的过程中，发现拼车乘客中，有车族的比例其实蛮高的，他们往往因为应酬不便开车、车在保养维修，或者纯粹不想开车而选择搭顺风车。</p><p>后来想想也非偶然，毕竟就算是拼车，价格也比乘坐公共交通工具高出不少，但比起自己开车的成本又稍低一些，价格上车主比较容易接受。</p><p>通过合乘，大家平摊了出行成本，同时减少了上路私家车的数量，为缓解交通拥堵出了份力，受益者不止驾乘双方，何乐而不为呢？有兴趣的车主可以微信扫码注册，你我都有奖励。需要准备身份证、驾驶证、行驶证，认证后即可开始接单～ </p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1ggjmq68xz2j20n01ds4i4.jpg" alt="嘀嗒顺风车车主邀请码" style="width:50%"></p><p><em>（这里仅推荐嘀嗒顺风车，其他平台可以自行下载注册噢）</em></p><h2 id="收获和小结"><a href="#收获和小结" class="headerlink" title="收获和小结"></a>收获和小结</h2><p>拼车的乘客中，有带初到深圳的弟弟去莲花山公园的姐姐，介绍一个建筑几年前的样子——那是她当时最喜欢的房子…</p><p>有刚从饭局回来的夫妻，担心着没送成的三万现金，可能意味着孩子择校的问题“校领导”也没十足把握…</p><p>有出差到深马不停蹄，赶往公明厂区的父亲，利用路程时间和家里亲戚视频，喊年幼儿子名字时略带骄傲的口音…</p><p>先后有来自平安银行、江苏银行、民生银行、光大银行、宁波银行、中信银行和交通银行的同行乘客…</p><p>透过这些生活里接触不到的生活碎片，从另一个角度观察这个社会。</p><p>通过拼车，还能尽可能多的探索这座城市的每一个角落，看每一次经过时的变化。</p><p>通过拼车，更深入地了解这座城市和生活在这里的人们，便是最大收获。</p><p>当然了，还有拼车费用这一最直接的收获，几乎填补了自己通勤的交通费。倒是一举多得。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因为疫情原因，我开始驾车上下班，考虑到摊薄停车费和过路费等通勤成本，开启长期稳定的接单模式 —— 基本保持每天上下班接一单的频率。&lt;/p&gt;
&lt;p&gt;这里结合小半年的使用体验，从车主关心的几个方面对三款主流拼车APP——嘀嗒出行、滴滴顺风车、哈啰出行做一个横向比较，供有共享空座想法的车主参考 &lt;em&gt;（滴滴最近上线一个叫花小猪的打车APP，号称打车版的拼多多，说白了也是拼车，不过是在下沉市场规避监管，同时利用熟人网络传播的套路，深圳没有开通，我也没体验过，这里不做讨论）&lt;/em&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="顺风车" scheme="https://blogs.kainy.cn/tags/%E9%A1%BA%E9%A3%8E%E8%BD%A6/"/>
    
      <category term="共享" scheme="https://blogs.kainy.cn/tags/%E5%85%B1%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>分享组件改版小结</title>
    <link href="https://blogs.kainy.cn/2020/04/%E5%88%86%E4%BA%AB%E7%BB%84%E4%BB%B6%E6%94%B9%E7%89%88%E5%B0%8F%E7%BB%93/"/>
    <id>https://blogs.kainy.cn/2020/04/分享组件改版小结/</id>
    <published>2020-04-23T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>分享组件是全站通用组件，用于自定义分享信息、统计推荐关系，是营销团队打包输出 MGM 能力的重要工具。</p><p>分享组件支持集团内外部应用宿主（微信、金管家、银行、证券等app）中，分享链接/海报到不同渠道（微信、微博、行员app、快乐平安等）。</p><h2 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h2><p>改版前后的截图：</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjciqeotaoj20sg0lctc5.jpg" alt="平安银行分享组件改版前后截图"></p><a id="more"></a><h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>改版前分享组件面临的挑战主要有两个：</p><ol><li>UI层面——弹窗面板空间有限，最多仅能展示六个分享图标；</li><li>扩展性——原先组件打包为单一文件，含有所有宿主的逻辑和依赖文件，随着渠道和业务逻辑增加，文件尺寸越来越大，达到性能瓶颈。</li></ol><p>这和之前<a href="https://blogs.kainy.cn/2018/12/%E5%BE%AE%E6%B5%B7%E6%8A%A52018%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%9B%9E%E9%A1%BE/">微海报改版</a>需求背景有共通之处。</p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>针对第一个挑战，我们将页面居中弹窗，改为底部弹层，单行四个，超出则可滚动。</p><p>针对第二个挑战，将单文件拆分为二，做了异步加载。并划分为同步模块、异步模块、渠道模块，实现按需加载。</p><p>盗用罗帅的结构图：</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gjcisjesbzj212k0ijdgm.jpg" alt="分享组件结构图"></p><p>改版前后的文件构成图：</p><p><img src="https://tva3.sinaimg.cn/large/4d6e3e3bgy1gjcisww1xvj20m80gota4.jpg" alt="分享组件文件构成图"></p><p>左边是单一文件，所有依赖和逻辑代码在一个文件中，随着业务逻辑日益复杂和接入的渠道增加，文件尺寸和维护难题渐渐显露。</p><p>右边是拆分后的，其中 loader 模块负责环境判断和UI、事件绑定等初始化操作。<br>可异步执行的逻辑如请求流水号，放到 AsyncMode 类。<br>渠道专有逻辑，继承 AsyncMode 类，和 jssdk 一起，各个渠道分别打包到 asyncMode**.js 文件中。</p><p>文件名中的**，为渠道名称首字母缩写，loader 根据宿主环境判断加载对应的渠道 AsyncMode 文件。比如页面投放到微信，loader 会加载 asyncModeWX.js 文件，投放到金管家app，则加载 asyncModeJGJ.js 文件。这样就实现了不同渠道的逻辑代码隔离，避免互相牵扯，缩减加载的冗余代码。</p><p>工程化方面，组件使用 typescript 编写，构建采用 rollup （TS 的类型系统和 ES6 特性支持，特别是 Class 用在新版组件里，真香！）</p><h2 id="组件工具库-kits"><a href="#组件工具库-kits" class="headerlink" title="组件工具库 kits"></a>组件工具库 kits</h2><p>改版过程中还产生个副产物 <a href="https://github.com/wepm/kits/" target="_blank" rel="external nofollow noopener noreferrer">kits</a> 工具库，其实就是 zepto 的精简版——由于原来的组件依赖 zepto ，这对于越来越多外部页面接入的通用组件而言显然不合时宜，所以需要剥离依赖。有想过改用原生写法，但这样一来基本就成了纯体力活，且后续维护不便。就想着不如把组件所使用到的 zepto 方法抽离出来，后续还可进一步优化，顺便可以归纳一下组件中常用的库工具方法是哪些。结果如下：</p><h3 id="Core"><a href="#Core" class="headerlink" title="Core"></a>Core</h3><ul><li>$()</li><li><del>$.camelCase</del></li><li>$.contains</li><li>$.each</li><li>$.extend</li><li><del>$.fn</del></li><li><del>$.grep</del></li><li><del>$.inArray</del></li><li>$.isArray</li><li>$.isFunction</li><li>$.isNumeric</li><li><del>$.isPlainObject</del></li><li><del>$.isWindow</del></li><li>$.map</li><li><del>$.noop</del></li><li><del>$.parseJSON</del></li><li><del>$.trim</del></li><li>$.type</li><li><del>add</del></li><li>addClass</li><li><del>after</del></li><li>append</li><li>appendTo</li><li>attr</li><li><del>before</del></li><li><del>children</del></li><li><del>clone</del></li><li>closest</li><li><del>concat</del></li><li>contents</li><li>css</li><li><del>data</del></li><li>each</li><li>empty</li><li>eq</li><li><del>filter</del></li><li><del>find</del></li><li><del>first</del></li><li><del>forEach</del></li><li><del>get</del></li><li><del>has</del></li><li>hasClass</li><li><del>height</del></li><li>hide</li><li>html</li><li><del>index</del></li><li><del>indexOf</del></li><li>insertAfter</li><li>insertBefore</li><li><del>is</del></li><li><del>last</del></li><li>map</li><li><del>next</del></li><li><del>not</del></li><li><del>offset</del></li><li><del>offsetParent</del></li><li><del>parent</del></li><li>parents</li><li>pluck</li><li><del>position</del></li><li>prepend</li><li>prependTo</li><li><del>prev</del></li><li><del>prop</del></li><li><del>push</del></li><li><del>ready</del></li><li><del>reduce</del></li><li>remove</li><li>removeAttr</li><li>removeClass</li><li><del>removeProp</del></li><li><del>replaceWith</del></li><li><del>scrollLeft</del></li><li><del>scrollTop</del></li><li>show</li><li><del>siblings</del></li><li><del>size</del></li><li>slice</li><li>text</li><li><del>toggle</del></li><li>toggleClass</li><li><del>unwrap</del></li><li>val</li><li><del>width</del></li><li><del>wrap</del></li><li><del>wrapAll</del></li><li><del>wrapInner</del></li></ul><h3 id="Detect"><a href="#Detect" class="headerlink" title="Detect"></a>Detect</h3><ul><li><del>Detect module</del></li></ul><h3 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h3><ul><li><del>$.Event</del></li><li><del>$.proxy</del></li><li><del>bind</del></li><li><del>delegate</del></li><li><del>die</del></li><li><del>event.isDefaultPrevented</del></li><li><del>event.isImmediatePropagationStopped</del></li><li><del>event.isPropagationStopped</del></li><li><del>live</del></li><li><del>off</del></li><li>on</li><li><del>one</del></li><li><del>trigger</del></li><li><del>triggerHandler</del></li><li><del>unbind</del></li><li><del>undelegate</del></li></ul><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><ul><li>$.ajax</li><li>$.ajaxJSONP</li><li>$.ajaxSettings</li><li><del>$.get</del></li><li><del>$.getJSON</del></li><li>$.param</li><li><del>$.post</del></li><li><del>load</del></li></ul><h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><ul><li><del>serialize</del></li><li><del>serializeArray</del></li><li><del>submit</del><h3 id="Effects"><a href="#Effects" class="headerlink" title="Effects"></a>Effects</h3></li><li><del>$.fx</del></li><li><del>animate</del><h3 id="Touch"><a href="#Touch" class="headerlink" title="Touch"></a>Touch</h3></li><li><del>Touch events</del></li></ul><p>精简后的代码连注释不到800行，如果不要 ajax 相关方法，挪出所在匿名函数即可，可再减少 300 行代码，算是抄了个轮子吧… 不过还蛮适合组件使用的。</p><p>想起七年前在17173参与的第一个组件——登录弹窗组件，直接 <code>&lt;iframe src=&quot;javascript:</code> 后面 <code>document.write</code> style 和 script 标签，实现资源动态、异步加载，极大缩减启动脚本文件尺寸，并实现组件环境和宿主页环境的隔离，还支持到 ie6 版本。方案沿用至今想来是没什么大的问题。竟有些怀念当时满满的草莽气息。</p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gjcitgymj0j21po16qe81.jpg" alt="17173扽股弹窗"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;分享组件是全站通用组件，用于自定义分享信息、统计推荐关系，是营销团队打包输出 MGM 能力的重要工具。&lt;/p&gt;
&lt;p&gt;分享组件支持集团内外部应用宿主（微信、金管家、银行、证券等app）中，分享链接/海报到不同渠道（微信、微博、行员app、快乐平安等）。&lt;/p&gt;
&lt;h2 id=&quot;效果预览&quot;&gt;&lt;a href=&quot;#效果预览&quot; class=&quot;headerlink&quot; title=&quot;效果预览&quot;&gt;&lt;/a&gt;效果预览&lt;/h2&gt;&lt;p&gt;改版前后的截图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjciqeotaoj20sg0lctc5.jpg&quot; alt=&quot;平安银行分享组件改版前后截图&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="分享组件" scheme="https://blogs.kainy.cn/tags/%E5%88%86%E4%BA%AB%E7%BB%84%E4%BB%B6/"/>
    
      <category term="改版" scheme="https://blogs.kainy.cn/tags/%E6%94%B9%E7%89%88/"/>
    
  </entry>
  
  <entry>
    <title>婚礼感谢信</title>
    <link href="https://blogs.kainy.cn/2020/01/200113%E5%A9%9A%E7%A4%BC%E8%AF%B4%E7%82%B9%E5%95%A5/"/>
    <id>https://blogs.kainy.cn/2020/01/200113婚礼说点啥/</id>
    <published>2020-01-12T22:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>此刻，站在台上的我内心无（慌）比（的）激（一）动（比），但还是有几个感谢要讲。</p><p>首先要感谢我和新娘的父母、家人，还有一直关心、支持我们婚姻大事的长辈们，希望今天这份答卷能让你们满意。今后我会肩负起照顾父母和家庭的责任，努力做一个好丈夫好儿子。</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcityiayhg20sg0izx6p.gif" alt="长辈" style="width: 400px;"></p><a id="more"></a><p>还要感谢站在我身边的这位的新娘，她给我生活带来很大的变化——从前的我生活比较单调，平日里除了上下班，就是偶尔参加行业活动，还有一个人的旅行，母亲大人不止一次说我“不食人间烟火”。现在我们周末在家学做饭、走绿道、学艾灸，一起泡脚、敷面膜，高速路上也喝上热汤和自嗨锅… 她让我尝试了很多从前未知的领域，也对未来有了更多的期待。</p><p><img src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gjciuicatzg20sg16onpf.gif" alt="我们" style="width: 400px;"></p><p>感谢今天到场的<a href="https://kainy.cn/pailixiang/album_ia595466900.html?ADTAG=blogs.post" target="_blank" rel="external nofollow noopener noreferrer">老师、同学和朋友们</a>，特别是从异地专程赶来的同学朋友。无法到场的缘由千千万，我虽遗憾却能够理解，而能够到场的理由只有一个，我想我也会更加珍视这一份情谊。坦白讲，这么多同学应邀，我有些意外，发出邀请前纠结了一番 —— 感觉自己在班级的存在感一向不高，而且毕业这么久了。但转念一想，三年以上朝夕相处，又相识十年以上的关系，不知大家的情况如何，至少对于我，除了同窗外并没多少。谢谢大家捧场！</p><p><img src="https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcium8wb4g20sg0ixx6p.gif" alt="同学" style="width: 400px;"></p><p>今后我们大概率定居深圳。小家在深圳，大家在永安和武穴，每年过年希望能和大家多聚聚，平时大家有来深圳也欢迎联系。</p><p><img src="https://tva2.sinaimg.cn/large/4d6e3e3bgy1gjciuqneofg20sg0ixx6p.gif" alt="迎亲" style="width: 400px;"></p><h1 id="一些玩意"><a href="#一些玩意" class="headerlink" title="一些玩意"></a>一些玩意</h1><ul><li>邀请小程序：<img style="width:200px;" class="nofancybox" src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie955wk9j20by0bydi6.jpg" alt="婚礼小程序"></li><li>电子请柬：<img style="width:200px;" class="nofancybox" src="https://tva1.sinaimg.cn/large/4d6e3e3bgy1gbjm11xsorj20by0byabo.jpg" alt="电子请柬"></li><li>婚礼祝福墙：<img style="width:200px;" class="nofancybox" src="https://tvax4.sinaimg.cn/large/4d6e3e3bgy1gbjlvcx4fuj20b20aqjy4.jpg" alt="祝福墙"></li><li>婚礼现场照片直播：<a href="https://kainy.cn/pailixiang/album_ia595466900.html?ADTAG=blogs.post" target="_blank" rel="external nofollow noopener noreferrer"><br><img style="width:200px;" class="nofancybox" src="https://tva4.sinaimg.cn/large/4d6e3e3bgy1gbjm40ecv9j20a40a4wel.jpg" alt="⛪️ 郭郭和艳方的婚礼⛪️"><br></a></li></ul><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2010/09/充实自己与把妹精神/">充实自己与把妹精神</a></li><li><a href="https://blogs.kainy.cn/2010/01/春节回家给家人带什么最贴心？【转】/">春节回家给家人带什么最贴心？【转】</a></li><li><a href="https://blogs.kainy.cn/2009/12/说说这几天的事/">说说这几天的事</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;此刻，站在台上的我内心无（慌）比（的）激（一）动（比），但还是有几个感谢要讲。&lt;/p&gt;
&lt;p&gt;首先要感谢我和新娘的父母、家人，还有一直关心、支持我们婚姻大事的长辈们，希望今天这份答卷能让你们满意。今后我会肩负起照顾父母和家庭的责任，努力做一个好丈夫好儿子。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://tvax2.sinaimg.cn/large/4d6e3e3bgy1gjcityiayhg20sg0izx6p.gif&quot; alt=&quot;长辈&quot; style=&quot;width: 400px;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="生活" scheme="https://blogs.kainy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="婚礼" scheme="https://blogs.kainy.cn/tags/%E5%A9%9A%E7%A4%BC/"/>
    
      <category term="父母" scheme="https://blogs.kainy.cn/tags/%E7%88%B6%E6%AF%8D/"/>
    
      <category term="同学" scheme="https://blogs.kainy.cn/tags/%E5%90%8C%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>婚礼小程序</title>
    <link href="https://blogs.kainy.cn/2020/01/200102%E5%A9%9A%E7%A4%BC%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    <id>https://blogs.kainy.cn/2020/01/200102婚礼小程序/</id>
    <published>2020-01-01T22:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="小程序名称"><a href="#小程序名称" class="headerlink" title="小程序名称"></a>小程序名称</h2><p>欢迎参加郭郭和艳方的婚礼</p><h2 id="小程序描述"><a href="#小程序描述" class="headerlink" title="小程序描述"></a>小程序描述</h2><p>这是一个婚礼邀约小程序，主要功能有：</p><a id="more"></a><ul><li>1、婚纱照展示和分享；</li><li>2、抵达现场的路线规划；</li><li>3、消息订阅功能——订阅婚礼和相册动态；</li><li>4、照片<a href="/2019/11/191119裂变营销海报小程序插件/">海报生成</a>和保存；</li><li>5、<a href="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1gaazlnzuicj20w416tak0.jpg" target="_blank" rel="external nofollow noopener noreferrer">祝福墙</a>；</li><li>6、联系我们。</li></ul><h2 id="由来"><a href="#由来" class="headerlink" title="由来"></a>由来</h2><p>制作小程序的初心很简单——两个人辛辛苦苦，费钱又费力的拍了四组婚纱照，总不能发个朋友圈就算了。刚好微信小程序很适合相片的展示和传播，而自己又具备开发能力。只要微信不倒，小程序就存在着，很有纪念意义。于是花了些功夫制作了这样一个相册，后面又陆续增加了酒店路线规划（地图导航）和祝福墙、海报等功能。</p><h2 id="扫小程序码体验"><a href="#扫小程序码体验" class="headerlink" title="扫小程序码体验"></a>扫小程序码体验</h2><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie955wk9j20by0bydi6.jpg" alt="小程序码" style="width: 200px;" data-x="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaie94yh79j209n09n3yh.jpg"></p><h2 id="小程序截图"><a href="#小程序截图" class="headerlink" title="小程序截图"></a>小程序截图</h2><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieb9t5abj20jg15oqe6.jpg" alt="小程序截图-目录" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaiebkb41yj20j815chdt.jpg" alt="小程序截图-相册" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieba37iej20je15k4hs.jpg" alt="小程序截图-海报" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaieb7cpv2j20jg15me0u.jpg" alt="小程序截图-路线规划" style="width: 200px;"></p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1gaiebh00qkj20ji15ke81.jpg" alt="小程序截图-尾页" style="width: 200px;"></p><h2 id="写给恰在准备婚礼的你"><a href="#写给恰在准备婚礼的你" class="headerlink" title="写给恰在准备婚礼的你"></a>写给恰在准备婚礼的你</h2><p>如果你也对这个婚礼小程序感兴趣，可以联系我提供技术支持（适当收费），只要简单申请一个小程序并提供相册素材，就可以拥有一个功能完备的小程序。</p><p>往后在微信里搜索你和另一半的昵称（如：“ 郭郭和艳方 ”），就可以找到你们在微信世界里的小窝。想想多年后看到这些珍贵影像，和祝福墙上的好友头像，会是什么感受呢？毕竟对于大部分人而言，婚礼经历一生中也许就这一次。每对恋人都值得拥有一个专属于自己爱情的小程序。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200113婚礼说点啥/">婚礼感谢信</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;小程序名称&quot;&gt;&lt;a href=&quot;#小程序名称&quot; class=&quot;headerlink&quot; title=&quot;小程序名称&quot;&gt;&lt;/a&gt;小程序名称&lt;/h2&gt;&lt;p&gt;欢迎参加郭郭和艳方的婚礼&lt;/p&gt;
&lt;h2 id=&quot;小程序描述&quot;&gt;&lt;a href=&quot;#小程序描述&quot; class=&quot;headerlink&quot; title=&quot;小程序描述&quot;&gt;&lt;/a&gt;小程序描述&lt;/h2&gt;&lt;p&gt;这是一个婚礼邀约小程序，主要功能有：&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="生活" scheme="https://blogs.kainy.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="婚礼" scheme="https://blogs.kainy.cn/tags/%E5%A9%9A%E7%A4%BC/"/>
    
      <category term="作品" scheme="https://blogs.kainy.cn/tags/%E4%BD%9C%E5%93%81/"/>
    
  </entry>
  
  <entry>
    <title>坦诚</title>
    <link href="https://blogs.kainy.cn/2019/12/191226%E5%9D%A6%E8%AF%9A/"/>
    <id>https://blogs.kainy.cn/2019/12/191226坦诚/</id>
    <published>2019-12-25T22:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>人与人之间，无论关系亲疏，由于自身经历和对事理解上的偏差，难免会有误解。</p><p>若对对方对行为有所困惑，及时提出并解决难道不是更好的解决之道？</p><p>——有些困惑或许难于启齿，需要冒着被误解的风险指出。但经解释意识到误解所在，达成共识并全力支持。想要长期经营好人与人的关系，难道不是应该这样，而去粗暴的归因到自己固有观点？</p><p>那样处理固然简单，却非但无益于分歧解决，反而使得既成观念被加强和“证实”，从而形成偏见。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;人与人之间，无论关系亲疏，由于自身经历和对事理解上的偏差，难免会有误解。&lt;/p&gt;
&lt;p&gt;若对对方对行为有所困惑，及时提出并解决难道不是更好的解决之道？&lt;/p&gt;
&lt;p&gt;——有些困惑或许难于启齿，需要冒着被误解的风险指出。但经解释意识到误解所在，达成共识并全力支持。想要长期经营
      
    
    </summary>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="相处" scheme="https://blogs.kainy.cn/tags/%E7%9B%B8%E5%A4%84/"/>
    
  </entry>
  
  <entry>
    <title>快站项目开发小结</title>
    <link href="https://blogs.kainy.cn/2019/12/%E5%BF%AB%E7%AB%99/"/>
    <id>https://blogs.kainy.cn/2019/12/快站/</id>
    <published>2019-12-02T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>快站是营销团队赋能业务团队快速搭建页面的内部工具。业务无需掌握技术，通过简单拖动和信息填写即可完成网页制作。</p><p>功能强大而又兼顾灵活性的页面制作平台，快站有许多精妙的设计和约定。这也给开发入门带来了一定挑战，如果不能从全局理解它的运作过程，就容易陷入盲人摸象的境地。这里根据自己开发两个组件的经历和理解做简单梳理，如有不对还请斧正。</p><p>从整体结构看，项目主要有两部分组成：admin和freemarker——admin也叫编辑器，面向页面制作者（生产者，后台，对内），用来在PC端拼出页面；freemarker面向页面的访问者（消费者，前台，对外），一般在客户端打开。开发一个组件，一般要同时开发两个部分。</p><p>从技术选型看，admin部分使用vue技术栈，freemarker部分使用freemarker模板引擎和vue。<br><a id="more"></a></p><p>开发一个组件，最重要了解的是编辑器（editor）部分。也是这里着重介绍的部分。组件分为基础组件、业务组件和组合组件。灵活度依次递减、复杂度递增。</p><h2 id="admin部分"><a href="#admin部分" class="headerlink" title="admin部分"></a>admin部分</h2><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g549f6zbmrj20vl0qddja.jpg" alt="的界面结构截图" style="width:50%;"></p><p>从左侧组件面板选择组件拖入中间的编辑面板，就在页面中增加一个组件。点击选中组件，右边的属性面板就会出现该组件可以设置的所有属性。</p><h3 id="组件（widget）"><a href="#组件（widget）" class="headerlink" title="组件（widget）"></a>组件（widget）</h3><p>每个组件对应 \admin\src\pages\editor\widgets 下的一个目录，里面包含组件的所有代码，是组件开发的主战场。快站已经帮我们实现了大量共用功能，把特定部分抽离出来，独立成组件的形式，这样通过简单的配置和业务逻辑代码编写，就可以完成对组件功能的描述。但这同时也是大量约定和隐喻的开始… </p><p>最常见的组件由init.js、index.vue和validate.js文件组成，</p><ul><li>init.js 描述组件有哪些属性字段、和默认值（右侧属性面板）</li><li>index.vue 描述组件的结构，可视化效果（中间的编辑面板）</li><li>validate.js 定义格式校验规则</li></ul><p>admin中实时预览的实现，是通过右边属性面板调节config中各属性字段的值，驱动编辑面板的视图改变，可见init.js是很重要的一环，它连接了数据和视图。</p><p>本想把init.js配置文件的字段意义整理成文档，但目前数据结构变动还比较大，所以只梳理关键字段：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  name: <span class="string">'base-qrcode'</span>, <span class="comment">// 组件英文名</span></span><br><span class="line">  label: <span class="string">'二维码'</span>, <span class="comment">// 组件中文名</span></span><br><span class="line">  _currentTab: <span class="string">'样式'</span>, <span class="comment">// 属性面板一级tab的默认选中项</span></span><br><span class="line">  config: &#123;</span><br><span class="line">    ruleId,</span><br><span class="line">    qrcode: &#123; <span class="comment">// 属性名称</span></span><br><span class="line">      tab: <span class="string">'样式'</span>, <span class="comment">// 属性面板二级tab的默认选中项</span></span><br><span class="line">      group: <span class="string">'是否启用动态二维码'</span>, <span class="comment">// tab分组</span></span><br><span class="line">      type: <span class="string">'qrcode'</span>,  <span class="comment">// * 组件类型</span></span><br><span class="line">      value: &#123; <span class="comment">// 属性值</span></span><br><span class="line">        dynamic: <span class="string">'0'</span>,</span><br><span class="line">        link: <span class="string">''</span>,</span><br><span class="line">        linkAPI: <span class="string">''</span>,</span><br><span class="line">        useLocationHref: <span class="string">'1'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>除了暴露默认的配置对象外，init.js 还暴露<code>dependence</code>用于描述组件依赖，和<code>rules</code>用于描述简单的（非空、格式校验）校验规则，更为复杂的（业务逻辑相关）自定义校验，则可以在validate.js中暴露的<code>validator</code>方法来定义。</p><h3 id="属性单元（type）"><a href="#属性单元（type）" class="headerlink" title="属性单元（type）"></a>属性单元（type）</h3><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g549giux9aj20s30oygol.jpg" alt="快站types" style="width:50%;"></p><p>type是设置属性值的最小单元，比如颜色选择器、数值选择器，如果这些基础的type无法满足要求，比如有联动的属性，也可以自定义type。文件目录在 admin\src\pages\editor\types </p><p>从某种意义上可以将属性控制单元（types）视作controler，组件目录内的init.js视作model、index.vue视作view。</p><p>使用admin通过组件拼装好页面后，将各个组件的config放入数组，保存数据库中，后续可以返回给admin继续编辑，或者供freemarker渲染页面。</p><h2 id="freemarker部分"><a href="#freemarker部分" class="headerlink" title="freemarker部分"></a>freemarker部分</h2><p>Freemarker是一个java模板引擎，快站用它来实现服务端页面渲染。更合适的方案可能是VUE的SSR模块，但由于目前服务端还没使用NodeJS，这部分工作还是由后端完成。</p><p>这部分的约定主要是*.pure.(html|js|css)的文件，是不含freemarker语法，可以压缩的，所以出于性能优化和语法高亮考虑，应该考虑尽量把代码写到pure文件中。</p><h2 id="案例展示"><a href="#案例展示" class="headerlink" title="案例展示"></a>案例展示</h2><p>截止目前，快站已经输出许多活动页面，感兴趣可以通过 <a href="https://b.pingan.com.cn/mkt/youhui/1905/rmhd/index.shtml" target="_blank" rel="external nofollow noopener noreferrer">热门活动查看</a> ，其中URL以 <a href="https://b.pingan.com.cn/kuaizhan" rel="external nofollow noopener noreferrer" target="_blank">https://b.pingan.com.cn/kuaizhan</a> 开头的页面，由快站制作。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2013/06/通行证项目前端开发小结/">通行证项目前端开发小结</a></li><li><a href="https://blogs.kainy.cn/2013/04/拾贝电台开源了/">拾贝电台开源了</a></li><li><a href="https://blogs.kainy.cn/2013/03/愚人节专题项目前端开发小结/">愚人节专题项目前端开发小结</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;快站是营销团队赋能业务团队快速搭建页面的内部工具。业务无需掌握技术，通过简单拖动和信息填写即可完成网页制作。&lt;/p&gt;
&lt;p&gt;功能强大而又兼顾灵活性的页面制作平台，快站有许多精妙的设计和约定。这也给开发入门带来了一定挑战，如果不能从全局理解它的运作过程，就容易陷入盲人摸象的境地。这里根据自己开发两个组件的经历和理解做简单梳理，如有不对还请斧正。&lt;/p&gt;
&lt;p&gt;从整体结构看，项目主要有两部分组成：admin和freemarker——admin也叫编辑器，面向页面制作者（生产者，后台，对内），用来在PC端拼出页面；freemarker面向页面的访问者（消费者，前台，对外），一般在客户端打开。开发一个组件，一般要同时开发两个部分。&lt;/p&gt;
&lt;p&gt;从技术选型看，admin部分使用vue技术栈，freemarker部分使用freemarker模板引擎和vue。&lt;br&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="快站" scheme="https://blogs.kainy.cn/tags/%E5%BF%AB%E7%AB%99/"/>
    
      <category term="项目" scheme="https://blogs.kainy.cn/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>合成海报的小程序插件</title>
    <link href="https://blogs.kainy.cn/2019/11/191119%E8%A3%82%E5%8F%98%E8%90%A5%E9%94%80%E6%B5%B7%E6%8A%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/"/>
    <id>https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/</id>
    <published>2019-11-19T11:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p><strong>票圈海报</strong> 是一个用于生成海报的小程序插件，通过灵活简单的配置就可以生成精美的分享海报，适用于小程序的朋友圈分享等营销裂变场景。</p><p>可以绘制文字、图片、线条、色块到海报画布，支持设置宽高、透明度、层级甚至圆角等属性。</p><a id="more"></a><h1 id="生成效果"><a href="#生成效果" class="headerlink" title="生成效果"></a>生成效果</h1><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bly1g93djbm341j20bi0m0dr4.jpg" alt="预览截图"></p><h1 id="快速预览"><a href="#快速预览" class="headerlink" title="快速预览"></a>快速预览</h1><p>点击 <a href="https://developers.weixin.qq.com/s/AqeYCYmY74cJ" rel="external nofollow noopener noreferrer" target="_blank">导入代码片段</a> 即可在微信开发者工具中运行和预览。需注意，由于引用插件，需要先申请接入权限，快速预览可填写 AppID：<code>wx8a6f7c4b3d410554</code>，确认适合自己后再发起插件接入申请。</p><h1 id="接入指引"><a href="#接入指引" class="headerlink" title="接入指引"></a>接入指引</h1><h2 id="1、插件申请接入："><a href="#1、插件申请接入：" class="headerlink" title="1、插件申请接入："></a>1、插件申请接入：</h2><p>在微信公众平台中， “微信小程序官方后台-设置-第三方服务-插件管理” 里点击 “添加插件”，搜索 “<strong>票圈海报</strong>” ，申请通过后，小程序开发者可在小程序内使用该插件。</p><h2 id="2、引入插件包："><a href="#2、引入插件包：" class="headerlink" title="2、引入插件包："></a>2、引入插件包：</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: &#123;</span><br><span class="line">    <span class="attr">"poster"</span>: &#123;</span><br><span class="line">      <span class="attr">"version"</span>: <span class="string">"1.0.4"</span>,</span><br><span class="line">      <span class="attr">"provider"</span>: <span class="string">"wx8a6f7c4b3d410554"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3、使用插件："><a href="#3、使用插件：" class="headerlink" title="3、使用插件："></a>3、使用插件：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">poster</span> <span class="attr">id</span>=<span class="string">"poster"</span> <span class="attr">config</span>=<span class="string">"&#123;&#123;posterConfig&#125;&#125;"</span> <span class="attr">bind:success</span>=<span class="string">"onPosterSuccess"</span> <span class="attr">bind:fail</span>=<span class="string">"onPosterFail"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击生成海报<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">poster</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="使用注意事项"><a href="#使用注意事项" class="headerlink" title="使用注意事项"></a>使用注意事项</h1><ol><li>图片的域名<strong>务必</strong>添加到downloadFile合法域名中（开发设置-服务器域名-downloadFile合法域名）</li></ol><h1 id="组件参数解释"><a href="#组件参数解释" class="headerlink" title="组件参数解释"></a>组件参数解释</h1><h2 id="config字段"><a href="#config字段" class="headerlink" title="config字段"></a>config字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>画布宽度</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td>画布高度</td></tr><tr><td>backgroundColor</td><td>String</td><td>否</td><td>画布颜色</td></tr><tr><td>debug</td><td>Boolean</td><td>否</td><td>false隐藏canvas，true显示canvas，默认false</td></tr><tr><td>pixelRatio</td><td>Number</td><td>否</td><td>1为一般，值越大越清晰</td></tr><tr><td>preload</td><td>Boolean</td><td>否</td><td>true：图片资源预下载 默认false</td></tr><tr><td>hide-loading</td><td>Boolean</td><td>否</td><td>true：隐藏loading 默认false</td></tr><tr><td>blocks</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>texts</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>images</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr><tr><td>lines</td><td>Object Array（对象数组）</td><td>否</td><td>看下文</td></tr></tbody></table><h2 id="blocks字段"><a href="#blocks字段" class="headerlink" title="blocks字段"></a>blocks字段</h2><table><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>块的坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>块的坐标</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>否</td><td>如果内部有文字，由文字宽度和内边距决定</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td></td></tr><tr><td>paddingLeft</td><td>Number(单位:rpx)</td><td>否</td><td>内左边距</td></tr><tr><td>paddingRight</td><td>Number(单位:rpx)</td><td>否</td><td>内右边距</td></tr><tr><td>borderWidth</td><td>Number(单位:rpx)</td><td>否</td><td>边框宽度</td></tr><tr><td>borderColor</td><td>String</td><td>否</td><td>边框颜色</td></tr><tr><td>backgroundColor</td><td>String</td><td>否</td><td>背景颜色</td></tr><tr><td>borderRadius</td><td>Number(单位:rpx)</td><td>否</td><td>圆角</td></tr><tr><td>text</td><td>Object</td><td>否</td><td>块里面可以填充文字，参考texts字段解释</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h2 id="texts字段"><a href="#texts字段" class="headerlink" title="texts字段"></a>texts字段</h2><table><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>坐标</td></tr><tr><td>text</td><td>String｜Object</td><td>是</td><td>当Object类型时，参数为text字段的参数，marginLeft、marginRight这两个字段可用（示例请看下文）</td></tr><tr><td>fontSize</td><td>Number(单位:rpx)</td><td>是</td><td>文字大小</td></tr><tr><td>color</td><td>String</td><td>否</td><td>颜色</td></tr><tr><td>opacity</td><td>Int</td><td>否</td><td>1为不透明，0为透明</td></tr><tr><td>lineHeight</td><td>Number(单位:rpx)</td><td>否</td><td>行高</td></tr><tr><td>lineNum</td><td>Int</td><td>否</td><td>根据宽度换行，最多的行数</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>否</td><td>没有指定为画布宽度</td></tr><tr><td>marginLeft</td><td>Number(单位:rpx)</td><td>否</td><td>当text字段为Object可以使用，用来控制多行文字间距</td></tr><tr><td>marginRight</td><td>Number(单位:rpx)</td><td>否</td><td>当text字段为Object可以使用，用来控制多行文字间距</td></tr><tr><td>textDecoration</td><td>String</td><td>否</td><td>目前只支持 line-through（贯穿线），默认为none</td></tr><tr><td>baseLine</td><td>String</td><td>否</td><td>top｜ middle｜bottom基线对齐方式</td></tr><tr><td>textAlign</td><td>String</td><td>否</td><td>left｜center｜right对齐方式</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr><tr><td>fontFamily</td><td>String</td><td>否</td><td>小程序默认字体为’sans-serif’, 请输入小程序支持的字体，例如：’STSong’</td></tr><tr><td>fontWeight</td><td>String</td><td>否</td><td>‘bold’加粗字体，目前小程序不支持 100 - 900 加粗</td></tr><tr><td>fontStyle</td><td>String</td><td>否</td><td>‘italic’倾斜字体</td></tr></tbody></table><h2 id="images字段"><a href="#images字段" class="headerlink" title="images字段"></a>images字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>x</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>y</td><td>Number(单位:rpx)</td><td>是</td><td>右上角的坐标</td></tr><tr><td>url</td><td>String</td><td>是</td><td>图片url（<strong>需要添加到下载白名单域名中</strong>）也支持本地图片</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>宽度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>height</td><td>Number(单位:rpx)</td><td>是</td><td>高度（<strong>会根据图片的尺寸同比例缩放</strong>）</td></tr><tr><td>borderRadius</td><td>Number(单位:rpx)</td><td>否</td><td>圆角，跟css一样</td></tr><tr><td>borderWidth</td><td>Number(单位:rpx)</td><td>否</td><td>边框宽度</td></tr><tr><td>borderColor</td><td>String</td><td>否</td><td>边框颜色</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h2 id="lines字段"><a href="#lines字段" class="headerlink" title="lines字段"></a>lines字段</h2><table><thead><tr><th>字段</th><th>类型</th><th>必填</th><th>描述</th></tr></thead><tbody><tr><td>startX</td><td>Number(单位:rpx)</td><td>是</td><td>起始坐标</td></tr><tr><td>startY</td><td>Number(单位:rpx)</td><td>是</td><td>起始坐标</td></tr><tr><td>endX</td><td>Number(单位:rpx)</td><td>是</td><td>终结坐标</td></tr><tr><td>endY</td><td>Number(单位:rpx)</td><td>是</td><td>终结坐标</td></tr><tr><td>width</td><td>Number(单位:rpx)</td><td>是</td><td>线的宽度</td></tr><tr><td>color</td><td>String</td><td>否</td><td>线的颜色</td></tr><tr><td>zIndex</td><td>Int</td><td>否</td><td>层级，越大越高</td></tr></tbody></table><h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="success"><a href="#success" class="headerlink" title="success"></a>success</h2><p>返回生成海报图片的本地url，一般做法是使用<code>wx.previewImage</code>预览海报，如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">onPosterSuccess(e) &#123;</span><br><span class="line"><span class="keyword">const</span> &#123; detail &#125; = e;</span><br><span class="line">wx.previewImage(&#123;</span><br><span class="line">        current: detail,</span><br><span class="line">        urls: [detail]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="fail"><a href="#fail" class="headerlink" title="fail"></a>fail</h2><p>返回错误信息</p><h1 id="异步生成海报-（从基础库版本-2-2-3-开始提供支持）"><a href="#异步生成海报-（从基础库版本-2-2-3-开始提供支持）" class="headerlink" title="异步生成海报 （从基础库版本 2.2.3 开始提供支持）"></a>异步生成海报 （从基础库版本 2.2.3 开始提供支持）</h1><p>有些场景可能需要发起ajax请求后才能获取生成海报的数据，这里提供了异步生成海报的方式。</p><p>只需要对组件的<code>onCreate</code>方法，如下调用就行了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 异步生成海报</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    onCreatePoster() &#123;</span><br><span class="line">    <span class="comment">// setData配置数据</span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123; <span class="attr">posterConfig</span>: &#123;...&#125; &#125;, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.selectComponent(<span class="string">'#poster'</span>).onCreate(<span class="literal">true</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="问题反馈"><a href="#问题反馈" class="headerlink" title="问题反馈"></a>问题反馈</h1><p>有什么问题可以添加微信 <code>wesiri</code>，发消息“小程序”进讨论群。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li><li><a href="https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/">通过小程序卡片打开APP获取参数的方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;票圈海报&lt;/strong&gt; 是一个用于生成海报的小程序插件，通过灵活简单的配置就可以生成精美的分享海报，适用于小程序的朋友圈分享等营销裂变场景。&lt;/p&gt;
&lt;p&gt;可以绘制文字、图片、线条、色块到海报画布，支持设置宽高、透明度、层级甚至圆角等属性。&lt;/p&gt;
    
    </summary>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
      <category term="JavaScript" scheme="https://blogs.kainy.cn/categories/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/JavaScript/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="海报" scheme="https://blogs.kainy.cn/tags/%E6%B5%B7%E6%8A%A5/"/>
    
      <category term="营销" scheme="https://blogs.kainy.cn/tags/%E8%90%A5%E9%94%80/"/>
    
  </entry>
  
  <entry>
    <title>提升电桩使用率的思考和未来路面交通的展望</title>
    <link href="https://blogs.kainy.cn/2019/08/190820%E6%8F%90%E5%8D%87%E7%94%B5%E6%A1%A9%E4%BD%BF%E7%94%A8%E7%8E%87%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%9C%AA%E6%9D%A5%E8%B7%AF%E9%9D%A2%E4%BA%A4%E9%80%9A%E7%9A%84%E5%B1%95%E6%9C%9B/"/>
    <id>https://blogs.kainy.cn/2019/08/190820提升电桩使用率的思考和未来路面交通的展望/</id>
    <published>2019-08-19T23:03:13.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>针对<a href="/2019/06/190627AionS/#头一回上高速（20190817）">入手AionS后遇到的充电难问题</a>，个人觉得可以从两方面入手解决：</p><h3 id="油车占充电车位"><a href="#油车占充电车位" class="headerlink" title="油车占充电车位"></a>油车占充电车位</h3><p>这并不是一个新问题，可以通过车牌号，向物业或者交管局反应，让他们通知车主挪车。</p><h3 id="充满电的车占位"><a href="#充满电的车占位" class="headerlink" title="充满电的车占位"></a>充满电的车占位</h3><p>短期内可以通过调整计费方式解决。目前的计费方式是电费＋服务费，充电停止则两项都停止计费。只需稍作修改：拔枪后才停止服务费计费。车主为避免高额服务费，就会自觉地在充电完成后拔枪，枪拔了占车位也没意义，自然车位也腾了出来。</p><a id="more"></a><p>根本上解决充电桩使用效率问题，还是要从充电流程的标准化入手。比如结合立体停车场——车场有许多类似集装箱的容器，容器作为连接车与车场的中介。电车车主把车停入容器后，接上充电枪后离场。容器进入充电列队，按顺序放入带充电功能的卡槽，充电完成后移出，放到普通卡槽，普通卡槽停放的是普通油车和无需充电的电动车。</p><p>方案一只需要软件升级，实施成本低，但是面临停车场负荷的瓶颈——如果停车场车位的建设跟不上停车数量增长，这个方案采用的加价手段也就失效了，比如充完电的时候，停车场停满了，车主拔枪但找不到别的车位又不打算立即离开这附近，就可能选择继续占用充电位。这种情况在目前的闹市区停车场已经十分常见。</p><p>方案二虽然实施成本高，却有更高的扩展性。只要“未来汽车保有量会增加，且电动车比例不会下降”的假设成立，就能够提高停车、充电成本和节约重复建设成本，所以我个人觉得这是长期来看更合理的方案。</p><h3 id="未来展望"><a href="#未来展望" class="headerlink" title="未来展望"></a>未来展望</h3><p>感觉未来不会存在私家车的概念，所有机车实现单车自动驾驶后，由一个交通系统统一调度。乘客只需付费获得使用权即可。</p><p>定价的差异，体现在车型和行驶优先权的不同——车型差异好理解，配置越好、越舒适的车型付费越高；行驶优先权体现在比如，并道时候的“拉链式“交替通行，如果优先权一样，就遵循”右边过一辆车，左边过一辆车，然后右边再过一辆车，反反复复，有序行进“的规则，若遇到优先级高的，则优先级高的按一定概率，先通行。</p><p>无产权取代私有产权，可以降低车辆的持有成本，提高使用率。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/06/190627AionS/">广汽AionS笔记（持续更新）</a></li><li><a href="https://blogs.kainy.cn/2010/12/社会化交通导航–Waze_初体验/">社会化交通导航–Waze 初体验</a></li><li><a href="https://blogs.kainy.cn/2010/02/司机必看：46条保命驾驶技巧/">司机必看：46条保命驾驶技巧</a></li><li><a href="https://blogs.kainy.cn/2010/01/驾照考试（科目二）经验总结/">驾照考试（科目二）经验总结</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;针对&lt;a href=&quot;/2019/06/190627AionS/#头一回上高速（20190817）&quot;&gt;入手AionS后遇到的充电难问题&lt;/a&gt;，个人觉得可以从两方面入手解决：&lt;/p&gt;
&lt;h3 id=&quot;油车占充电车位&quot;&gt;&lt;a href=&quot;#油车占充电车位&quot; class=&quot;headerlink&quot; title=&quot;油车占充电车位&quot;&gt;&lt;/a&gt;油车占充电车位&lt;/h3&gt;&lt;p&gt;这并不是一个新问题，可以通过车牌号，向物业或者交管局反应，让他们通知车主挪车。&lt;/p&gt;
&lt;h3 id=&quot;充满电的车占位&quot;&gt;&lt;a href=&quot;#充满电的车占位&quot; class=&quot;headerlink&quot; title=&quot;充满电的车占位&quot;&gt;&lt;/a&gt;充满电的车占位&lt;/h3&gt;&lt;p&gt;短期内可以通过调整计费方式解决。目前的计费方式是电费＋服务费，充电停止则两项都停止计费。只需稍作修改：拔枪后才停止服务费计费。车主为避免高额服务费，就会自觉地在充电完成后拔枪，枪拔了占车位也没意义，自然车位也腾了出来。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
    
      <category term="电桩" scheme="https://blogs.kainy.cn/tags/%E7%94%B5%E6%A1%A9/"/>
    
      <category term="交通" scheme="https://blogs.kainy.cn/tags/%E4%BA%A4%E9%80%9A/"/>
    
      <category term="汽车" scheme="https://blogs.kainy.cn/tags/%E6%B1%BD%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>不要和女人吵架[认真脸]</title>
    <link href="https://blogs.kainy.cn/2019/08/190809%E4%B8%8D%E8%A6%81%E5%92%8C%E5%A5%B3%E4%BA%BA%E5%90%B5%E6%9E%B6%5B%E8%AE%A4%E7%9C%9F%E8%84%B8%5D/"/>
    <id>https://blogs.kainy.cn/2019/08/190809不要和女人吵架[认真脸]/</id>
    <published>2019-08-09T10:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>两个人相处，难免有摩擦。依个人经验：和女人吵架是很不明智的，原因有俩：</p><h2 id="理亏"><a href="#理亏" class="headerlink" title="理亏"></a>理亏</h2><p>我们知道吵赢一场架，最基本的武器就是论据，但——</p><p>任何理由，当你用它提出诉求时，无论论据多么逻辑严谨、多么政治正确，女人们都可以用一句 “你是男人么？就不能大度一点？” 回得你思考人生。</p><p>而反过来，当你有一丝不顺遂她心意的举动，则会有一百句类似“对我不上心”、”不细心“、”不体贴“在前面侯着你。理由就是“这还需要理由？”</p><a id="more"></a><p>不信我们试着拿公理如：常识（<code>未婚先孕是不道德的</code>）、好习惯（<code>早睡早起</code>/<code>坚持锻炼</code>/<code>不滥情</code>/<code>睡前互道晚安</code>）、名言警句（<code>不以结婚为目的的恋爱都是耍流氓</code>）来举例。如果男人要求女人，就是“不够大度”；反过来，当男人偶尔放飞自我，有违公理，那是不是就“不细心/不体贴/不负责任/直男癌/渣男”了？</p><p>所以无论从理论上，还是先烈们血的教训都告诉男同胞们：吵架的时候千万别找理，因为操起的家伙注定是刀刃朝你而刀柄向着女人。</p><h2 id="不讨好"><a href="#不讨好" class="headerlink" title="不讨好"></a>不讨好</h2><p>回想一下吵架原由，如果原因在自己，自知理亏，那么基于上述（原因一），就应该知道决无可能通过吵架实现翻盘。</p><p>而据我观察，即便是以女人为导火索的吵架，往往结局也是共吞苦果。拿自己的经历来举例，一次因为被女票删了聊天记录而发火，大吵一架。最终，作为惩罚和防范措施，我把手机密码改了，结果女票立马也改了自己手机的密码——在我并无过错的情况下😅，后面几经不便，女票提出互相改回老密码，我开玩笑地提出“也好，那就罚你先我三天设回密码吧”，结果被秒拒…… 所以说，即便自己无过，要想通过吵架从女人那讨得哪怕一点点好处，都是木有可能滴。。</p><p>男女之间但吵架，无论是谁之过，男人能讨得最大的好就是共吞苦果。如果你不想不讨好地承担苦果，也就只能：</p><ul><li><p>在自己错的情况下好好讨好对方</p></li><li><p>对方错的时候“打掉牙齿和血吞”</p></li></ul><h2 id="“那么男人究竟该如何向女人表达合理诉求呢？”"><a href="#“那么男人究竟该如何向女人表达合理诉求呢？”" class="headerlink" title="“那么男人究竟该如何向女人表达合理诉求呢？”"></a>“那么男人究竟该如何向女人表达合理诉求呢？”</h2><p>Good question，但俺也还没想明白…</p><p>这里提供的是“不要吃屎”的建议，至于要吃什么，要怎么和女人表达诉求争取权益，还得广大男同胞一起摸索啦（欢迎在留言处讨论）。我暂时也还没有多少自认为好的建议。</p><p>反正据我的观察和实践，每次和女友吵架，无论起因过程结局如何，最后总是自己吃亏。所以结论就是无论无条件避免和女人吵架。</p><p>当然，前提是你在意的女人，如果不在意，或许还有翻盘机会哟～</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/07/男孩女孩的那点心思/">男孩女孩的那点心思</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;两个人相处，难免有摩擦。依个人经验：和女人吵架是很不明智的，原因有俩：&lt;/p&gt;
&lt;h2 id=&quot;理亏&quot;&gt;&lt;a href=&quot;#理亏&quot; class=&quot;headerlink&quot; title=&quot;理亏&quot;&gt;&lt;/a&gt;理亏&lt;/h2&gt;&lt;p&gt;我们知道吵赢一场架，最基本的武器就是论据，但——&lt;/p&gt;
&lt;p&gt;任何理由，当你用它提出诉求时，无论论据多么逻辑严谨、多么政治正确，女人们都可以用一句 “你是男人么？就不能大度一点？” 回得你思考人生。&lt;/p&gt;
&lt;p&gt;而反过来，当你有一丝不顺遂她心意的举动，则会有一百句类似“对我不上心”、”不细心“、”不体贴“在前面侯着你。理由就是“这还需要理由？”&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="吵架" scheme="https://blogs.kainy.cn/tags/%E5%90%B5%E6%9E%B6/"/>
    
      <category term="女人" scheme="https://blogs.kainy.cn/tags/%E5%A5%B3%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>提车风波</title>
    <link href="https://blogs.kainy.cn/2019/08/190801%E6%8F%90%E8%BD%A6%E9%A3%8E%E6%B3%A2/"/>
    <id>https://blogs.kainy.cn/2019/08/190801提车风波/</id>
    <published>2019-08-01T11:03:13.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2019/06/190627AionS/#通知提车了（20190718）" target>AionS提车</a>后，就要注册上牌了。在车管所服务站的指引下，来到距离最近的罗湖国税局，办理购置税。</p><p>到二楼车购税窗口咨询，得知需要现场取号，结果取号的人说今天的号发完了… 这才不到三点钟时间。而且三个窗口也就一个有人在办业务。这号都放到哪去了呢？对方说“不清楚，找服务台”。最后找到“科长”，带到二楼，了解到就是那一个在办理业务的人（车行），占用了一百多个号😱，感情这三个窗口里的工作人员都围着“一天几百万”的哥们转呐。面对我提出放号方式合理性质疑，“科长”也只能建议明天早些来。问题再次升级后，才得以解决。</p><a id="more"></a><p> 看到厅堂四处悬挂、摆放的政务服务“一次办”的宣传物料，突然感到莫大讽刺——流程是优化到可以一次办理了，但让不让“一次办”，让哪些人“一次办”，决定权还是掌握在放号规则制定者手中，成为一种资源。我无意臆测这其中是否存在利益输送，但这种放号机制，体现的公职人员疏离办事群众而亲近个别代理机构的意图却是昭然若揭。正是这种不合理机制的存在，让各种代办业务赚的盆满钵满，纳税人向国家缴税还要多缴一份代办费，从某种意义上是不是一种向国家分权的行为呢？又是权力授予抑或权力攫取？</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2019/06/190627AionS/#通知提车了（20190718）&quot; target&gt;AionS提车&lt;/a&gt;后，就要注册上牌了。在车管所服务站的指引下，来到距离最近的罗湖国税局，办理购置税。&lt;/p&gt;
&lt;p&gt;到二楼车购税窗口咨询，得知需要现场取号，结果取号的人说今天的号发完了… 这才不到三点钟时间。而且三个窗口也就一个有人在办业务。这号都放到哪去了呢？对方说“不清楚，找服务台”。最后找到“科长”，带到二楼，了解到就是那一个在办理业务的人（车行），占用了一百多个号😱，感情这三个窗口里的工作人员都围着“一天几百万”的哥们转呐。面对我提出放号方式合理性质疑，“科长”也只能建议明天早些来。问题再次升级后，才得以解决。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
    
      <category term="国税局" scheme="https://blogs.kainy.cn/tags/%E5%9B%BD%E7%A8%8E%E5%B1%80/"/>
    
      <category term="车购税" scheme="https://blogs.kainy.cn/tags/%E8%BD%A6%E8%B4%AD%E7%A8%8E/"/>
    
      <category term="提车" scheme="https://blogs.kainy.cn/tags/%E6%8F%90%E8%BD%A6/"/>
    
  </entry>
  
  <entry>
    <title>不属于自己的东西</title>
    <link href="https://blogs.kainy.cn/2019/07/190712%E4%B8%8D%E6%8B%BF%E4%B8%8D%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%9C%E8%A5%BF/"/>
    <id>https://blogs.kainy.cn/2019/07/190712不拿不属于自己的东西/</id>
    <published>2019-07-13T23:03:13.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<div id="hbe-security"> <div class="hbe-input-container"> <input type="password" class="hbe-form-control" id="pass" placeholder="点击这里，输入密码后按“回车”键" /> <label for="pass">点击这里，输入密码后按“回车”键</label> <div class="bottom-line"></div> </div> </div> <div id="decryptionError" style="display: none;">Incorrect Password!</div> <div id="noContentError" style="display: none;">No content to display!</div> <div id="encrypt-blog" style="display:none"> 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 </div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      该内容已加密，密码验证通过后才可访问。&lt;/br&gt;如有必要可&lt;a href=&quot;mailto:gt@kainy.cn?subject=%E5%92%A8%E8%AF%A2%E5%8D%9A%E6%96%87%E8%AE%BF%E9%97%AE%E5%AF%86%E7%A0%81%EF%BC%88%E8%87%AA%E6%88%91%E7%AE%80%E4%BB%8B%EF%BC%9A%20%EF%BC%9B%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5%EF%BC%9A%20%EF%BC%9B%E8%AE%BF%E9%97%AE%E4%BA%8B%E7%94%B1%EF%BC%9A%20%EF%BC%9B%EF%BC%89&quot;&gt;尝试发送邮件&lt;/a&gt;咨询。&lt;/br&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="心态" scheme="https://blogs.kainy.cn/tags/%E5%BF%83%E6%80%81/"/>
    
  </entry>
  
  <entry>
    <title>因为在乎所以珍贵</title>
    <link href="https://blogs.kainy.cn/2019/07/190713%E5%9B%A0%E4%B8%BA%E5%9C%A8%E4%B9%8E%20%E6%89%80%E4%BB%A5%E7%8F%8D%E8%B4%B5/"/>
    <id>https://blogs.kainy.cn/2019/07/190713因为在乎 所以珍贵/</id>
    <published>2019-07-13T14:13:36.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<div id="hbe-security"> <div class="hbe-input-container"> <input type="password" class="hbe-form-control" id="pass" placeholder="点击这里，输入密码后按“回车”键" /> <label for="pass">点击这里，输入密码后按“回车”键</label> <div class="bottom-line"></div> </div> </div> <div id="decryptionError" style="display: none;">Incorrect Password!</div> <div id="noContentError" style="display: none;">No content to display!</div> <div id="encrypt-blog" style="display:none"> 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 </div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      该内容已加密，密码验证通过后才可访问。&lt;/br&gt;如有必要可&lt;a href=&quot;mailto:gt@kainy.cn?subject=%E5%92%A8%E8%AF%A2%E5%8D%9A%E6%96%87%E8%AE%BF%E9%97%AE%E5%AF%86%E7%A0%81%EF%BC%88%E8%87%AA%E6%88%91%E7%AE%80%E4%BB%8B%EF%BC%9A%20%EF%BC%9B%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5%EF%BC%9A%20%EF%BC%9B%E8%AE%BF%E9%97%AE%E4%BA%8B%E7%94%B1%EF%BC%9A%20%EF%BC%9B%EF%BC%89&quot;&gt;尝试发送邮件&lt;/a&gt;咨询。&lt;/br&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="wyf" scheme="https://blogs.kainy.cn/tags/wyf/"/>
    
  </entry>
  
  <entry>
    <title>微海报2019上半年的改进</title>
    <link href="https://blogs.kainy.cn/2019/07/%E5%BE%AE%E6%B5%B7%E6%8A%A52019%E6%94%B9%E8%BF%9B/"/>
    <id>https://blogs.kainy.cn/2019/07/微海报2019改进/</id>
    <published>2019-07-11T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>上半年的改进主要在使用渠道扩展和数据统计两方面。</p><h2 id="渠道扩展"><a href="#渠道扩展" class="headerlink" title="渠道扩展"></a>渠道扩展</h2><p>改造后，微海报已经支持在微信、小程序中访问。</p><p>原先的宿主是平安银行 APP，依赖其图片文件保存到系统相册和分享功能。实际上海报合成这一主要流程是纯 H5 实现，并不依赖原生接口，所以改造工作量并不大——主要集中在分享操作的指引（如图）</p><a id="more"></a><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g4ujg1iy0fj20ih0ihwlm.jpg" alt="微海报改版前后对比图" style="width:50%"></p><p>原先的结果页上，在小图预览下方有两个分享按钮，点击后调用原生的文件分享接口。而新的交互，由于运行在微信 webview 中，没有文件分享的接口，需要借助长按图片完成保存/分享操作。由于少了分享按钮，整个界面元素只有预览图，所以直接全平展示预览海报，然后蒙层提示“长按保存分享”（每天仅提示一次），考虑到结果页和全屏预览除了二维码部分十分相似，用户可能察觉不到区别，加了动画效果和小提示。</p><p>后续还会开放在企业微信、支付宝、钉钉和默认浏览器（短信推送）渠道到访问，以更好到发挥其获客作用。</p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g4x9va46mmj209u0a0746.jpg" alt="扫码体验微海报" style="width:30%"></p><h2 id="数据统计"><a href="#数据统计" class="headerlink" title="数据统计"></a>数据统计</h2><p>之前的基础埋点，统计出来的数据比较零散和抽象，无法直观体现转化率和走势等指标。我们结合 Gopher 平台提供的漏斗分析功能，对埋点进行梳理。改进后不仅可以查询到每张海报单位时间内的访问情况，还可以看到“浏览－合成－分享”整个流程中各个步骤的转化率，为交互改进效果的评估，和后续改进方案制定，提供数据支持。</p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g4xa8zvolwj20uk16bn7h.jpg" alt="Gopher 报表 for 微海报" style="width:50%"></p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>上半年还实现了太阳码（小程序码）海报合成，结果页缩略图放大预览等优化需求，其中结果页缩略图放大预览需求的提出比较有意思：是我们在分析点击情况的时候，发现缩略图每天有不少点击量，于是推断用户点击缩略图因该是想要查看所分享海报的效果，比如上面的文案细节之类的。这是数据统计优化实现精细化运营后的第一个运用。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2018/02/180210微海报图片优化小结/">微海报离线优化小结</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上半年的改进主要在使用渠道扩展和数据统计两方面。&lt;/p&gt;
&lt;h2 id=&quot;渠道扩展&quot;&gt;&lt;a href=&quot;#渠道扩展&quot; class=&quot;headerlink&quot; title=&quot;渠道扩展&quot;&gt;&lt;/a&gt;渠道扩展&lt;/h2&gt;&lt;p&gt;改造后，微海报已经支持在微信、小程序中访问。&lt;/p&gt;
&lt;p&gt;原先的宿主是平安银行 APP，依赖其图片文件保存到系统相册和分享功能。实际上海报合成这一主要流程是纯 H5 实现，并不依赖原生接口，所以改造工作量并不大——主要集中在分享操作的指引（如图）&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="微海报" scheme="https://blogs.kainy.cn/tags/%E5%BE%AE%E6%B5%B7%E6%8A%A5/"/>
    
      <category term="改进" scheme="https://blogs.kainy.cn/tags/%E6%94%B9%E8%BF%9B/"/>
    
  </entry>
  
  <entry>
    <title>广汽AionS笔记（持续更新）</title>
    <link href="https://blogs.kainy.cn/2019/06/190627AionS/"/>
    <id>https://blogs.kainy.cn/2019/06/190627AionS/</id>
    <published>2019-06-26T23:03:13.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>3月份看到 AionS 的宣传海报，感觉蛮吸引的，就下载了 App，然后下订。主要看中的是：纯电无需指标，续航，外观，鲸空间、内饰也可以。具体可以看网上测评，就不搬运了。</p><p>另外新能源汽车购置补贴逐年退坡，政策正引导地方补贴由购置端向使用端转换，补贴对象从车辆购置专为充电设施建设运营。可以预见，充电难的情况只会转好。此时入手 AionS 可能同享两波新能源福利。</p><p>至于为什么选顶配，除了因为360全景影像、前车跟随、自动泊车等功能对于新手司机确实有用还提供了额外安全感外。还考虑到厂家整车设计的成本已经付出，定价的时候很难完全排除这部分成本，减配主要还是扣除硬件成本。比如低配没有无线充点，但它的位置还在那里。这大概是中配车加到顶配，总价反而高出万余元的缘故。</p><p>以下问答根据自己从群聊、网上搜索的信息提取，可能存在理解不到位或偏差，还请指正。</p><h2 id="常见问题："><a href="#常见问题：" class="headerlink" title="常见问题："></a>常见问题：</h2><p>Q：从APP提示开始投产到提车大概需要多长时间？</p><p>A：汽车之家论坛有车友反馈大概两周时间</p><a id="more"></a><hr><p>Q：下订单越靠前，就一定越早提车么？</p><p>A：不一定。APP下单客户会有一个车友编号，越早支付定金排名越靠前。但是由于订单中有定制版、非定制版、大客户（网约车）版等等。</p><p>根据反馈情况，有APP下定，排名200多的至今（19年6月27）还没开始生产，而非定制版的已经提车；还有一个规律是4S店购买先提车，大定客户后提车；另外一个规律是中配（evo）已经提车，而顶配（max）订单还没未排产。综上排产优先级可能是：</p><ol><li>非定制 》定制</li><li>大客户 》个人</li><li>中低配 》顶配</li></ol><p>来几个参考图例：</p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g4gumrywprj20jg165mzy.jpg" style="width:30%;"></p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bly1g4guox7627j20jg152taz.jpg" style="width:30%;"></p><p><img src="https://wx2.sinaimg.cn/large/4d6e3e3bgy1g4h521vwlij20u01t04lj.jpg" style="width:30%;"></p><hr><p>Q：续航情况如何？</p><p>A：有车友反馈市区内正常行驶，续航表里程比实际里程大概 1.5 比 1；</p><p>还有一篇是走高速出游的，标称和实际比值约0.9，评论的人根据仪表盘信息笑侃楼主”黄金脚法“（车速平稳，红绿灯少）😄；</p><p>另外一组数据是激烈驾驶，开空调，跑156续航掉224，这样看标称里程和实际里程比差不多是0.7。</p><hr><p>Q：充电速度如何？</p><p>A：国家电网快充，充电电流约90A，而要达到官宣充电速度至少要170A，如此看来半小时充到80%似乎有点悬。</p><h2 id="车友群"><a href="#车友群" class="headerlink" title="车友群"></a>车友群</h2><p>加微信：wesiri 自动通过好友请求后，发送 aions 即可，自动答复的内容可以忽略。</p><p><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1g4ez5d89n7j20h60niacx.jpg" class="nofancybox" alt="广汽新能源 Aion S 车友微信群" style="width:30%;"></p><h2 id="个人感受"><a href="#个人感受" class="headerlink" title="个人感受"></a>个人感受</h2><p>虽然大订客户先下单反而后提车的事实，让心里有些不是滋味。但毕竟下单前有认可了预计交付时间，在没超过预计时间的情况下本无可厚非。</p><p>相信当时不少客户的预期都是：产能有限的情况下会优先满足下订客户的需求，毕竟这部分客户先表现出了诚意。</p><p>从 APP 中”趣电驾“的内容看到许多细节都被考虑到了，可以体会到工程师的匠心造车。这样的排产策略也许是重视大订客户的交付品质，所以花更多时间打磨？但愿现在的等待都是值得的吧。。</p><h2 id="开始生产了（20190710）"><a href="#开始生产了（20190710）" class="headerlink" title="开始生产了（20190710）"></a>开始生产了（20190710）</h2><p>昨晚收到短信，说已经准备生产，今天就在 APP 上看到了生产视频，分：车身总拼、色漆喷涂、挡风玻璃全自动安装、轮胎全自动安装、整车质检几个步骤，每个步骤一个视频。</p><h3 id="车身总拼"><a href="#车身总拼" class="headerlink" title="车身总拼"></a>车身总拼</h3><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=z08983yawmm" allowfullscreen="true"></iframe><h3 id="色漆喷涂"><a href="#色漆喷涂" class="headerlink" title="色漆喷涂"></a>色漆喷涂</h3><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=i0898217boh" allowfullscreen="true"></iframe><h3 id="挡风玻璃全自动安装"><a href="#挡风玻璃全自动安装" class="headerlink" title="挡风玻璃全自动安装"></a>挡风玻璃全自动安装</h3><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=k089892w9n2" allowfullscreen="true"></iframe><h3 id="轮胎全自动安装"><a href="#轮胎全自动安装" class="headerlink" title="轮胎全自动安装"></a>轮胎全自动安装</h3><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=u0898tgn84x" allowfullscreen="true"></iframe><h3 id="整车质检"><a href="#整车质检" class="headerlink" title="整车质检"></a>整车质检</h3><iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=v0898h9rwuo" allowfullscreen="true"></iframe><p>一天就完成了生产，真香。</p><p>同时根据群友反馈，有定制了轮毂卡钳颜色的 300＋ 号客户，还没开始投产，这也印证了之前的预估——定制程度越高越后排产。</p><p>生产完成后，就进入物流步骤，最后是交车。听已经提车的朋友说，一般物流只需要一两周时间，今天销售来电话约了车贷经理。希望后面顺利吧。。</p><h2 id="现阶段车友群里主要关注的问题："><a href="#现阶段车友群里主要关注的问题：" class="headerlink" title="现阶段车友群里主要关注的问题："></a>现阶段车友群里主要关注的问题：</h2><ul><li>续航问题，目前已提的车主反馈城市续航不到8折，告诉续航7折上下，相比其他品牌打折偏多；</li><li>后程续航虚问题，100公里左右出现实际里程和消耗里程比拐点；</li><li>快充的续航虚 ；</li><li>空调功率较大，导致续航受影响问题，是否有解决计划；</li><li>倒车黑屏；</li><li>产能问题，app下定什么时候排产；</li></ul><p>也有佛系车友称队续航没特别要求了，只要别太差就好。主要希望平平安安，靠谱不自燃就好，毕竟除了特斯拉、比亚迪，现在荣威、吉利也烧了，剩下广汽还没爆新闻。</p><h2 id="通知提车了（20190718）"><a href="#通知提车了（20190718）" class="headerlink" title="通知提车了（20190718）"></a>通知提车了（20190718）</h2><p>十五号通知发货，十八号到达经销商处。接下来就是申请临时牌，然后提车、检测、上牌～</p><p>以下是厂家老师对之前问题的答复：</p><ul><li>1.续航问题,目前已提的车主普遍反馈城市绩航不到8折,高续航7折上下,相比其他品牌打折偏多,为什么?</li></ul><p>关于续航里程问题,是所有新能源原车用户都比较关心的,这个和燃油车油耗是一样的,同款车,也有高油耗和低油耗。目前群里也有部分客户驾驶里程较高的,也有偏低的,我们收集了这些数据,也约了好几个客户回來起试车,现总结主要影响因素是驾驶工况,特别是市区或者平均速度低于30km/h以下的,能耗都很高,这和油车是类似的,电车也怕走走停停,这样能耗很大,而且低谏度行驶时间也长,这样车上的用电器耗电也多,这样会影晌到里程。同时不同的驾驶刁惯对续航的影晌也很大,我们确认过同一台车不同人开纯电里程可以相差接近80公里的,还有我们也发现因为车辆动力好，所以大家会不自然中驾驶较烈,驾驶中途会不自觉超车或高超120km/h等,这样都会对续艉影响较大。还有部分客户由于大部分时间都是用的中段续航里程,所以会把此问题放大,所以我们建议有这方面担忧的客户,可以慢充充满,完整地测试几次,这样比较客观。如是觉得续航偏低,可以联系我们销售店确认,也可以向我们APP及4001883333反馈,我们会安排专人跟进。</p><p>最后我们也总结了一些比较妤的使用技巧,供大家参考(最后面)。大家通过不同的驾驶方式、驾驶习惯去对比使用一下,行驶出来的续航里程看看是不是有所改变。</p><ul><li>2.后程续航虚问题,100公里左右出现实际里程和消耗里程比枴点,什么原因?</li></ul><p>主要是续航显示问题(实际的消耗与表显的消耗曲缇显示问题),目前普遍客户也给我们反馈充满后,前段非常耐用,甚至消耗小于实际里程,我们收集了大家反馈的建议,正在优化中,预计7月下旬就可以改进。</p><ul><li>3.快充续航虚问题,快充的续航虚,原因是啥?</li></ul><p>使用直流快充桩充电,充电的电流相对比较大,而且中止电流也较大(约20A),但慢充电流较小。形象的比喻是快充像倒水倒很快,慢充就像慢慢地倒,甚至最后慢慢滴。新能原车充电截止的策略主要是以单体电芯的电压检测来判断(也就是说根据到定值来判断的),所以大电流充进去,单体上升的比较快,当系统检测到上升最大的一个电芯电压达到设定的阀值,系统就会认为电池已经充满了，开始停止充电。但实际其余电芯在快充后还会有一定的余量,因此感觉快充的电量实际没有慢充多。</p><ul><li>4.空调功率对续航的影晌响,后续有解决计划吗?</li></ul><p>Aions的空调功率设定比较大,主要是为了给客户营造更加舒适的驾驶享受(空调功率越大,制冷效果相对会越好。就像我们家里空调一样，其实不是买得越小越好,不然空调要一直工作,和我们家里空调原理是样的,针对大家反馈的空调能耗大的问题，我们会继续收集大家的心声,不断改善，同时希望大家开车时,要控制好空调温度和冈昰,这样能更节能。</p><ul><li>5.产能问题,app下定的都什么时候排产?</li></ul><p>感谢大家选择我们车型,目前我们产能已快速爬升,预计这一两个月内陆绠交付,同时也在加快车辆发运,有效缩短订车用户的等待时间，具体到店时<br>间可以与销售店确认。</p><ul><li>6.倒车黑屏,原因是啥?解决计划?</li></ul><p>倒车黑屏只是极个别车辆出现,主要是音响主机软件有小bug,目前厂家已经发布升级软件给全国广汽新能源经销商,大家可以抽时间到店进行升级就可以解决这个小问题。</p><h2 id="黄金脚法口诀（20190730）"><a href="#黄金脚法口诀（20190730）" class="headerlink" title="黄金脚法口诀（20190730）"></a>黄金脚法口诀（20190730）</h2><p>群友大酱分享的提高续航秘诀😄</p><ul><li><p>续航要长，慢充是基本，单踏板高回收是必须的，空调不要开太低温度，25到26度，2挡或者1挡风量。另外就是开到时候充分利用单踏板的优势，减速时候慢慢松油门，不要一下子把油门松开，滑行时候找到单踏板电耗为0的点，然后回收的绿色条基本没有状态，稳着这个点滑行，对于延长续航很有用</p></li><li><p>另外外部节能措施就是玻璃贴膜，贴高度隔热膜，有效降低空调能耗</p></li><li><p>不要用油车的开法和思维模式对待电动车，最多半天就掌握了，然后就会发现单踏板模式优点很多，除了省电，关键是安全，刹车距离大大缩短</p></li><li><p>习惯单踏板高回收模式其实很简单，减速尽量避免急减速，急刹车除外。电动车是这样的开法，这是电机特性绝定，另外加速不要猛加速，缓加速。</p></li><li><p>这是aions 的长续航开法，只要做到了，市区开就是500左右。</p></li></ul><h2 id="提车风波（20190801）"><a href="#提车风波（20190801）" class="headerlink" title="提车风波（20190801）"></a>提车风波（20190801）</h2><p>7月最后一天拿到临牌，第二天就提车了，然后按照汽车之家论坛<a href="https://club.autohome.com.cn/bbs/thread/1ed3b9c750253ada/78305335-1.html" target="_blank" rel="external nofollow noopener noreferrer">坛友的推荐</a>，预约了澳康达服务站。</p><p> 感觉态度一般，但起码都能告知你需要补充哪些材料，怎么处理。因为没有体验过其他车管所服务站，不知道坛友在其他服务站遇到的情况有多糟。总体来说也推荐澳康达服务站，至少环境高大上，展区停了不少豪车。</p><p> 波折发生在到罗湖国税局<a href="/2019/08/190801提车风波/">办理购置税的流程</a>。花了一下午搞定车购税和注册，只好第二天再来制证上牌了。</p><h2 id="头一回上高速（20190817）"><a href="#头一回上高速（20190817）" class="headerlink" title="头一回上高速（20190817）"></a>头一回上高速（20190817）</h2><p> 周末驱车700公里陪吴老板到韶关还愿，顺路带了两个乘客，差不多把高速路费填平了。去的路上发现之前装的ETC提示“非法拆卸”无法使用，才知道，安装过的ETC，换位置后，需要重新激活，回程就OK了。</p><p> 不过这些都不是重点，最大的收获还是在高速上实践了一把自适应巡航，确实让高速驾驶体验提升不少——前方有车的时候，自动跟车，没车的时候，以设定的速度前进，司机只要扶着方向盘，观察路况就可以。真正实现“老司机带我飞“。因为是车辆自动判断、主动控制，行车加减速更平稳，能量回收效率感觉也更高。</p><p> 这还只是L2辅助驾驶，可以想象，单台机车实现全自动驾驶后，结合大数据调度，未来路面交通会是怎样的场景。</p><p> 另外一个发现是高速上充电桩充电速度还是比普通快充快一些，而且使用率也比较高——毕竟都是在等着上路的。</p><p> 相比之下，小区里的慢充，和停车场的快充使用率会低一些。梅林一村周边，小区充电基本是交流电慢充，需要车主解锁后才可以拿出充电枪，这样就需要同时满足车位和车枪两个条件才能充上电。附近莲花山停车场的普通快充，虽然不用解锁，但车位占用了就算拔枪，也必须有临近车位停靠才行。</p><p> 所以通常停车场快充使用率50%左右，到场还是要等待一会儿。而小区里的充电桩，本来数量就少，还得先占位，再等枪，比如梅林一村停车场的两个桩，只能四个车位够得着，一般是两个车充着，另外两个车位被占着等枪。等到app显示空闲了，等枪等车主会去看看已经充好的车是否拔枪了，有可能是充满自动断开充电，但拔枪还是要等车主来才行，所有可能白跑好几趟才能充上。总之梅林一村的慢充我至今没用上过。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/07/车主一周年小记/">车主一周年小记</a></li><li><a href="https://blogs.kainy.cn/2019/08/190820提升电桩使用率的思考和未来路面交通的展望/">提升电桩使用率的思考和未来路面交通的展望</a></li><li><a href="https://blogs.kainy.cn/2010/02/司机必看：46条保命驾驶技巧/">司机必看：46条保命驾驶技巧</a></li><li><a href="https://blogs.kainy.cn/2010/01/驾照考试（科目二）经验总结/">驾照考试（科目二）经验总结</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;3月份看到 AionS 的宣传海报，感觉蛮吸引的，就下载了 App，然后下订。主要看中的是：纯电无需指标，续航，外观，鲸空间、内饰也可以。具体可以看网上测评，就不搬运了。&lt;/p&gt;
&lt;p&gt;另外新能源汽车购置补贴逐年退坡，政策正引导地方补贴由购置端向使用端转换，补贴对象从车辆购置专为充电设施建设运营。可以预见，充电难的情况只会转好。此时入手 AionS 可能同享两波新能源福利。&lt;/p&gt;
&lt;p&gt;至于为什么选顶配，除了因为360全景影像、前车跟随、自动泊车等功能对于新手司机确实有用还提供了额外安全感外。还考虑到厂家整车设计的成本已经付出，定价的时候很难完全排除这部分成本，减配主要还是扣除硬件成本。比如低配没有无线充点，但它的位置还在那里。这大概是中配车加到顶配，总价反而高出万余元的缘故。&lt;/p&gt;
&lt;p&gt;以下问答根据自己从群聊、网上搜索的信息提取，可能存在理解不到位或偏差，还请指正。&lt;/p&gt;
&lt;h2 id=&quot;常见问题：&quot;&gt;&lt;a href=&quot;#常见问题：&quot; class=&quot;headerlink&quot; title=&quot;常见问题：&quot;&gt;&lt;/a&gt;常见问题：&lt;/h2&gt;&lt;p&gt;Q：从APP提示开始投产到提车大概需要多长时间？&lt;/p&gt;
&lt;p&gt;A：汽车之家论坛有车友反馈大概两周时间&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
    
      <category term="汽车" scheme="https://blogs.kainy.cn/tags/%E6%B1%BD%E8%BD%A6/"/>
    
      <category term="AionS" scheme="https://blogs.kainy.cn/tags/AionS/"/>
    
      <category term="广汽" scheme="https://blogs.kainy.cn/tags/%E5%B9%BF%E6%B1%BD/"/>
    
      <category term="新能源" scheme="https://blogs.kainy.cn/tags/%E6%96%B0%E8%83%BD%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>房屋出租记</title>
    <link href="https://blogs.kainy.cn/2019/03/%E7%A7%9F%E6%88%BF%E8%AE%B0/"/>
    <id>https://blogs.kainy.cn/2019/03/租房记/</id>
    <published>2019-03-13T10:47:00.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>朋友去年底入手了一套地铁梅景站边上的一居室，还没从“高位接盘”的焦虑中解脱，就遇上租房的糟心事——屋子从年前放到现在空置着。</p><p>本着为好友分忧解难的想法，我自告奋勇问好友要来钥匙，好友见有人出力，很放心的把门禁钥和匙交给我全权处理此事。我于是开始了人生头一遭的包租公之旅（其实也是作为信用分191的三年老自如客，心中早堆积了100+困惑需要一场出租实站来验证）</p><a id="more"></a><p>我首先在自如APP登记了房屋信息，并获得APP预算报价范围3390－4520。</p><p>几天后，有收房管家联系我来实地看房。并讲解租房事宜，大概就是说三年起租，自如负责装修，成本大概两万，首年50几天的空置期，第二、三年20几天。大概每年一个月左右。每年房租涨幅3%－6%，然后就问我预期价格，我说你先给个报价吧。</p><p>第二天出方案，给了3600的报价，和前业主出租的价格一样，可那是去年的价格了，何况要签三年，我觉得对方没诚意就回绝了。而后通过中介给的直到租金价格是4k，而自如上相同条件的租金是5k＋ 虽然自如有装修和管理成本，并承担租不出去的风险。但空置期的设计基本和风险相抵，而压低收房价格和租金涨幅，任一项都足以抹去装修成本，余下的就都是收益。刨除运营成本，利润大大的有啊。</p><p>我于是想，能不能尝试绕过自如，按照收房价扣除装修费用，自己出租给信用分高的租户，于是到豆瓣小组发了<a href="https://www.douban.com/group/topic/130392307" rel="external nofollow noopener noreferrer" target="_blank">这篇</a>和<a href="https://www.douban.com/group/topic/133072168" rel="external nofollow noopener noreferrer" target="_blank">这篇</a>但也是咨询的人多，谈到价格能接受的却寥寥无几。</p><p>眼看一个月要过去，难道这事要砸我手里了？这时候事情出现转机。接到蛋壳管家打来电话说这个月蛋壳准备上架开间。要来看房。这才想起之前也在蛋壳APP登记过信息，但得到答复是蛋壳暂时没有做单身公寓的产品。没想到这么快就有了，真是天助我也。</p><p>最后签约的价格高于预期的4500（几乎是周边同类房子的市场租金），还包了水电管理费，后来才知道，这么土豪的原因是蛋壳刚刚拿到5亿美刀刀C轮融资，不差钱。。</p><p>手上有房源出租的朋友可以推荐你们这个管家，很认真负责，实在的小哥。真心替房东着想，帮我争取了原来已经放弃的100多元/月管理费，不会像某些其他的管家为拿人钱说尽鬼话😄，不会有满口承诺无法兑现的那种做法。</p><p>以上就是我的第一次房东经历，虽然付出了时间了力气，却也扩展了一些原先的认知盲区。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;朋友去年底入手了一套地铁梅景站边上的一居室，还没从“高位接盘”的焦虑中解脱，就遇上租房的糟心事——屋子从年前放到现在空置着。&lt;/p&gt;
&lt;p&gt;本着为好友分忧解难的想法，我自告奋勇问好友要来钥匙，好友见有人出力，很放心的把门禁钥和匙交给我全权处理此事。我于是开始了人生头一遭的包租公之旅（其实也是作为信用分191的三年老自如客，心中早堆积了100+困惑需要一场出租实站来验证）&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="生活点滴" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/"/>
    
    
      <category term="租房" scheme="https://blogs.kainy.cn/tags/%E7%A7%9F%E6%88%BF/"/>
    
  </entry>
  
  <entry>
    <title>以webview为中心的小程序开发模式思考</title>
    <link href="https://blogs.kainy.cn/2019/02/%E4%BB%A5webview%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E6%80%9D%E8%80%83/"/>
    <id>https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/</id>
    <published>2019-02-14T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>webview是小程序内承载网页的组件，官方开放这样一个能力的本意应该是扩展小程序访问网页信息的功能。但对于某些场景，以小程序为中心的开发并不适用。例如营销活动，针对节日／事件的活动页追求时效且量大，如果都做成小程序，时间和人力成本都很高，再加上支付宝、百度、抖音相继推出各自平台的小程序，适配工作量将成倍增长；另一方面，小程序的发布前需要审核，审核就存在不通过的风险，审核时长也是不可控因素。</p><a id="more"></a><p>也许你会想，这类需求直接用H5（后续用“H5”代表移动端web）来做不就得了？在以往的语境下确实如此，比如图片保存到本地相册这种常用操作，以往通用的做法，都是指引用户“长按图片”。但在小程序已经提供了访问系统相册能力的今天，类似的事情难道不应该被做的更好一些么？</p><p>针对上述场景，和改善用户体验的想法，需要思考一种开发模式来把小程序的能力提供给H5。让营销业务逻辑仍然集中于一处（H5），小程序通过webview组件承载H5并通过统一接口，将各项能力提供给H5调用。能力封装和暴露，由各个平台的小程序事先完成并上线。从而可以隔离小程序审核引入的不可控因素，并实现公共功能逻辑的复用，即“以webview为中心的小程序开发模式”</p><h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>文字描述或许不够直观，可以用浏览器／APP扫码看看这个简单的助力应用demo做参考。</p><center><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1g0btjwfoa3j20ku14gtbs.jpg" alt="演示二维码" style="width:50%;" class="nofancybox"></center><p>业务逻辑很简单：</p><ul><li>用户访问的时候，客户端分配一个id标识；</li><li>可以分享自己的主页，邀请好友来助力；</li><li>好友助力后，出现在自己主页的“已助力好友”列表中；</li><li>可以通过列表中的链接，访问好友的主页。</li></ul><p>这个演示的基础业务是记录助力关系，并且自带用户系统（保存用户id），是纯粹的web应用，不依赖第三方环境。</p><center><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1g0btjwyozjj20hy104jt9.jpg" alt="H5页面" style="width:50%;"></center><p>但是id毕竟不够直观，普通浏览器内复制地址栏的链接分享操作，也比较繁琐。所以可以判断如果网页在小程序环境中，可利用小程序的获取用户信息和分享能力。结合API成熟度和用户体量，考虑先接入微信小程序。</p><p>于是我们在自己的主页中间，新增了“邀请好友助力“按钮，点击后，进入分享页面，可以分享小程序卡片到微信会话或者合成海报分享到朋友圈。</p><center><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1g0btqt7iurj20n01dsdi0.jpg" alt="小程序webview中的H5页面" style="width:50%;"></center><p>在个人信息右边（个人主页右上角）新增”绑定微信“链接，点击后，进入登陆页，支持微信一键登录和手机号登陆（已授权过个人信息），登陆后回到个人主页用带回的微信资料根据unionId完成账号绑定。</p><center><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1g0btjxf65mj20a90m674q.jpg" alt="小程序webview中的H5页面" style="width:50%;"></center><p>可以发现，两个调用都需要跳转小程序页面后完成。这是由小程序webview通信机制决定的，webview组件虽然可以通过<code>bindmessage</code>让小程序接收来自H5（<code>wx.miniProgram.postMessage</code>）的数据，但是由于只在特殊时机触发，无法满足通信需求，所以考虑用小程序页面跳转（<code>wx.miniProgram.navigateTo</code>）实现传参。</p><p>至于小程序向H5传參，可以通过设置src中的hash部分，实现无刷新通信。通信机制并非独创这里不再赘述，具体细节网上有很多参考资料。</p><h2 id="webview-SDK"><a href="#webview-SDK" class="headerlink" title="webview SDK"></a>webview SDK</h2><p>把H5对小程序能力的调用和回调过程中通用部分抽出来对外提供统一接口，可以降低学习成本，方便接口变动时统一升级。</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>通过简单的演示应用，展示了通过小程序webview组件，为H5提供小程序能力的思路。适用于上线频繁、且时效性要求高的场景，如营销活动页开发。这种模式的优点是增强H5应用调用设备的能力和交互形式、提升用户体验的同时，控制小程序开发可能引入的风险。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li><li><a href="https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/">通过小程序卡片打开APP获取参数的方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;webview是小程序内承载网页的组件，官方开放这样一个能力的本意应该是扩展小程序访问网页信息的功能。但对于某些场景，以小程序为中心的开发并不适用。例如营销活动，针对节日／事件的活动页追求时效且量大，如果都做成小程序，时间和人力成本都很高，再加上支付宝、百度、抖音相继推出各自平台的小程序，适配工作量将成倍增长；另一方面，小程序的发布前需要审核，审核就存在不通过的风险，审核时长也是不可控因素。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="webview" scheme="https://blogs.kainy.cn/tags/webview/"/>
    
  </entry>
  
  <entry>
    <title>不是一个轻松的决定</title>
    <link href="https://blogs.kainy.cn/2018/12/%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E8%BD%BB%E6%9D%BE%E7%9A%84%E5%86%B3%E5%AE%9A/"/>
    <id>https://blogs.kainy.cn/2018/12/不是一个轻松的决定/</id>
    <published>2018-12-29T22:20:00.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<div id="hbe-security"> <div class="hbe-input-container"> <input type="password" class="hbe-form-control" id="pass" placeholder="点击这里，输入密码后按“回车”键" /> <label for="pass">点击这里，输入密码后按“回车”键</label> <div class="bottom-line"></div> </div> </div> <div id="decryptionError" style="display: none;">Incorrect Password!</div> <div id="noContentError" style="display: none;">No content to display!</div> <div id="encrypt-blog" style="display:none"> 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 </div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css"><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2010/11/厦门打酱一日游/">厦门打酱一日游</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      该内容已加密，密码验证通过后才可访问。&lt;/br&gt;如有必要可&lt;a href=&quot;mailto:gt@kainy.cn?subject=%E5%92%A8%E8%AF%A2%E5%8D%9A%E6%96%87%E8%AE%BF%E9%97%AE%E5%AF%86%E7%A0%81%EF%BC%88%E8%87%AA%E6%88%91%E7%AE%80%E4%BB%8B%EF%BC%9A%20%EF%BC%9B%E7%BD%91%E9%A1%B5%E9%93%BE%E6%8E%A5%EF%BC%9A%20%EF%BC%9B%E8%AE%BF%E9%97%AE%E4%BA%8B%E7%94%B1%EF%BC%9A%20%EF%BC%9B%EF%BC%89&quot;&gt;尝试发送邮件&lt;/a&gt;咨询。&lt;/br&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
      <category term="厦门" scheme="https://blogs.kainy.cn/tags/%E5%8E%A6%E9%97%A8/"/>
    
      <category term="故乡" scheme="https://blogs.kainy.cn/tags/%E6%95%85%E4%B9%A1/"/>
    
  </entry>
  
  <entry>
    <title>鹿鹤呈祥</title>
    <link href="https://blogs.kainy.cn/2018/12/%E9%B9%BF%E9%B9%A4%E5%91%88%E7%A5%A5/"/>
    <id>https://blogs.kainy.cn/2018/12/鹿鹤呈祥/</id>
    <published>2018-12-17T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>走出车门，一阵凉意袭来，清晨6点，微亮的天空落下稀稀疏疏的雨点。永安和深圳的温差有5～10度吧。</p><p>车站离家不过百步路程——过完马路，沿路走到十字路口再过个斑马线就到了。然而踏着湿漉漉的地面，却觉得每一步都那么漫长。</p><a id="more"></a><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="https://music.163.com/outchain/player?type=2&id=560190037&auto=1&height=66"></iframe><p>爷爷身体不适卧床几天了，吃饭没胃口，只靠流食维持，却又固执的不愿上医院… 跨过一滩水，突然想起有件文化衫落在车上了 —— 车上冷气拂面，我拿衬衫来遮在脸上，可能是翻身时候压枕边</p><p>“算了，不回去找了吧”谁知道车走了没呢，何况还下着雨…</p><p>这么嘀咕着，已经走到十字路口，不禁想起一个月前国庆假期回家。</p><p>也差不多这个点吧，正准备过斑马线时候，发现爷爷拄着拐杖低着头走下路阶，从对面走来，我们停在斑马线中间打了照面。爷爷的眼神里看到里一点意外和惊喜。简单寒暄过后，爷爷拿出钥匙交给我，我才意识到楼下门禁换了，如果不是碰巧遇到爷爷，大清早恐怕就没这么方便进去了。告别爷爷后，我这么庆幸着，到马路对面，回头看了看爷爷背影，依旧是戴着帽子，拄着拐杖，但浅灰色的中山装却有些清逸 —— 感觉和以前不太一样了，爷爷每天早起，会走大道（燕江东路）去人民广场，那天却走解放北路，若不如此也就不会相遇…… </p><p>没想到一个月后我又站在了这里。</p><p>到家后爸说爷爷情况很不好，半夜里一直说难受，直到凌晨才消停。</p><p>我到房间补了一觉，直到上午八点多被妈略慌张地语气我叫醒，说爷爷可能快不行了，快起来看看。我心里竟有一丝不悦。直到看到爷爷脸上的虚弱、疲惫，嘴里还喃喃着“很难受…很难受…”的一幕，才意识到匆匆赶回来的自己可能并没太做好准备… </p><p>原以为此次回来的目标就是一起劝说爷爷上医院，可是好说歹说爷爷就是不愿意坐上准备好的轮椅，姐姐姐夫的到来，带来了一丝希望 —— 去年就是姐姐劝服爷爷住的院。但这次却不凑效，说得多了竟不耐烦。</p><p>多次尝试无果，我们围坐客厅，姐夫分析可能爷爷是感到过不了这道坎，爸也提到四月份爷爷不舒服还会主动提出要去医院… </p><p>爷爷有几十年的心脏病高血压病史，每到秋冬换季就犯坐骨神经痛，上次住院检查多项指标不理想，度过这个季节也许真是一种煎熬吧。</p><p>结合之前在床边焦急追问满嘴“很难受”的爷爷哪难受时，爷爷右手缓缓指向心门；爷爷眼角短暂泛起过的泪花；还有我们尝试强制扶爷爷上轮椅时，他略带生气的那句“不要管我哎，我在等时间” ……</p><p>等时间？等什么时间，那时候并没有多想。</p><p>又或者是不愿去想。</p><p>其实每次离家前，经过楼下爷爷常坐的地方，总有一道闪念：“下次回来还能见到爷爷么”，而这种不安又总比上一次更为强烈… </p><p>现在回想，姐夫一席话只是让我们松开摁住这个想法的双手，让大家诚实面对爷爷不愿上医院的真实原因吧。</p><p>而现在能做的，只是强忍泪水，紧紧握着爷爷微凉的手。</p><p>中午十一点多，爷爷安静地走了，从此与我们阴阳相隔。</p><p>在殡仪馆时，选了一个刻着“鹿鹤呈祥”四字的骨灰盒 —— 因为里面恰好有爷爷姓名中的一个字。</p><p>爷爷在<a href="https://guoruixiang.cn/2000/03/%E5%A4%A7%E8%B7%83%E8%BF%9B%E5%89%8D%E5%90%8E%E7%9A%84%E4%B8%AD%E7%99%BE%E6%B0%B8%E5%AE%89%E5%85%AC%E5%8F%B8.html?from=blogs" target="_blank" rel="noopener">百货公司</a>上班时，就是出了名的写作能手，即是“特约联络员”又参与了<a href="https://guoruixiang.cn/categories/%E6%B0%B8%E5%AE%89%E5%B8%82%E5%95%86%E4%B8%9A%E5%BF%97/?from=blogs" target="_blank" rel="noopener">《永安市商业志》</a>编写。</p><p><a href="https://guoruixiang.cn/2000/03/%E6%99%9A%E5%B9%B4%E7%94%9F%E6%B4%BB%E7%AC%94%E4%BD%9C%E4%BC%B4.html?from=blogs" target="_blank" rel="noopener">退休后</a>，也以写作为乐，笔名<a href="https://guoruixiang.cn/2000/03/%E6%83%B3%E8%B5%B7%E5%84%BF%E6%97%B6.html?from=blogs" target="_blank" rel="noopener">天柱</a>，是家乡的一座高山名。</p><p>投稿之外，爷爷代写诉状也略有名气，曾打赢过百姓和一方“神仙”的官司。然而生后只留下厚厚一册剪报，却未见一张诉状。</p><p>爷爷痛恨迷惑人心智的东西，比如毒和赌 —— <a href="https://guoruixiang.cn/1993/08/%E7%88%B6%E4%BA%B2.html?from=blogs" target="_blank" rel="noopener">太爷</a>经商，却两次染上毒瘾，导致家业破败，最终服用超量鸦片结束自己生命，死后第7天有了保长送的棺材才得以下葬。爷爷记得保长的恩，却在后来因为一句气话“你不如国民党的保长”而被划为<a href="https://guoruixiang.cn/2000/03/%E6%88%91%E6%98%AF%E2%80%9C%E4%BA%94%E7%B1%BB%E5%88%86%E5%AD%90%E2%80%9D.html?from=blogs" target="_blank" rel="noopener">“右派”</a>，受了二十多年政治斗争之苦，殃及子女。</p><p>爷爷还对编造和欺瞒反感，小时候常和我们讲“小时头根针长大偷头牛”的道理，“一就是一二就是二”。</p><p>务实、较真，“不谙”人情世故，以至于不近亲情。妈怀我的时候，由于是“偷生”，违反计划生育政策导致夫妻二人双双被公司开除，甚至危及爷爷。据说当时爷爷的态度是：“周恩来无儿无女，你们有个女儿了还不知足” …</p><p>看过《霸王别姬》才明白，有些时候，重要的不是你实际做了什么事，而是你表了什么态。所以偶尔会想：爷爷当时的表态是不是反映了他真实的想法？我不太确定。</p><p>爷爷极度节俭和自律，每天早睡早起作定时出门散步，衣服总是打满布丁才换，新衣服、物品都是放着不用，也许是经历过物质匮乏年代的缘故吧。我们也没再强求他改变观念。</p><p>以<a href="https://guoruixiang.cn/2015/03/%E6%88%91%E6%98%AF%E8%BF%99%E6%A0%B7%E8%BF%9B%E5%85%A5%E7%99%BE%E8%B4%A7%E5%85%AC%E5%8F%B8%E7%9A%84.html?from=blogs" target="_blank" rel="noopener">一面富有创意的广告画报进入百货公司</a>的爷爷，常为我们讲小发明小创造的故事，为年幼的我们树立了改进和创造的意识。</p><p>小时候喜欢火车和轮船，爷爷常带姐和我到火车站看火车，看到料车里堆放的化肥、煤炭、客车、头顶两根线的电动车头、冒烟的柴油机车，火车掉头，近距离观察道岔理解变轨的原理… 延伸出一个个的小知识。</p><p>爷爷在百货公司站柜台，三十余年，兢兢业业，注重积累业务知识和培养服务意识，文章中思考过<a href="https://guoruixiang.cn/1996/01/%E8%90%A5%E4%B8%9A%E5%91%98%E9%9C%80%E5%AD%A6%E5%BF%83%E7%90%86%E5%AD%A6.html?from=blogs" target="_blank" rel="noopener">心理学在工作中的应用</a>和自己的实践。</p><p>零零散散写这么多，除了担心记忆碎片被时间冲散，如果不写，真的就随风而去了，什么都留不下。另一方面也是通过记录的过程，让回忆尽量客观，<a href="https://guoruixiang.cn/2000/01/%E2%80%9C%E6%80%AA%E4%BA%BA%E2%80%9D%E4%B8%8D%E6%80%AA.html?from=blogs" target="_blank" rel="noopener">写出来</a>，有偏差才可能被指正。</p><p><img src="https://wx1.sinaimg.cn/large/4d6e3e3bgy1fybb1q9z33j20sg0lch3a.jpg" alt="爷爷：郭瑞祥"><br><br><br><a href="https://guoruixiang.cn/?from=blogs" target="_blank" rel="noopener">https://guoruixiang.cn/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;走出车门，一阵凉意袭来，清晨6点，微亮的天空落下稀稀疏疏的雨点。永安和深圳的温差有5～10度吧。&lt;/p&gt;
&lt;p&gt;车站离家不过百步路程——过完马路，沿路走到十字路口再过个斑马线就到了。然而踏着湿漉漉的地面，却觉得每一步都那么漫长。&lt;/p&gt;
    
    </summary>
    
      <category term="东写西读" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/"/>
    
      <category term="心路历程" scheme="https://blogs.kainy.cn/categories/%E4%B8%9C%E5%86%99%E8%A5%BF%E8%AF%BB/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>微海报2018前端性能回顾</title>
    <link href="https://blogs.kainy.cn/2018/12/%E5%BE%AE%E6%B5%B7%E6%8A%A52018%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%9B%9E%E9%A1%BE/"/>
    <id>https://blogs.kainy.cn/2018/12/微海报2018前端性能回顾/</id>
    <published>2018-12-11T22:20:16.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>又到一年之末，回顾的时候。</p><p>年初使用 speedtracker 搭建了微海报性能监控——speedtracker 是基于免费性能评估服务 webpagetest 的工具，会定期跑分，并记录。串起来形成一份时间线报告。好处是配置简单，托管在 Github 上自动运行，无需服务器资源。缺点是数据存储在静态文件中，所以时间段只能选择过去一天、一周、一月、或者一年，而不能选择指定起止时间。也无法纪录超出一年的数据，所以现在正是分析过去一年数据的好时点～</p><a id="more"></a><p>先来看<code>页面加载时长曲线</code>：</p><p><a href="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3slhd665j214i0u0wyz.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3slhd665j214i0u0wyz.jpg" alt="页面加载时长" title="页面加载时长"></a></p><p>可以看出，左右两端有两个比较明显的突起，时间点在黑色气泡展示，把整条曲线分为三个部分，凸起部分是前端性能瓶颈期， 两个凸起部分右边的向下断崖，对应实施优化的时间点。</p><p>第一次优化大约在三月份，当时采取的措施是采用cdn厂商提供的图片缩放功能，在列表页加载缩略图。</p><p>第二次优化在十一月23，这次界面彻底改版，将原本一次加载所有数据的方式，改为一次加载所选分类海报，同时支持分页。</p><p><a href="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy49cukb2tj20sg0lck5y.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy49cukb2tj20sg0lck5y.jpg" alt="微海报UI改版前后对比" title="微海报UI改版前后对比"></a></p><p>上图中，右边是改版后的UI，可以看到顶部新增了搜索功能，下面是原先在底部的分类按钮，支持无限分类，左右划动可以查看更多，海报列表支持“热门”和“最新”两种排序，并且支持分页。</p><p>项目初期由于海报数量有限，图片懒加载足以应对，而一次拉取所有数据，前端可以更灵活的满足交互需求。但是随着时间推移，微海报承载的活动量逐步上升，十月份后投放量激增，导致性能瓶颈凸显，内容运营上原有分类数量无法拓展的问题，也限制了业务同事发挥。于是有了十一月份的改版优化需求。</p><p>改版面临的主要难点是：支持分页后，已经加载分页列表数据的缓存，以及定位到指定某站海报的支持——尤其是指定海报在很靠后的某个分页的情况。具体细节先不在这里展开。继续看图：</p><p><a href="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3yg27vz1j21470u01a2.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3yg27vz1j21470u01a2.jpg" alt="页面内容请求数量曲线" title="页面内容请求数量曲线"></a></p><p>从<code>页面内容请求数量曲线</code>中看出，图片请求数在增加，反映出投放海报的增加、业务的增长。三月份的缩略图优化仅缩小了每张图的尺寸，对请求数量无影响，而十一月份对分页优化，效果则十分明显。</p><p><a href="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3t1m1rjqj21520u07h0.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3t1m1rjqj21520u07h0.jpg" alt="页面内容下载文件尺寸曲线" title="页面内容下载文件尺寸曲线"></a></p><p>从<code>页面内容下载文件尺寸</code>曲线，则可以看到，两次优化对此指标都有较大影响。三月的缩略图优化，只是延迟了瓶颈期，随着海报投放量增加，还是会达到天花板；而十一月份分页优化，则理论上彻底打破了数量的天花板，很大程度扩展了微海报的内容承载能力。</p><p><a href="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3yg4hxi2j214a0u0gun.jpg" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://wx3.sinaimg.cn/large/4d6e3e3bgy1fy3yg4hxi2j214a0u0gun.jpg" alt="跑分曲线" title="跑分曲线"></a></p><p>经过前面分析，<code>跑分曲线</code>也就不难理解了，下载量和请求数降低和评分提升正相关，Lighthouse PWA 得分有一段突起，具体原因仍待分析。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2018/02/180210微海报图片优化小结/">微海报离线优化小结</a></li><li><a href="https://blogs.kainy.cn/2016/11/js合并优化实践/">js合并优化实践</a></li><li><a href="https://blogs.kainy.cn/2013/02/静态资源(JS、CSS)的版本化、优化及增量部署/">静态资源(JS、CSS)的版本化、优化及增量部署</a></li><li><a href="https://blogs.kainy.cn/2013/02/用Navigation_Timing_API测试前端性能/">用Navigation Timing API测试前端性能</a></li><li><a href="https://blogs.kainy.cn/2012/10/rel=canonical使用一例/">rel=canonical使用一例</a></li><li><a href="https://blogs.kainy.cn/2012/06/厝边网上线/">厝边网上线</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;又到一年之末，回顾的时候。&lt;/p&gt;
&lt;p&gt;年初使用 speedtracker 搭建了微海报性能监控——speedtracker 是基于免费性能评估服务 webpagetest 的工具，会定期跑分，并记录。串起来形成一份时间线报告。好处是配置简单，托管在 Github 上自动运行，无需服务器资源。缺点是数据存储在静态文件中，所以时间段只能选择过去一天、一周、一月、或者一年，而不能选择指定起止时间。也无法纪录超出一年的数据，所以现在正是分析过去一年数据的好时点～&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="工作" scheme="https://blogs.kainy.cn/tags/%E5%B7%A5%E4%BD%9C/"/>
    
      <category term="复盘" scheme="https://blogs.kainy.cn/tags/%E5%A4%8D%E7%9B%98/"/>
    
      <category term="性能" scheme="https://blogs.kainy.cn/tags/%E6%80%A7%E8%83%BD/"/>
    
      <category term="优化" scheme="https://blogs.kainy.cn/tags/%E4%BC%98%E5%8C%96/"/>
    
      <category term="回顾" scheme="https://blogs.kainy.cn/tags/%E5%9B%9E%E9%A1%BE/"/>
    
  </entry>
  
  <entry>
    <title>小程序分享网页方案</title>
    <link href="https://blogs.kainy.cn/2018/07/%E5%8D%9A%E5%AE%A2%EF%BC%8F%E8%B5%84%E8%AE%AF%E7%B1%BB%E7%BD%91%E9%A1%B5%E5%9C%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%88%86%E4%BA%AB%E7%9A%84%E6%96%B9%E6%A1%88/"/>
    <id>https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/</id>
    <published>2018-07-31T09:55:04.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>TL;DR 可以点击<a href="#体验方式">这里体验</a>是否你需要的效果后，再回来看内容。</p><p>小程序卡片分享相比链接分享的优势不言而喻：更大的封面图片意味着可承载更多信息，和更强的视觉表现力；更大的面积，也意味着在聊天窗口中更容易被点到（算是额外福利）。但如果单纯为了发挥这一优势专门开发一个资讯小程序，其产出又不足以覆盖投入。</p><p>并且，为了方便传播和跨平台访问，H5无疑是最合适的内容载体。于是思路转化为：是否可以像iOS、安卓webview一样，打造一个小程序版的内容容器。小程序web-view组件就可以用来实现：微信生态内，优先通过小程序传播h5页面，同时将改造的开发量和影响降到最低这一需求。<br><a id="more"></a></p><h2 id="分享发起侧"><a href="#分享发起侧" class="headerlink" title="分享发起侧"></a>分享发起侧</h2><p>小程序web-view组件的属性很简单，要完成分享功能，只要在网页中监听用户触发的分享操作事件，然后通过JSSDK的wx.miniProgram.postMessage方法将分享信息（页面URL、文章标题、描述、封面地址）发送给小程序，小程序接收后指引用户“点击右上角菜单”进行分享，当用户执行分享操作触发onShareAppMessage时，使用网页传递来的分享信息即可。</p><p>该方案的局限性在于：</p><ol><li><p>web-view会铺满这个屏幕，也就意味着没有引导海报合成操作的交互空间，而小程序分享到朋友圈，目前只能通过图片方式</p></li><li><p>分享操作的指引不够直观，“点击右上角菜单“对于不熟悉小程序的用户，很可能就点到菜单按钮右边的“关闭”按钮而一去不复返了，毕竟这个位置才真正意义上的”右上角“</p></li></ol><p>为了解决上述问题，考虑单独打开一个小程序页面，专门用来做分享操作指引。这个页面上有足够的空间放一个足够醒目的”分享“按钮，再摆一个”保存海报并分享到朋友圈“按钮，以及用封面图片和文章标题、简介合成的海报预览，如有需要，甚至可以增加用户输入信息，或者登录按钮为链接添加分享者信息。该方案看似增加了一步跳转，但这个指引更加直观。也大大扩展了分享的能力。</p><p>需要注意的是，合成海报用到到URL需要进行短地址处理，因为小程序码参数长度有限，如不使用短地址，很容易造成小程序码生成失败。不过为了便于更广泛地传播，这里不建议使用小程序码，而是直接使用文章页URL生成普通二维码，配合“扫普通链接二维码打开小程序”配置，实现微信内小程序打开，微信外普通webview打开网页。</p><h2 id="分享接收侧"><a href="#分享接收侧" class="headerlink" title="分享接收侧"></a>分享接收侧</h2><p>用户收到小程序卡片消息，点开后打开web-view，将src填入，即可查看博文；</p><p>通过海报识别二维码打开URL，因为配置了“扫普通链接二维码打开小程序”也会直接打开web-view小程序页面，这时候通过接收q参数，可以获取到二维码链接内容（在onLoad事件中提取”q”参数并自行UrlDecode一次，即可获取原二维码的完整内容）；</p><p>另一方面，网页需要做的是：根据 wx.miniProgram.getEnv 获取当前网页加载环境，如果是小程序中，则露出分享按钮。并过滤掉非业务域名的链接和iframe。</p><h2 id="观点"><a href="#观点" class="headerlink" title="观点"></a>观点</h2><p>在利用小程序卡片的优势，促进内容和活动页面在微信生态内传播都同时，反过来，也是利用内容为自己的小程序拉新。结合小程序的设备、媒体、微信支付、卡券等能力，更好的完成服务变现。</p><p>可以看到<strong>近两年来微信含蓄而一以贯之地表达着做大做强小程序的意志，仿佛意图将小程序能承载的都收入其中</strong>… 不过即便果真如此又怎样？还是那句话“谁让你在别人的地盘”，更重要的是目标客户在微信的地盘。如果不能反抗，不如学会享受，非要押注爆冷，不如祈祷有一天所有人都弃微信而去。</p><h2 id="体验方式"><a href="#体验方式" class="headerlink" title="体验方式"></a>体验方式</h2><p>如果你查看这篇文章时</p><ul><li>在小程序外：（朋友圈，聊天会话）扫描图上二维码体验</li></ul><p><img width="200px" src="https://wx2.sinaimg.cn/mw690/4d6e3e3bgy1ftssuoubn4j20ku14gx12.jpg" alt="微海报"></p><ul><li>在小程序内：点击文末绿色“分享”按钮。</li></ul><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li><li><a href="https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/">通过小程序卡片打开APP获取参数的方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;TL;DR 可以点击&lt;a href=&quot;#体验方式&quot;&gt;这里体验&lt;/a&gt;是否你需要的效果后，再回来看内容。&lt;/p&gt;
&lt;p&gt;小程序卡片分享相比链接分享的优势不言而喻：更大的封面图片意味着可承载更多信息，和更强的视觉表现力；更大的面积，也意味着在聊天窗口中更容易被点到（算是额外福利）。但如果单纯为了发挥这一优势专门开发一个资讯小程序，其产出又不足以覆盖投入。&lt;/p&gt;
&lt;p&gt;并且，为了方便传播和跨平台访问，H5无疑是最合适的内容载体。于是思路转化为：是否可以像iOS、安卓webview一样，打造一个小程序版的内容容器。小程序web-view组件就可以用来实现：微信生态内，优先通过小程序传播h5页面，同时将改造的开发量和影响降到最低这一需求。&lt;br&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="方案" scheme="https://blogs.kainy.cn/tags/%E6%96%B9%E6%A1%88/"/>
    
      <category term="分享" scheme="https://blogs.kainy.cn/tags/%E5%88%86%E4%BA%AB/"/>
    
  </entry>
  
  <entry>
    <title>小程序工程化开发之：重构稿转为wxml</title>
    <link href="https://blogs.kainy.cn/2018/06/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%BC%80%E5%8F%91%E4%B9%8B%EF%BC%9A%E9%87%8D%E6%9E%84%E7%A8%BF%E8%BD%AC%E4%B8%BAwxml/"/>
    <id>https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/</id>
    <published>2018-06-12T23:03:13.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="需求背景"><a href="#需求背景" class="headerlink" title="需求背景"></a>需求背景</h2><p>在开发<code>微海报</code>小程序时，由于团队没有过小程序开发经历。按照常规流程，重构输出的是移动端 HTML 网页，以 rem 为尺寸单位。这与小程序的 wxml 和 rpx 之间有一个转化的过程，如果手工转化，无疑带来巨大的额外工作量，而让重构同学短期内熟练掌握小程序开发工具和一套新的标记语言又不太现实。<br><a id="more"></a></p><h2 id="问题定义"><a href="#问题定义" class="headerlink" title="问题定义"></a>问题定义</h2><p>按照以往的前端工程分工：设计出图－&gt;重构出页面-&gt;逻辑和交互开发，我们需要新增一个步骤来消化小程序展示层与常规网页的差异，将转换工作平滑衔接进现有流程，以最小的投入达到小程序开发条件。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>明确了目标后，就可以找具体解决方案了，本着“不重复造轮子”的精神，先网上搜搜，果然这是一个比较通用的问题。京东凹凸团队早在17年6月就已开源了 <code>html-to-wxapp</code> ，按照操作指引试了一下，却没有得到预期的结果，研究了一番似乎是文件匹配写法问题，于是 <a href="https://github.com/kainy/html-to-wxapp" rel="external nofollow noopener noreferrer" target="_blank">fork 一份</a>动手修复了下，重新发布到 <a href="https://www.npmjs.com/package/h2a" rel="external nofollow noopener noreferrer" target="_blank">npm</a> 方便后续使用。</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//安装</span><br><span class="line">npm install h2a -g</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>例如：源码<code>test</code>目录文件结构如下<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├──test</span><br><span class="line">│   ├── images</span><br><span class="line">│   ├── <span class="keyword">index</span>.html</span><br><span class="line">│   └── <span class="keyword">index</span>.css</span><br></pre></td></tr></table></figure></p><h3 id="执行："><a href="#执行：" class="headerlink" title="执行："></a>执行：</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wxapp transfer <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>将会转换成：<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├──_wxapp_test</span><br><span class="line">│   ├── images</span><br><span class="line">│   ├── <span class="keyword">index</span>.wxml</span><br><span class="line">│   └── <span class="keyword">index</span>.wxss</span><br></pre></td></tr></table></figure></p><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ol><li>转换工具对 html 标签进行替换并删除了 script 等标签及内容，将 css 里的 rem 单位替换成 rpx，并进行数值转换</li><li>stylelint 规则限制了动画和过渡的使用、限制了 img 之外的类型选择器、禁止了两层以上的级联</li><li>小程序的样式有许多限制，还需要手动调试</li><li>如果转换出来的样式尺寸不对，可以调整 config.js 里的 remTimes 参数，来符合自己团队的重构规范。</li></ol><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>以上介绍了一个将 html 及 css 转换成微信小程序的 wxml 和 wxss 的小工具，实现小程序开发与现有前端流程整合的过程。</p><p>最近发现越来越多小程序的界面变精致了，认真观察发现主要是由于采用自定义组件替换了以往一成不变的基础组件。后面的文章打算聊聊通过自定义组件实现模块化开发小程序，达到复杂度拆解和进度控制的工程化目的。</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li><li><a href="https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/">通过小程序卡片打开APP获取参数的方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;需求背景&quot;&gt;&lt;a href=&quot;#需求背景&quot; class=&quot;headerlink&quot; title=&quot;需求背景&quot;&gt;&lt;/a&gt;需求背景&lt;/h2&gt;&lt;p&gt;在开发&lt;code&gt;微海报&lt;/code&gt;小程序时，由于团队没有过小程序开发经历。按照常规流程，重构输出的是移动端 HTML 网页，以 rem 为尺寸单位。这与小程序的 wxml 和 rpx 之间有一个转化的过程，如果手工转化，无疑带来巨大的额外工作量，而让重构同学短期内熟练掌握小程序开发工具和一套新的标记语言又不太现实。&lt;br&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="开发" scheme="https://blogs.kainy.cn/tags/%E5%BC%80%E5%8F%91/"/>
    
      <category term="工程化" scheme="https://blogs.kainy.cn/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>总在深夜放大招，小程序官方团队真的没有性生活？</title>
    <link href="https://blogs.kainy.cn/2018/03/180328%E6%80%BB%E5%9C%A8%E6%B7%B1%E5%A4%9C%E6%94%BE%E5%A4%A7%E6%8B%9B%EF%BC%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%9B%A2%E9%98%9F%E7%9C%9F%E7%9A%84%E6%B2%A1%E6%9C%89X%E7%94%9F%E6%B4%BB%EF%BC%9F/"/>
    <id>https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/</id>
    <published>2018-03-28T10:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://wx4.sinaimg.cn/mw690/4d6e3e3bgy1fpzrnnn2dmj20hy134k1w.jpg" alt="小程序深夜放大招"></p><a id="more"></a><p>说到这个问题，就不得不提到腾讯的产品灰度发布策略——推送新特性通常是一个过程，在灰度发布期间小程序团队会逐步推送新特性到用户端，在扩大推送范围的同时监控曲线是否异动，</p><p><img src="https://wx4.sinaimg.cn/large/4d6e3e3bgy1fpsmyp4pztj20fs053jrg.jpg" alt="监控曲线"><br>（大概长上图这样子）</p><p>若直到灰度覆盖所有用户，曲线都没有明显异动，且上报日志没有收集到致命错误，则认为推送完成。这之后才发布新能力的文档及公众号推文。而一般灰度时长为12小时，也就说当我们在晚上发现小程序团队“搞事情”的时候，其实小程序团队已忙碌了12小时，基本可以收工回家，安心的做该做的事情了。。</p><p><img src="https://wx4.sinaimg.cn/mw690/4d6e3e3bgy1fpzrnoixmrj20hu136jzo.jpg" alt="小程序没有性生活"></p><p>至于为什么放任“没有性生活”的说法流传，我觉得有可能是运营的小心机——营造出一种”大神与你同在”的鸡血氛围，为开发者鼓劲——所以当小程序员苦逼哈哈地加班研究新特性时，真正与你深夜奋战也许不是大神而是你的寂寞… 😏</p><p>另一方面，如果把小程序征服星辰大海的过程比作马拉松，现阶段显然远未接近终点，运动员自然鲜有理会场外观众的闲情。所以也请大家别再误解低头赶路人的沉默啦～</p><p>好了，关于小程序官方团队<del>究竟有没有性生活的八卦</del>为什么总在深夜发版本的科普就到这里，希望解答了你的困惑。</p><p>（我怎么竟是如此八卦的一个人 😂</p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/">通过小程序卡片打开APP获取参数的方法</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://wx4.sinaimg.cn/mw690/4d6e3e3bgy1fpzrnnn2dmj20hy134k1w.jpg&quot; alt=&quot;小程序深夜放大招&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="灰度" scheme="https://blogs.kainy.cn/tags/%E7%81%B0%E5%BA%A6/"/>
    
  </entry>
  
  <entry>
    <title>微海报离线优化小结</title>
    <link href="https://blogs.kainy.cn/2018/02/180210%E5%BE%AE%E6%B5%B7%E6%8A%A5%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96%E5%B0%8F%E7%BB%93/"/>
    <id>https://blogs.kainy.cn/2018/02/180210微海报图片优化小结/</id>
    <published>2018-02-10T10:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="定义问题"><a href="#定义问题" class="headerlink" title="定义问题"></a>定义问题</h3><p>由于业务发展</p><a id="more"></a><h3 id="workbox介绍"><a href="#workbox介绍" class="headerlink" title="workbox介绍"></a>workbox介绍</h3><p>  workbox 是用来实现网页应用离线化的构建工具，通过生成的 service worker 文件，让你的离线静态资源管理策略得以在用户端实现。由于 service worker 本身是飞速发展规范，且客户端支持程度不一，通过调用 workerbox 的 API，可以最大程度的屏蔽这些兼容问题，从这个方面理解，有点像 jQuery 在 ie 时代的作用，差别是前者解决的是 service work 运行环境的兼容性问题，而 jQuery 解决的事浏览器兼容性问题。</p><p>  workbox 本身集成了常用的五套缓存策略</p><ul><li>Cache only；</li><li>Cache first, falling back to network；</li><li>Cache, with network update；</li><li>Network only；</li><li>Network first, falling back to cache</li></ul><p>策略详情以及 <a href="https://developers.google.com/web/tools/workbox/overview#the_technology_behind_workbox" rel="external nofollow noopener noreferrer" target="_blank">API 可参考文档</a> 这里不再赘述。</p><p>  workbox 底层整合了sw-precache ， sw-toolbox 等工具，对于熟悉这些工具的同学，理解接口和排查问题时应该会轻松些。</p><h3 id="结合专属海报"><a href="#结合专属海报" class="headerlink" title="结合专属海报"></a>结合专属海报</h3><p>从<a href="/2017/09/让webapp的UI体验更接近原生的小技巧/">上一篇文章</a>可以看出，专属海报属于小型网页应用，本身没有很复杂的构建过程，所以我选择gulp作为构建工具。</p><p>专属海报实现离线化，其资源可分为三类：</p><p>  1、应用自身逻辑和样式资源做预缓存（precaching）：在页面加载完成后就缓存到 Cache Storage，之后除非部署新版，都将从缓存读取资源</p><p>  <img src="http://wx3.sinaimg.cn/mw690/4d6e3e3bgy1fn0zd1rzz6j21kw0kldmf.jpg" alt="pwa"></p><p>  2、cdn库文件使用运行时缓存（runtime caching），读取时采用缓存优先（cache first）策略：使用到到时候从网络加载，第二次起从缓存加载</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">urlPattern </span>: <span class="string">'https://vendor-Url/(.*)'</span>,</span><br><span class="line">    <span class="attribute">handler</span>: <span class="string">'cacheFirst'</span>,</span><br><span class="line">    <span class="attribute">options</span>: &#123;</span><br><span class="line">      <span class="attribute">cacheableResponse</span>: &#123;</span><br><span class="line">        <span class="attribute">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attribute">urlPattern </span>: <span class="string">'https://CDN-Url/(.*)'</span>,</span><br><span class="line">    <span class="attribute">handler</span>: <span class="string">'cacheFirst'</span>,</span><br><span class="line">    <span class="attribute">options</span>: &#123;</span><br><span class="line">      <span class="attribute">cacheableResponse</span>: &#123;</span><br><span class="line">        <span class="attribute">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>  3、请求接口的数据使用运行时缓存（runtime caching），网络优先策略（network first）：优先通过网络读取，断网后从缓存读取，用于实现离线浏览（不可提交）</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">urlPattern </span>: <span class="string">'https://API-Url/(.*)'</span>,</span><br><span class="line">    <span class="attribute">handler</span>: <span class="string">'networkFirst'</span>,</span><br><span class="line">    <span class="attribute">options</span>: &#123;</span><br><span class="line">      <span class="attribute">cacheableResponse</span>: &#123;</span><br><span class="line">        <span class="attribute">statuses</span>: [<span class="number">0</span>, <span class="number">200</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>  完整的 gulp task 可<a href="https://gist.github.com/kainy/a40cfea1a514ef0e789a1943eb03d0ee" rel="external nofollow noopener noreferrer" target="_blank">参考配置</a> </p><h3 id="其他场景"><a href="#其他场景" class="headerlink" title="其他场景"></a>其他场景</h3><p>  对于更加复杂的项目，可能 workbox 提供的缓存策略无法满足你的需求，这就需要自己定制一些路由逻辑。</p><p>  对于复杂的<em>全新项目</em>，则可以考虑直接拿 lavas 生成脚手架，降低初始成本，不过感觉后续遇到问题，这些“省”下的时间还是要还回来的。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>  专属海报在开发中期就已接入 workbox1.X，但考虑到项目自身还未进入稳定状态，另一方面技术规范和客户端支持程度也不确定，而且缺乏效果监控方法。综合考虑收益和风险点，一直未在生产环境启用此特性，而目前随着 iOS 的支持和技术逐渐成熟，项目接入 PWA 的时机将趋近成熟。</p><p>  将新技术引入实际项目后，理论上应该解决的问题是否如预期得到解决，解决效果如何？下一篇将介绍通过在服务端定期记录 Lighthouse 跑分结果，来度量优化效果的一些思考。</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://developers.google.com/web/tools/workbox" rel="external nofollow noopener noreferrer" target="_blank">Google 开发者网站</a></p><p><a href="ttps://huangxuan.me/2017/07/12/upgrading-eleme-to-pwa" rel="external nofollow noopener noreferrer" target="_blank">饿了么的 PWA 升级实践</a></p><p><a href="http://www.zhangxinxu.com/wordpress/2017/07/service-worker-cachestorage-offline-develop" rel="external nofollow noopener noreferrer" target="_blank">借助Service Worker和cacheStorage缓存及离线开发</a></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2019/07/微海报2019改进/">微海报2019上半年的改进</a></li><li><a href="https://blogs.kainy.cn/2018/12/微海报2018前端性能回顾/">微海报2018前端性能回顾</a></li><li><a href="https://blogs.kainy.cn/2017/12/PWA在专属海报的应用/">WebApp实现离线化</a></li><li><a href="https://blogs.kainy.cn/2016/11/js合并优化实践/">js合并优化实践</a></li><li><a href="https://blogs.kainy.cn/2013/02/静态资源(JS、CSS)的版本化、优化及增量部署/">静态资源(JS、CSS)的版本化、优化及增量部署</a></li><li><a href="https://blogs.kainy.cn/2012/10/rel=canonical使用一例/">rel=canonical使用一例</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;定义问题&quot;&gt;&lt;a href=&quot;#定义问题&quot; class=&quot;headerlink&quot; title=&quot;定义问题&quot;&gt;&lt;/a&gt;定义问题&lt;/h3&gt;&lt;p&gt;由于业务发展&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="微海报" scheme="https://blogs.kainy.cn/tags/%E5%BE%AE%E6%B5%B7%E6%8A%A5/"/>
    
      <category term="图片" scheme="https://blogs.kainy.cn/tags/%E5%9B%BE%E7%89%87/"/>
    
      <category term="优化" scheme="https://blogs.kainy.cn/tags/%E4%BC%98%E5%8C%96/"/>
    
      <category term="技术" scheme="https://blogs.kainy.cn/tags/%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>通过小程序卡片打开APP获取参数的方法</title>
    <link href="https://blogs.kainy.cn/2018/02/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8D%A1%E7%89%87%E6%89%93%E5%BC%80APP%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>https://blogs.kainy.cn/2018/02/通过小程序卡片打开APP获取参数的方法/</id>
    <published>2018-02-02T10:50:35.000Z</published>
    <updated>2020-10-24T11:16:57.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><p>最近在研究小程序与 APP 互为补充，在营销业务中适用的场景。其中一个是 APP 中分享小程序卡片给微信好友，好友打开小程序卡片，参与活动后，跳回到 APP 中查看奖励或更多活动。</p><p>网上参考资料不多，请教了对这块比较了解的相关人士，记录一个。</p><a id="more"></a><h3 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h3><ul><li>APP 和小程序绑定同一个认证的开放平台账号</li><li>APP <a href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=1417694084&amp;token=7d65e489934a1bbe18bb7036d7c504af987fc7b5&amp;lang=zh_CN" rel="external nofollow noopener noreferrer" target="_blank">接入微信终端 SDK</a></li></ul><h3 id="具体方法"><a href="#具体方法" class="headerlink" title="具体方法"></a>具体方法</h3><p>通过 <code>open-type</code> 属性值设置为 <code>launchApp</code> 的 <code>&lt;button&gt;</code> 组件。</p><p>设置 <code>app-parameter</code> 传递的参数，</p><p>在我们的 APP 中可以通过 <code>onReq:(BaseReq*)reqonReq</code> 方法接收到 <code>req</code> 参数的 <code>req.message.messageExt</code> 获取到。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)onReq:(BaseReq *)req &#123;</span><br><span class="line">    WXMediaMessage *msg = req.message;</span><br><span class="line">    <span class="comment">//从微信启动App</span></span><br><span class="line">    <span class="built_in">NSString</span> *strMsg = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"openID: %@, messageExt:%@"</span>, req.openID, msg.messageExt];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, strMsg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h3><p><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1fo2ifdb9enj20ku11276w.jpg" alt="微信小程序卡片打开 APP"></p><p><img src="https://wx3.sinaimg.cn/mw690/4d6e3e3bgy1fo2ifc78xzj20ku1120uc.jpg" alt="APP 接收来自小程序通过 app-parameter 属性配置的参数"></p><div><hr><strong>为您推荐</strong><ul><li><a href="https://blogs.kainy.cn/2020/01/200102婚礼小程序/">婚礼小程序</a></li><li><a href="https://blogs.kainy.cn/2019/11/191119裂变营销海报小程序插件/">合成海报的小程序插件</a></li><li><a href="https://blogs.kainy.cn/2019/02/以webview为中心的小程序开发思考/">以webview为中心的小程序开发模式思考</a></li><li><a href="https://blogs.kainy.cn/2018/07/博客／资讯类网页在小程序中分享的方案/">小程序分享网页方案</a></li><li><a href="https://blogs.kainy.cn/2018/06/小程序工程化开发之：重构稿转为wxml/">小程序工程化开发之：重构稿转为wxml</a></li><li><a href="https://blogs.kainy.cn/2018/03/180328总在深夜放大招，小程序官方团队真的没有X生活？/">总在深夜放大招，小程序官方团队真的没有性生活？</a></li></ul></div>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;引入&quot;&gt;&lt;a href=&quot;#引入&quot; class=&quot;headerlink&quot; title=&quot;引入&quot;&gt;&lt;/a&gt;引入&lt;/h3&gt;&lt;p&gt;最近在研究小程序与 APP 互为补充，在营销业务中适用的场景。其中一个是 APP 中分享小程序卡片给微信好友，好友打开小程序卡片，参与活动后，跳回到 APP 中查看奖励或更多活动。&lt;/p&gt;
&lt;p&gt;网上参考资料不多，请教了对这块比较了解的相关人士，记录一个。&lt;/p&gt;
    
    </summary>
    
      <category term="学习笔记" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
      <category term="建站❤编程" scheme="https://blogs.kainy.cn/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BB%BA%E7%AB%99%E2%9D%A4%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="小程序" scheme="https://blogs.kainy.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="开发" scheme="https://blogs.kainy.cn/tags/%E5%BC%80%E5%8F%91/"/>
    
      <category term="APP" scheme="https://blogs.kainy.cn/tags/APP/"/>
    
  </entry>
  
</feed>
